var Za=Object.defineProperty;var Pi=e=>{throw TypeError(e)};var Ja=(e,x,n)=>x in e?Za(e,x,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[x]=n;var Gt=(e,x,n)=>Ja(e,typeof x!="symbol"?x+"":x,n),Rr=(e,x,n)=>x.has(e)||Pi("Cannot "+n);var u=(e,x,n)=>(Rr(e,x,"read from private field"),n?n.call(e):x.get(e)),Ee=(e,x,n)=>x.has(e)?Pi("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(e):x.set(e,n),ye=(e,x,n,y)=>(Rr(e,x,"write to private field"),y?y.call(e,n):x.set(e,n),n),ce=(e,x,n)=>(Rr(e,x,"access private method"),n);var Hn=(e,x,n,y)=>({set _(S){ye(e,x,S,n)},get _(){return u(e,x,y)}});import{r as requireReactDom,g as getAugmentedNamespace,a as requireReact,u as useStore,b as reactExports,j as jsxRuntimeExports,U as UI_TEXT,L as LiquidButton,I as Icons,S as SERVICES,E as ENGAGEMENT_MODELS,P as PORTFOLIO,B as BLOG_POSTS,s as settings,p as performanceMode}from"./index-Lh-2GRpp.js";var reactDomExports=requireReactDom(),lib$h={exports:{}},core_min={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(x,n){module.exports=x.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,((e,x)=>{var yt;Object.defineProperty(x,"__esModule",{value:!0}),x.VerbosityLevel=x.Util=x.UnknownErrorException=x.UnexpectedResponseException=x.TextRenderingMode=x.RenderingIntentFlag=x.PromiseCapability=x.PermissionFlag=x.PasswordResponses=x.PasswordException=x.PageActionEventType=x.OPS=x.MissingPDFException=x.MAX_IMAGE_SIZE_TO_CACHE=x.LINE_FACTOR=x.LINE_DESCENT_FACTOR=x.InvalidPDFException=x.ImageKind=x.IDENTITY_MATRIX=x.FormatError=x.FeatureTest=x.FONT_IDENTITY_MATRIX=x.DocumentActionEventType=x.CMapCompressionType=x.BaseException=x.BASELINE_FACTOR=x.AnnotationType=x.AnnotationReplyType=x.AnnotationPrefix=x.AnnotationMode=x.AnnotationFlag=x.AnnotationFieldFlag=x.AnnotationEditorType=x.AnnotationEditorPrefix=x.AnnotationEditorParamsType=x.AnnotationBorderStyleType=x.AnnotationActionEventType=x.AbortException=void 0,x.assert=F,x.bytesToString=Se,x.createValidAbsoluteUrl=J,x.getModificationDate=Ie,x.getUuid=$e,x.getVerbosityLevel=P,x.info=D,x.isArrayBuffer=se,x.isArrayEqual=Be,x.isNodeJS=void 0,x.normalizeUnicode=ze,x.objectFromMap=Te,x.objectSize=Me,x.setVerbosityLevel=B,x.shadow=R,x.string32=Ae,x.stringToBytes=xe,x.stringToPDFString=ue,x.stringToUTF8String=Ce,x.unreachable=H,x.utf8StringToString=Pe,x.warn=T;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");x.isNodeJS=n;const y=[1,0,0,1,0,0];x.IDENTITY_MATRIX=y;const S=[.001,0,0,.001,0,0];x.FONT_IDENTITY_MATRIX=S;const r=1e7;x.MAX_IMAGE_SIZE_TO_CACHE=r;const j=1.35;x.LINE_FACTOR=j;const Z=.35;x.LINE_DESCENT_FACTOR=Z;const X=Z/j;x.BASELINE_FACTOR=X;const V={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};x.RenderingIntentFlag=V;const A={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};x.AnnotationMode=A;const N="pdfjs_internal_editor_";x.AnnotationEditorPrefix=N;const C={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};x.AnnotationEditorType=C;const b={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};x.AnnotationEditorParamsType=b;const h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};x.PermissionFlag=h;const i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};x.TextRenderingMode=i;const d={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};x.ImageKind=d;const p={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};x.AnnotationType=p;const o={GROUP:"Group",REPLY:"R"};x.AnnotationReplyType=o;const M={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};x.AnnotationFlag=M;const m={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};x.AnnotationFieldFlag=m;const f={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};x.AnnotationBorderStyleType=f;const _={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};x.AnnotationActionEventType=_;const c={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};x.DocumentActionEventType=c;const a={O:"PageOpen",C:"PageClose"};x.PageActionEventType=a;const g={ERRORS:0,WARNINGS:1,INFOS:5};x.VerbosityLevel=g;const k={NONE:0,BINARY:1};x.CMapCompressionType=k;const t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};x.OPS=t;const s={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};x.PasswordResponses=s;let w=g.WARNINGS;function B(Le){Number.isInteger(Le)&&(w=Le)}function P(){return w}function D(Le){w>=g.INFOS&&console.log("Info: ".concat(Le))}function T(Le){w>=g.WARNINGS&&console.log("Warning: ".concat(Le))}function H(Le){throw new Error(Le)}function F(Le,pe){Le||H(pe)}function W(Le){switch(Le==null?void 0:Le.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function J(Le,pe=null,me=null){if(!Le)return null;try{if(me&&typeof Le=="string"){if(me.addDefaultProtocol&&Le.startsWith("www.")){const Je=Le.match(/\./g);(Je==null?void 0:Je.length)>=2&&(Le="http://".concat(Le))}if(me.tryConvertEncoding)try{Le=Ce(Le)}catch(Je){}}const Ke=pe?new URL(Le,pe):new URL(Le);if(W(Ke))return Ke}catch(Ke){}return null}function R(Le,pe,me,Ke=!1){return Object.defineProperty(Le,pe,{value:me,enumerable:!Ke,configurable:!0,writable:!1}),me}const l=(function(){function pe(me,Ke){this.constructor===pe&&H("Cannot initialize BaseException."),this.message=me,this.name=Ke}return pe.prototype=new Error,pe.constructor=pe,pe})();x.BaseException=l;class v extends l{constructor(pe,me){super(pe,"PasswordException"),this.code=me}}x.PasswordException=v;class L extends l{constructor(pe,me){super(pe,"UnknownErrorException"),this.details=me}}x.UnknownErrorException=L;class G extends l{constructor(pe){super(pe,"InvalidPDFException")}}x.InvalidPDFException=G;class z extends l{constructor(pe){super(pe,"MissingPDFException")}}x.MissingPDFException=z;class U extends l{constructor(pe,me){super(pe,"UnexpectedResponseException"),this.status=me}}x.UnexpectedResponseException=U;class ee extends l{constructor(pe){super(pe,"FormatError")}}x.FormatError=ee;class fe extends l{constructor(pe){super(pe,"AbortException")}}x.AbortException=fe;function Se(Le){(typeof Le!="object"||(Le==null?void 0:Le.length)===void 0)&&H("Invalid argument for bytesToString");const pe=Le.length,me=8192;if(pe<me)return String.fromCharCode.apply(null,Le);const Ke=[];for(let Je=0;Je<pe;Je+=me){const st=Math.min(Je+me,pe),Q=Le.subarray(Je,st);Ke.push(String.fromCharCode.apply(null,Q))}return Ke.join("")}function xe(Le){typeof Le!="string"&&H("Invalid argument for stringToBytes");const pe=Le.length,me=new Uint8Array(pe);for(let Ke=0;Ke<pe;++Ke)me[Ke]=Le.charCodeAt(Ke)&255;return me}function Ae(Le){return String.fromCharCode(Le>>24&255,Le>>16&255,Le>>8&255,Le&255)}function Me(Le){return Object.keys(Le).length}function Te(Le){const pe=Object.create(null);for(const[me,Ke]of Le)pe[me]=Ke;return pe}function de(){const Le=new Uint8Array(4);return Le[0]=1,new Uint32Array(Le.buffer,0,1)[0]===1}function he(){try{return new Function(""),!0}catch(Le){return!1}}class I{static get isLittleEndian(){return R(this,"isLittleEndian",de())}static get isEvalSupported(){return R(this,"isEvalSupported",he())}static get isOffscreenCanvasSupported(){return R(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?R(this,"platform",{isWin:!1,isMac:!1}):R(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var pe,me;return R(this,"isCSSRoundSupported",(me=(pe=globalThis.CSS)==null?void 0:pe.supports)==null?void 0:me.call(pe,"width: round(1.5px, 1px)"))}}x.FeatureTest=I;const q=[...Array(256).keys()].map(Le=>Le.toString(16).padStart(2,"0"));class re{static makeHexColor(pe,me,Ke){return"#".concat(q[pe]).concat(q[me]).concat(q[Ke])}static scaleMinMax(pe,me){let Ke;pe[0]?(pe[0]<0&&(Ke=me[0],me[0]=me[1],me[1]=Ke),me[0]*=pe[0],me[1]*=pe[0],pe[3]<0&&(Ke=me[2],me[2]=me[3],me[3]=Ke),me[2]*=pe[3],me[3]*=pe[3]):(Ke=me[0],me[0]=me[2],me[2]=Ke,Ke=me[1],me[1]=me[3],me[3]=Ke,pe[1]<0&&(Ke=me[2],me[2]=me[3],me[3]=Ke),me[2]*=pe[1],me[3]*=pe[1],pe[2]<0&&(Ke=me[0],me[0]=me[1],me[1]=Ke),me[0]*=pe[2],me[1]*=pe[2]),me[0]+=pe[4],me[1]+=pe[4],me[2]+=pe[5],me[3]+=pe[5]}static transform(pe,me){return[pe[0]*me[0]+pe[2]*me[1],pe[1]*me[0]+pe[3]*me[1],pe[0]*me[2]+pe[2]*me[3],pe[1]*me[2]+pe[3]*me[3],pe[0]*me[4]+pe[2]*me[5]+pe[4],pe[1]*me[4]+pe[3]*me[5]+pe[5]]}static applyTransform(pe,me){const Ke=pe[0]*me[0]+pe[1]*me[2]+me[4],Je=pe[0]*me[1]+pe[1]*me[3]+me[5];return[Ke,Je]}static applyInverseTransform(pe,me){const Ke=me[0]*me[3]-me[1]*me[2],Je=(pe[0]*me[3]-pe[1]*me[2]+me[2]*me[5]-me[4]*me[3])/Ke,st=(-pe[0]*me[1]+pe[1]*me[0]+me[4]*me[1]-me[5]*me[0])/Ke;return[Je,st]}static getAxialAlignedBoundingBox(pe,me){const Ke=this.applyTransform(pe,me),Je=this.applyTransform(pe.slice(2,4),me),st=this.applyTransform([pe[0],pe[3]],me),Q=this.applyTransform([pe[2],pe[1]],me);return[Math.min(Ke[0],Je[0],st[0],Q[0]),Math.min(Ke[1],Je[1],st[1],Q[1]),Math.max(Ke[0],Je[0],st[0],Q[0]),Math.max(Ke[1],Je[1],st[1],Q[1])]}static inverseTransform(pe){const me=pe[0]*pe[3]-pe[1]*pe[2];return[pe[3]/me,-pe[1]/me,-pe[2]/me,pe[0]/me,(pe[2]*pe[5]-pe[4]*pe[3])/me,(pe[4]*pe[1]-pe[5]*pe[0])/me]}static singularValueDecompose2dScale(pe){const me=[pe[0],pe[2],pe[1],pe[3]],Ke=pe[0]*me[0]+pe[1]*me[2],Je=pe[0]*me[1]+pe[1]*me[3],st=pe[2]*me[0]+pe[3]*me[2],Q=pe[2]*me[1]+pe[3]*me[3],Re=(Ke+Q)/2,He=Math.sqrt((Ke+Q)**2-4*(Ke*Q-st*Je))/2,Qe=Re+He||1,tt=Re-He||1;return[Math.sqrt(Qe),Math.sqrt(tt)]}static normalizeRect(pe){const me=pe.slice(0);return pe[0]>pe[2]&&(me[0]=pe[2],me[2]=pe[0]),pe[1]>pe[3]&&(me[1]=pe[3],me[3]=pe[1]),me}static intersect(pe,me){const Ke=Math.max(Math.min(pe[0],pe[2]),Math.min(me[0],me[2])),Je=Math.min(Math.max(pe[0],pe[2]),Math.max(me[0],me[2]));if(Ke>Je)return null;const st=Math.max(Math.min(pe[1],pe[3]),Math.min(me[1],me[3])),Q=Math.min(Math.max(pe[1],pe[3]),Math.max(me[1],me[3]));return st>Q?null:[Ke,st,Je,Q]}static bezierBoundingBox(pe,me,Ke,Je,st,Q,Re,He){const Qe=[],tt=[[],[]];let Xe,Y,K,ae,we,ke,Fe,Ne;for(let xt=0;xt<2;++xt){if(xt===0?(Y=6*pe-12*Ke+6*st,Xe=-3*pe+9*Ke-9*st+3*Re,K=3*Ke-3*pe):(Y=6*me-12*Je+6*Q,Xe=-3*me+9*Je-9*Q+3*He,K=3*Je-3*me),Math.abs(Xe)<1e-12){if(Math.abs(Y)<1e-12)continue;ae=-K/Y,0<ae&&ae<1&&Qe.push(ae);continue}Fe=Y*Y-4*K*Xe,Ne=Math.sqrt(Fe),!(Fe<0)&&(we=(-Y+Ne)/(2*Xe),0<we&&we<1&&Qe.push(we),ke=(-Y-Ne)/(2*Xe),0<ke&&ke<1&&Qe.push(ke))}let et=Qe.length,Ze;const Ue=et;for(;et--;)ae=Qe[et],Ze=1-ae,tt[0][et]=Ze*Ze*Ze*pe+3*Ze*Ze*ae*Ke+3*Ze*ae*ae*st+ae*ae*ae*Re,tt[1][et]=Ze*Ze*Ze*me+3*Ze*Ze*ae*Je+3*Ze*ae*ae*Q+ae*ae*ae*He;return tt[0][Ue]=pe,tt[1][Ue]=me,tt[0][Ue+1]=Re,tt[1][Ue+1]=He,tt[0].length=tt[1].length=Ue+2,[Math.min(...tt[0]),Math.min(...tt[1]),Math.max(...tt[0]),Math.max(...tt[1])]}}x.Util=re;const ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ue(Le){if(Le[0]>="ï"){let me;if(Le[0]==="þ"&&Le[1]==="ÿ"?me="utf-16be":Le[0]==="ÿ"&&Le[1]==="þ"?me="utf-16le":Le[0]==="ï"&&Le[1]==="»"&&Le[2]==="¿"&&(me="utf-8"),me)try{const Ke=new TextDecoder(me,{fatal:!0}),Je=xe(Le);return Ke.decode(Je)}catch(Ke){T('stringToPDFString: "'.concat(Ke,'".'))}}const pe=[];for(let me=0,Ke=Le.length;me<Ke;me++){const Je=ie[Le.charCodeAt(me)];pe.push(Je?String.fromCharCode(Je):Le.charAt(me))}return pe.join("")}function Ce(Le){return decodeURIComponent(escape(Le))}function Pe(Le){return unescape(encodeURIComponent(Le))}function se(Le){return typeof Le=="object"&&(Le==null?void 0:Le.byteLength)!==void 0}function Be(Le,pe){if(Le.length!==pe.length)return!1;for(let me=0,Ke=Le.length;me<Ke;me++)if(Le[me]!==pe[me])return!1;return!0}function Ie(Le=new Date){return[Le.getUTCFullYear().toString(),(Le.getUTCMonth()+1).toString().padStart(2,"0"),Le.getUTCDate().toString().padStart(2,"0"),Le.getUTCHours().toString().padStart(2,"0"),Le.getUTCMinutes().toString().padStart(2,"0"),Le.getUTCSeconds().toString().padStart(2,"0")].join("")}class it{constructor(){Ee(this,yt,!1);this.promise=new Promise((pe,me)=>{this.resolve=Ke=>{ye(this,yt,!0),pe(Ke)},this.reject=Ke=>{ye(this,yt,!0),me(Ke)}})}get settled(){return u(this,yt)}}yt=new WeakMap,x.PromiseCapability=it;let Ye=null,pt=null;function ze(Le){return Ye||(Ye=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pt=new Map([["ﬅ","ſt"]])),Le.replaceAll(Ye,(pe,me,Ke)=>me?me.normalize("NFKC"):pt.get(Ke))}function $e(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Le=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Le);else for(let pe=0;pe<32;pe++)Le[pe]=Math.floor(Math.random()*255);return Se(Le)}const at="pdfjs_internal_id_";x.AnnotationPrefix=at}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var e,n,y,S,In,rr,Z,X,V,A,N,C,b,h,i,ir,p,o,Mr,m,f;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(c){var Ie,it;if(typeof c=="string"||c instanceof URL?c={url:c}:(0,_util.isArrayBuffer)(c)&&(c={data:c}),typeof c!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!c.url&&!c.data&&!c.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const a=new PDFDocumentLoadingTask,{docId:g}=a,k=c.url?getUrlProp(c.url):null,t=c.data?getDataProp(c.data):null,s=c.httpHeaders||null,w=c.withCredentials===!0,B=(Ie=c.password)!=null?Ie:null,P=c.range instanceof PDFDataRangeTransport?c.range:null,D=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let T=c.worker instanceof PDFWorker?c.worker:null;const H=c.verbosity,F=typeof c.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(c.docBaseUrl)?c.docBaseUrl:null,W=typeof c.cMapUrl=="string"?c.cMapUrl:null,J=c.cMapPacked!==!1,R=c.CMapReaderFactory||DefaultCMapReaderFactory,l=typeof c.standardFontDataUrl=="string"?c.standardFontDataUrl:null,v=c.StandardFontDataFactory||DefaultStandardFontDataFactory,L=c.stopAtErrors!==!0,G=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,z=c.isEvalSupported!==!1,U=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!_util.isNodeJS,ee=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,fe=typeof c.disableFontFace=="boolean"?c.disableFontFace:_util.isNodeJS,Se=c.fontExtraProperties===!0,xe=c.enableXfa===!0,Ae=c.ownerDocument||globalThis.document,Me=c.disableRange===!0,Te=c.disableStream===!0,de=c.disableAutoFetch===!0,he=c.pdfBug===!0,I=P?P.length:(it=c.length)!=null?it:NaN,q=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!_util.isNodeJS&&!fe,re=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:R===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&W&&l&&(0,_display_utils.isValidFetchUrl)(W,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(l,document.baseURI),ie=c.canvasFactory||new DefaultCanvasFactory({ownerDocument:Ae}),ue=c.filterFactory||new DefaultFilterFactory({docId:g,ownerDocument:Ae}),Ce=null;(0,_util.setVerbosityLevel)(H);const Pe={canvasFactory:ie,filterFactory:ue};if(re||(Pe.cMapReaderFactory=new R({baseUrl:W,isCompressed:J}),Pe.standardFontDataFactory=new v({baseUrl:l})),!T){const Ye={verbosity:H,port:_worker_options.GlobalWorkerOptions.workerPort};T=Ye.port?PDFWorker.fromPort(Ye):new PDFWorker(Ye),a._worker=T}const se={docId:g,apiVersion:"3.11.174",data:t,password:B,disableAutoFetch:de,rangeChunkSize:D,length:I,docBaseUrl:F,enableXfa:xe,evaluatorOptions:{maxImageSize:G,disableFontFace:fe,ignoreErrors:L,isEvalSupported:z,isOffscreenCanvasSupported:U,canvasMaxAreaInBytes:ee,fontExtraProperties:Se,useSystemFonts:q,cMapUrl:re?W:null,standardFontDataUrl:re?l:null}},Be={ignoreErrors:L,isEvalSupported:z,disableFontFace:fe,fontExtraProperties:Se,enableXfa:xe,ownerDocument:Ae,disableAutoFetch:de,pdfBug:he,styleElement:Ce};return T.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const Ye=_fetchDocument(T,se),pt=new Promise(function(ze){let $e;P?$e=new _transport_stream.PDFDataTransportStream({length:I,initialData:P.initialData,progressiveDone:P.progressiveDone,contentDispositionFilename:P.contentDispositionFilename,disableRange:Me,disableStream:Te},P):t||($e=(yt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(yt):(0,_display_utils.isValidFetchUrl)(yt.url)?new _displayFetch_stream.PDFFetchStream(yt):new _displayNetwork.PDFNetworkStream(yt))({url:k,length:I,httpHeaders:s,withCredentials:w,rangeChunkSize:D,disableRange:Me,disableStream:Te})),ze($e)});return Promise.all([Ye,pt]).then(function([ze,$e]){if(a.destroyed)throw new Error("Loading aborted");const at=new _message_handler.MessageHandler(g,ze,T.port),yt=new WorkerTransport(at,a,$e,Be,Pe);a._transport=yt,at.send("Ready",null)})}).catch(a._capability.reject),a}async function _fetchDocument(c,a){if(c.destroyed)throw new Error("Worker was destroyed");const g=await c.messageHandler.sendWithPromise("GetDocRequest",a,a.data?[a.data.buffer]:null);if(c.destroyed)throw new Error("Worker was destroyed");return g}function getUrlProp(c){if(c instanceof URL)return c.href;try{return new URL(c,window.location).href}catch(a){if(_util.isNodeJS&&typeof c=="string")return c}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(c){if(_util.isNodeJS&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return(0,_util.stringToBytes)(c);if(typeof c=="object"&&!isNaN(c==null?void 0:c.length)||(0,_util.isArrayBuffer)(c))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const x=class x{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat(Hn(x,e)._++),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var a,g,k;this.destroyed=!0;try{(a=this._worker)!=null&&a.port&&(this._worker._pendingDestroy=!0),await((g=this._transport)==null?void 0:g.destroy())}catch(t){throw(k=this._worker)!=null&&k.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Ee(x,e,0);let PDFDocumentLoadingTask=x;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,g,k=!1,t=null){this.length=a,this.initialData=g,this.progressiveDone=k,this.contentDispositionFilename=t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,g){for(const k of this._rangeListeners)k(a,g)}onDataProgress(a,g){this._readyCapability.promise.then(()=>{for(const k of this._progressListeners)k(a,g)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const g of this._progressiveReadListeners)g(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,g){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,g){this._pdfInfo=a,this._transport=g,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(k=>{if(!k)return k;const t=[];for(const s in k)t.push(...k[s]);return t}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,g,k,t=!1){Ee(this,S);Ee(this,n,null);Ee(this,y,!1);this._pageIndex=a,this._pageInfo=g,this._transport=k,this._stats=t?new _display_utils.StatTimer:null,this._pdfBug=t,this.commonObjs=k.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:g=this.rotate,offsetX:k=0,offsetY:t=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:g,offsetX:k,offsetY:t,dontFlip:s})}getAnnotations({intent:a="display"}={}){const g=this._transport.getRenderingIntent(a);return this._transport.getAnnotations(this._pageIndex,g.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var a;return((a=this._transport._htmlForXfa)==null?void 0:a.children[this._pageIndex])||null}render({canvasContext:a,viewport:g,intent:k="display",annotationMode:t=_util.AnnotationMode.ENABLE,transform:s=null,background:w=null,optionalContentConfigPromise:B=null,annotationCanvasMap:P=null,pageColors:D=null,printAnnotationStorage:T=null}){var v,L;(v=this._stats)==null||v.time("Overall");const H=this._transport.getRenderingIntent(k,t,T);ye(this,y,!1),ce(this,S,rr).call(this),B||(B=this._transport.getOptionalContentConfig());let F=this._intentStates.get(H.cacheKey);F||(F=Object.create(null),this._intentStates.set(H.cacheKey,F)),F.streamReaderCancelTimeout&&(clearTimeout(F.streamReaderCancelTimeout),F.streamReaderCancelTimeout=null);const W=!!(H.renderingIntent&_util.RenderingIntentFlag.PRINT);F.displayReadyCapability||(F.displayReadyCapability=new _util.PromiseCapability,F.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(H));const J=G=>{var z,U;F.renderTasks.delete(R),(this._maybeCleanupAfterRender||W)&&ye(this,y,!0),ce(this,S,In).call(this,!W),G?(R.capability.reject(G),this._abortOperatorList({intentState:F,reason:G instanceof Error?G:new Error(G)})):R.capability.resolve(),(z=this._stats)==null||z.timeEnd("Rendering"),(U=this._stats)==null||U.timeEnd("Overall")},R=new InternalRenderTask({callback:J,params:{canvasContext:a,viewport:g,transform:s,background:w},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:P,operatorList:F.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!W,pdfBug:this._pdfBug,pageColors:D});(F.renderTasks||(F.renderTasks=new Set)).add(R);const l=R.task;return Promise.all([F.displayReadyCapability.promise,B]).then(([G,z])=>{var U;if(this.destroyed){J();return}(U=this._stats)==null||U.time("Rendering"),R.initializeGraphics({transparency:G,optionalContentConfig:z}),R.operatorListChanged()}).catch(J),l}getOperatorList({intent:a="display",annotationMode:g=_util.AnnotationMode.ENABLE,printAnnotationStorage:k=null}={}){var P;function t(){w.operatorList.lastChunk&&(w.opListReadCapability.resolve(w.operatorList),w.renderTasks.delete(B))}const s=this._transport.getRenderingIntent(a,g,k,!0);let w=this._intentStates.get(s.cacheKey);w||(w=Object.create(null),this._intentStates.set(s.cacheKey,w));let B;return w.opListReadCapability||(B=Object.create(null),B.operatorListChanged=t,w.opListReadCapability=new _util.PromiseCapability,(w.renderTasks||(w.renderTasks=new Set)).add(B),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(s)),w.opListReadCapability.promise}streamTextContent({includeMarkedContent:a=!1,disableNormalization:g=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:a===!0,disableNormalization:g===!0},{highWaterMark:100,size(t){return t.items.length}})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(k=>_xfa_text.XfaText.textContent(k));const g=this.streamTextContent(a);return new Promise(function(k,t){function s(){w.read().then(function({value:P,done:D}){if(D){k(B);return}Object.assign(B.styles,P.styles),B.items.push(...P.items),s()},t)}const w=g.getReader(),B={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const g of this._intentStates.values())if(this._abortOperatorList({intentState:g,reason:new Error("Page was destroyed."),force:!0}),!g.opListReadCapability)for(const k of g.renderTasks)a.push(k.completed),k.cancel();return this.objs.clear(),ye(this,y,!1),ce(this,S,rr).call(this),Promise.all(a)}cleanup(a=!1){ye(this,y,!0);const g=ce(this,S,In).call(this,!1);return a&&g&&this._stats&&(this._stats=new _display_utils.StatTimer),g}_startRenderPage(a,g){var t,s;const k=this._intentStates.get(g);k&&((t=this._stats)==null||t.timeEnd("Page Request"),(s=k.displayReadyCapability)==null||s.resolve(a))}_renderPageChunk(a,g){for(let k=0,t=a.length;k<t;k++)g.operatorList.fnArray.push(a.fnArray[k]),g.operatorList.argsArray.push(a.argsArray[k]);g.operatorList.lastChunk=a.lastChunk,g.operatorList.separateAnnots=a.separateAnnots;for(const k of g.renderTasks)k.operatorListChanged();a.lastChunk&&ce(this,S,In).call(this,!0)}_pumpOperatorList({renderingIntent:a,cacheKey:g,annotationStorageSerializable:k}){const{map:t,transfers:s}=k,B=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:g,annotationStorage:t},s).getReader(),P=this._intentStates.get(g);P.streamReader=B;const D=()=>{B.read().then(({value:T,done:H})=>{if(H){P.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(T,P),D())},T=>{if(P.streamReader=null,!this._transport.destroyed){if(P.operatorList){P.operatorList.lastChunk=!0;for(const H of P.renderTasks)H.operatorListChanged();ce(this,S,In).call(this,!0)}if(P.displayReadyCapability)P.displayReadyCapability.reject(T);else if(P.opListReadCapability)P.opListReadCapability.reject(T);else throw T}})};D()}_abortOperatorList({intentState:a,reason:g,force:k=!1}){if(a.streamReader){if(a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null),!k){if(a.renderTasks.size>0)return;if(g instanceof _display_utils.RenderingCancelledException){let t=RENDERING_CANCELLED_TIMEOUT;g.extraDelay>0&&g.extraDelay<1e3&&(t+=g.extraDelay),a.streamReaderCancelTimeout=setTimeout(()=>{a.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:a,reason:g,force:!0})},t);return}}if(a.streamReader.cancel(new _util.AbortException(g.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[t,s]of this._intentStates)if(s===a){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}n=new WeakMap,y=new WeakMap,S=new WeakSet,In=function(a=!1){if(ce(this,S,rr).call(this),!u(this,y)||this.destroyed)return!1;if(a)return ye(this,n,setTimeout(()=>{ye(this,n,null),ce(this,S,In).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:g,operatorList:k}of this._intentStates.values())if(g.size>0||!k.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ye(this,y,!1),!0},rr=function(){u(this,n)&&(clearTimeout(u(this,n)),ye(this,n,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Ee(this,Z,new Set);Ee(this,X,Promise.resolve())}postMessage(a,g){const k={data:structuredClone(a,g?{transfer:g}:null)};u(this,X).then(()=>{for(const t of u(this,Z))t.call(this,k)})}addEventListener(a,g){u(this,Z).add(g)}removeEventListener(a,g){u(this,Z).delete(g)}terminate(){u(this,Z).clear()}}Z=new WeakMap,X=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const c=(V=document==null?void 0:document.currentScript)==null?void 0:V.src;c&&(PDFWorkerUtil.fallbackWorkerSrc=c.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(c,a){let g;try{if(g=new URL(c),!g.origin||g.origin==="null")return!1}catch(t){return!1}const k=new URL(a,g);return g.origin===k.origin},PDFWorkerUtil.createCDNWrapper=function(c){const a='importScripts("'.concat(c,'");');return URL.createObjectURL(new Blob([a]))}}const _PDFWorker=class _PDFWorker{constructor({name:c=null,port:a=null,verbosity:g=(0,_util.getVerbosityLevel)()}={}){var k;if(this.name=c,this.destroyed=!1,this.verbosity=g,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,a){if((k=u(_PDFWorker,A))!=null&&k.has(a))throw new Error("Cannot use more than one PDFWorker per port.");(u(_PDFWorker,A)||ye(_PDFWorker,A,new WeakMap)).set(a,this),this._initializeFromPort(a);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(c){this._port=c,this._messageHandler=new _message_handler.MessageHandler("main","worker",c),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:c}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,c)||(c=PDFWorkerUtil.createCDNWrapper(new URL(c,window.location).href));const a=new Worker(c),g=new _message_handler.MessageHandler("main","worker",a),k=()=>{a.removeEventListener("error",t),g.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},t=()=>{this._webWorker||k()};a.addEventListener("error",t),g.on("test",w=>{if(a.removeEventListener("error",t),this.destroyed){k();return}w?(this._messageHandler=g,this._port=a,this._webWorker=a,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),g.destroy(),a.terminate())}),g.on("ready",w=>{if(a.removeEventListener("error",t),this.destroyed){k();return}try{s()}catch(B){this._setupFakeWorker()}});const s=()=>{const w=new Uint8Array;g.send("test",w,[w.buffer])};s();return}catch(a){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(c=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const a=new LoopbackPort;this._port=a;const g="fake".concat(PDFWorkerUtil.fakeWorkerId++),k=new _message_handler.MessageHandler(g+"_worker",g,a);c.setup(k,a);const t=new _message_handler.MessageHandler(g,g+"_worker",a);this._messageHandler=t,this._readyCapability.resolve(),t.send("configure",{verbosity:this.verbosity})}).catch(c=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(c.message,'".')))})}destroy(){var c;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(c=u(_PDFWorker,A))==null||c.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(c){var g;if(!(c!=null&&c.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const a=(g=u(this,A))==null?void 0:g.get(c.port);if(a){if(a._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return a}return new _PDFWorker(c)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var c;try{return((c=globalThis.pdfjsWorker)==null?void 0:c.WorkerMessageHandler)||null}catch(a){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};A=new WeakMap,Ee(_PDFWorker,A);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(a,g,k,t,s){Ee(this,i);Ee(this,N,new Map);Ee(this,C,new Map);Ee(this,b,new Map);Ee(this,h,null);this.messageHandler=a,this.loadingTask=g,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:t.ownerDocument,styleElement:t.styleElement}),this._params=t,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=k,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(a,g=_util.AnnotationMode.ENABLE,k=null,t=!1){let s=_util.RenderingIntentFlag.DISPLAY,w=_annotation_storage.SerializableEmpty;switch(a){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(a))}switch(g){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,w=(s&_util.RenderingIntentFlag.PRINT&&k instanceof _annotation_storage.PrintAnnotationStorage?k:this.annotationStorage).serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(g))}return t&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:"".concat(s,"_").concat(w.hash),annotationStorageSerializable:w}}destroy(){var k;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(k=u(this,h))==null||k.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const t of u(this,C).values())a.push(t._destroy());u(this,C).clear(),u(this,b).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const g=this.messageHandler.sendWithPromise("Terminate",null);return a.push(g),Promise.all(a).then(()=>{var t;this.commonObjs.clear(),this.fontLoader.clear(),u(this,N).clear(),this.filterFactory.destroy(),(t=this._networkStream)==null||t.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:g}=this;a.on("GetReader",(k,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},t.onPull=()=>{this._fullReader.read().then(function({value:s,done:w}){if(w){t.close();return}(0,_util.assert)(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{t.error(s)})},t.onCancel=s=>{this._fullReader.cancel(s),t.ready.catch(w=>{if(!this.destroyed)throw w})}}),a.on("ReaderHeadersReady",k=>{const t=new _util.PromiseCapability,s=this._fullReader;return s.headersReady.then(()=>{var w;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((w=g.onProgress)==null||w.call(g,this._lastProgress)),s.onProgress=B=>{var P;(P=g.onProgress)==null||P.call(g,{loaded:B.loaded,total:B.total})}),t.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},t.reject),t.promise}),a.on("GetRangeReader",(k,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(k.begin,k.end);if(!s){t.close();return}t.onPull=()=>{s.read().then(function({value:w,done:B}){if(B){t.close();return}(0,_util.assert)(w instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(w),1,[w])}).catch(w=>{t.error(w)})},t.onCancel=w=>{s.cancel(w),t.ready.catch(B=>{if(!this.destroyed)throw B})}}),a.on("GetDoc",({pdfInfo:k})=>{this._numPages=k.numPages,this._htmlForXfa=k.htmlForXfa,delete k.htmlForXfa,g._capability.resolve(new PDFDocumentProxy(k,this))}),a.on("DocException",function(k){let t;switch(k.name){case"PasswordException":t=new _util.PasswordException(k.message,k.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(k.message);break;case"MissingPDFException":t=new _util.MissingPDFException(k.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(k.message,k.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(k.message,k.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}g._capability.reject(t)}),a.on("PasswordRequest",k=>{if(ye(this,h,new _util.PromiseCapability),g.onPassword){const t=s=>{s instanceof Error?u(this,h).reject(s):u(this,h).resolve({password:s})};try{g.onPassword(t,k.code)}catch(s){u(this,h).reject(s)}}else u(this,h).reject(new _util.PasswordException(k.message,k.code));return u(this,h).promise}),a.on("DataLoaded",k=>{var t;(t=g.onProgress)==null||t.call(g,{loaded:k.length,total:k.length}),this.downloadInfoCapability.resolve(k)}),a.on("StartRenderPage",k=>{if(this.destroyed)return;u(this,C).get(k.pageIndex)._startRenderPage(k.transparency,k.cacheKey)}),a.on("commonobj",([k,t,s])=>{var w;if(!this.destroyed&&!this.commonObjs.has(k))switch(t){case"Font":const B=this._params;if("error"in s){const T=s.error;(0,_util.warn)("Error during font loading: ".concat(T)),this.commonObjs.resolve(k,T);break}const P=B.pdfBug&&((w=globalThis.FontInspector)!=null&&w.enabled)?(T,H)=>globalThis.FontInspector.fontAdded(T,H):null,D=new _font_loader.FontFaceObject(s,{isEvalSupported:B.isEvalSupported,disableFontFace:B.disableFontFace,ignoreErrors:B.ignoreErrors,inspectFont:P});this.fontLoader.bind(D).catch(T=>a.sendWithPromise("FontFallback",{id:k})).finally(()=>{!B.fontExtraProperties&&D.data&&(D.data=null),this.commonObjs.resolve(k,D)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(k,s);break;default:throw new Error("Got unknown common object type ".concat(t))}}),a.on("obj",([k,t,s,w])=>{var P;if(this.destroyed)return;const B=u(this,C).get(t);if(!B.objs.has(k))switch(s){case"Image":if(B.objs.resolve(k,w),w){let D;if(w.bitmap){const{width:T,height:H}=w;D=T*H*4}else D=((P=w.data)==null?void 0:P.length)||0;D>_util.MAX_IMAGE_SIZE_TO_CACHE&&(B._maybeCleanupAfterRender=!0)}break;case"Pattern":B.objs.resolve(k,w);break;default:throw new Error("Got unknown object type ".concat(s))}}),a.on("DocProgress",k=>{var t;this.destroyed||(t=g.onProgress)==null||t.call(g,{loaded:k.loaded,total:k.total})}),a.on("FetchBuiltInCMap",k=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(k):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",k=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(k):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var k,t;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:a,transfers:g}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:a,filename:(t=(k=this._fullReader)==null?void 0:k.filename)!=null?t:null},g).finally(()=>{this.annotationStorage.resetModified()})}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const g=a-1,k=u(this,b).get(g);if(k)return k;const t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:g}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");const w=new PDFPageProxy(g,s,this,this._params.pdfBug);return u(this,C).set(g,w),w});return u(this,b).set(g,t),t}getPageIndex(a){return typeof a!="object"||a===null||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,g){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:g})}getFieldObjects(){return ce(this,i,ir).call(this,"GetFieldObjects")}hasJSActions(){return ce(this,i,ir).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return typeof a!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ce(this,i,ir).call(this,"GetDocJSActions")}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const a="GetMetadata",g=u(this,N).get(a);if(g)return g;const k=this.messageHandler.sendWithPromise(a,null).then(t=>{var s,w,B,P;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:(w=(s=this._fullReader)==null?void 0:s.filename)!=null?w:null,contentLength:(P=(B=this._fullReader)==null?void 0:B.contentLength)!=null?P:null}});return u(this,N).set(a,k),k}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(a=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const g of u(this,C).values())if(!g.cleanup())throw new Error("startCleanup: Page ".concat(g.pageNumber," is currently rendering."));this.commonObjs.clear(),a||this.fontLoader.clear(),u(this,N).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:a,enableXfa:g}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a,enableXfa:g})}}N=new WeakMap,C=new WeakMap,b=new WeakMap,h=new WeakMap,i=new WeakSet,ir=function(a,g=null){const k=u(this,N).get(a);if(k)return k;const t=this.messageHandler.sendWithPromise(a,g);return u(this,N).set(a,t),t};class PDFObjects{constructor(){Ee(this,o);Ee(this,p,Object.create(null))}get(a,g=null){if(g){const t=ce(this,o,Mr).call(this,a);return t.capability.promise.then(()=>g(t.data)),null}const k=u(this,p)[a];if(!(k!=null&&k.capability.settled))throw new Error("Requesting object that isn't resolved yet ".concat(a,"."));return k.data}has(a){const g=u(this,p)[a];return(g==null?void 0:g.capability.settled)||!1}resolve(a,g=null){const k=ce(this,o,Mr).call(this,a);k.data=g,k.capability.resolve()}clear(){var a;for(const g in u(this,p)){const{data:k}=u(this,p)[g];(a=k==null?void 0:k.bitmap)==null||a.close()}ye(this,p,Object.create(null))}}p=new WeakMap,o=new WeakSet,Mr=function(a){var g;return(g=u(this,p))[a]||(g[a]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(a){Ee(this,m,null);ye(this,m,a),this.onContinue=null}get promise(){return u(this,m).capability.promise}cancel(a=0){u(this,m).cancel(null,a)}get separateAnnots(){const{separateAnnots:a}=u(this,m).operatorList;if(!a)return!1;const{annotationCanvasMap:g}=u(this,m);return a.form||a.canvas&&(g==null?void 0:g.size)>0}}m=new WeakMap,exports$1.RenderTask=RenderTask;const _=class _{constructor({callback:a,params:g,objs:k,commonObjs:t,annotationCanvasMap:s,operatorList:w,pageIndex:B,canvasFactory:P,filterFactory:D,useRequestAnimationFrame:T=!1,pdfBug:H=!1,pageColors:F=null}){this.callback=a,this.params=g,this.objs=k,this.commonObjs=t,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=w,this._pageIndex=B,this.canvasFactory=P,this.filterFactory=D,this._pdfBug=H,this.pageColors=F,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=T===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=g.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:g}){var B,P;if(this.cancelled)return;if(this._canvas){if(u(_,f).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(_,f).add(this._canvas)}this._pdfBug&&((B=globalThis.StepperManager)!=null&&B.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:k,viewport:t,transform:s,background:w}=this.params;this.gfx=new _canvas.CanvasGraphics(k,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:g},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:t,transparency:a,background:w}),this.operatorListIdx=0,this.graphicsReady=!0,(P=this.graphicsReadyCallback)==null||P.call(this)}cancel(a=null,g=0){var k;this.running=!1,this.cancelled=!0,(k=this.gfx)==null||k.endDrawing(),u(_,f).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),g))}operatorListChanged(){var a;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(a=this.stepper)==null||a.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(_,f).delete(this._canvas),this.callback())))}};f=new WeakMap,Ee(_,f,new WeakSet);let InternalRenderTask=_;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((e,x,n)=>{var V,A,N,Ri,b;Object.defineProperty(x,"__esModule",{value:!0}),x.SerializableEmpty=x.PrintAnnotationStorage=x.AnnotationStorage=void 0;var y=n(1),S=n(4),r=n(8);const j=Object.freeze({map:null,hash:"",transfers:void 0});x.SerializableEmpty=j;class Z{constructor(){Ee(this,N);Ee(this,V,!1);Ee(this,A,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(i,d){const p=u(this,A).get(i);return p===void 0?d:Object.assign(d,p)}getRawValue(i){return u(this,A).get(i)}remove(i){if(u(this,A).delete(i),u(this,A).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const d of u(this,A).values())if(d instanceof S.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(i,d){const p=u(this,A).get(i);let o=!1;if(p!==void 0)for(const[M,m]of Object.entries(d))p[M]!==m&&(o=!0,p[M]=m);else o=!0,u(this,A).set(i,d);o&&ce(this,N,Ri).call(this),d instanceof S.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(d.constructor._type)}has(i){return u(this,A).has(i)}getAll(){return u(this,A).size>0?(0,y.objectFromMap)(u(this,A)):null}setAll(i){for(const[d,p]of Object.entries(i))this.setValue(d,p)}get size(){return u(this,A).size}resetModified(){u(this,V)&&(ye(this,V,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new X(this)}get serializable(){if(u(this,A).size===0)return j;const i=new Map,d=new r.MurmurHash3_64,p=[],o=Object.create(null);let M=!1;for(const[m,f]of u(this,A)){const _=f instanceof S.AnnotationEditor?f.serialize(!1,o):f;_&&(i.set(m,_),d.update("".concat(m,":").concat(JSON.stringify(_))),M||(M=!!_.bitmap))}if(M)for(const m of i.values())m.bitmap&&p.push(m.bitmap);return i.size>0?{map:i,hash:d.hexdigest(),transfers:p}:j}}V=new WeakMap,A=new WeakMap,N=new WeakSet,Ri=function(){u(this,V)||(ye(this,V,!0),typeof this.onSetModified=="function"&&this.onSetModified())},x.AnnotationStorage=Z;class X extends Z{constructor(d){super();Ee(this,b);const{map:p,hash:o,transfers:M}=d.serializable,m=structuredClone(p,M?{transfer:M}:null);ye(this,b,{map:m,hash:o,transfers:M})}get print(){(0,y.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,b)}}b=new WeakMap,x.PrintAnnotationStorage=X}),((e,x,n)=>{var X,V,A,N,C,b,h,i,d,p,o,M,m,f,_,Tr,Lr,g,Fr,Ir,Mi,Ti,Li,Dr,Fi;Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationEditor=void 0;var y=n(5),S=n(1),r=n(6);const T=class T{constructor(F){Ee(this,_);Ee(this,X,"");Ee(this,V,!1);Ee(this,A,null);Ee(this,N,null);Ee(this,C,null);Ee(this,b,!1);Ee(this,h,null);Ee(this,i,this.focusin.bind(this));Ee(this,d,this.focusout.bind(this));Ee(this,p,!1);Ee(this,o,!1);Ee(this,M,!1);Gt(this,"_initialOptions",Object.create(null));Gt(this,"_uiManager",null);Gt(this,"_focusEventsAllowed",!0);Gt(this,"_l10nPromise",null);Ee(this,m,!1);Ee(this,f,T._zIndex++);this.constructor===T&&(0,S.unreachable)("Cannot initialize AnnotationEditor."),this.parent=F.parent,this.id=F.id,this.width=this.height=null,this.pageIndex=F.parent.pageIndex,this.name=F.name,this.div=null,this._uiManager=F.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=F.isCentered,this._structTreeParentId=null;const{rotation:W,rawDims:{pageWidth:J,pageHeight:R,pageX:l,pageY:v}}=this.parent.viewport;this.rotation=W,this.pageRotation=(360+W-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[J,R],this.pageTranslation=[l,v];const[L,G]=this.parentDimensions;this.x=F.x/L,this.y=F.y/G,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,S.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(F){const W=new Z({id:F.parent.getNextId(),parent:F.parent,uiManager:F._uiManager});W.annotationElementId=F.annotationElementId,W.deleted=!0,W._uiManager.addToAnnotationStorage(W)}static initialize(F,W=null){if(T._l10nPromise||(T._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(R=>[R,F.get(R)]))),W!=null&&W.strings)for(const R of W.strings)T._l10nPromise.set(R,F.get(R));if(T._borderLineWidth!==-1)return;const J=getComputedStyle(document.documentElement);T._borderLineWidth=parseFloat(J.getPropertyValue("--outline-width"))||0}static updateDefaultParams(F,W){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(F){return!1}static paste(F,W){(0,S.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,m)}set _isDraggable(F){var W;ye(this,m,F),(W=this.div)==null||W.classList.toggle("draggable",F)}center(){const[F,W]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*W/(F*2),this.y+=this.width*F/(W*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*W/(F*2),this.y-=this.width*F/(W*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(F){this._uiManager.addCommands(F)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,f)}setParent(F){F!==null&&(this.pageIndex=F.pageIndex,this.pageDimensions=F.pageDimensions),this.parent=F}focusin(F){this._focusEventsAllowed&&(u(this,p)?ye(this,p,!1):this.parent.setSelected(this))}focusout(F){var J;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const W=F.relatedTarget;W!=null&&W.closest("#".concat(this.id))||(F.preventDefault(),(J=this.parent)!=null&&J.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(F,W,J,R){const[l,v]=this.parentDimensions;[J,R]=this.screenToPageTranslation(J,R),this.x=(F+J)/l,this.y=(W+R)/v,this.fixAndSetPosition()}translate(F,W){ce(this,_,Tr).call(this,this.parentDimensions,F,W)}translateInPage(F,W){ce(this,_,Tr).call(this,this.pageDimensions,F,W),this.div.scrollIntoView({block:"nearest"})}drag(F,W){const[J,R]=this.parentDimensions;if(this.x+=F/J,this.y+=W/R,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:z,y:U}=this.div.getBoundingClientRect();this.parent.findNewParent(this,z,U)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:v}=this;const[L,G]=ce(this,_,Lr).call(this);l+=L,v+=G,this.div.style.left="".concat((100*l).toFixed(2),"%"),this.div.style.top="".concat((100*v).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[F,W]=this.pageDimensions;let{x:J,y:R,width:l,height:v}=this;switch(l*=F,v*=W,J*=F,R*=W,this.rotation){case 0:J=Math.max(0,Math.min(F-l,J)),R=Math.max(0,Math.min(W-v,R));break;case 90:J=Math.max(0,Math.min(F-v,J)),R=Math.min(W,Math.max(l,R));break;case 180:J=Math.min(F,Math.max(l,J)),R=Math.min(W,Math.max(v,R));break;case 270:J=Math.min(F,Math.max(v,J)),R=Math.max(0,Math.min(W-l,R));break}this.x=J/=F,this.y=R/=W;const[L,G]=ce(this,_,Lr).call(this);J+=L,R+=G;const{style:z}=this.div;z.left="".concat((100*J).toFixed(2),"%"),z.top="".concat((100*R).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(F,W){var J;return ce(J=T,g,Fr).call(J,F,W,this.parentRotation)}pageTranslationToScreen(F,W){var J;return ce(J=T,g,Fr).call(J,F,W,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:F,pageDimensions:[W,J]}=this,R=W*F,l=J*F;return S.FeatureTest.isCSSRoundSupported?[Math.round(R),Math.round(l)]:[R,l]}setDims(F,W){var l;const[J,R]=this.parentDimensions;this.div.style.width="".concat((100*F/J).toFixed(2),"%"),u(this,b)||(this.div.style.height="".concat((100*W/R).toFixed(2),"%")),(l=u(this,A))==null||l.classList.toggle("small",F<T.SMALL_EDITOR_SIZE||W<T.SMALL_EDITOR_SIZE)}fixDims(){const{style:F}=this.div,{height:W,width:J}=F,R=J.endsWith("%"),l=!u(this,b)&&W.endsWith("%");if(R&&l)return;const[v,L]=this.parentDimensions;R||(F.width="".concat((100*parseFloat(J)/v).toFixed(2),"%")),!u(this,b)&&!l&&(F.height="".concat((100*parseFloat(W)/L).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(u(this,A))return;const F=ye(this,A,document.createElement("button"));F.className="altText";const W=await T._l10nPromise.get("editor_alt_text_button_label");F.textContent=W,F.setAttribute("aria-label",W),F.tabIndex="0",F.addEventListener("contextmenu",r.noContextMenu),F.addEventListener("pointerdown",J=>J.stopPropagation()),F.addEventListener("click",J=>{J.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),F.addEventListener("keydown",J=>{J.target===F&&J.key==="Enter"&&(J.preventDefault(),this._uiManager.editAltText(this))}),ce(this,_,Dr).call(this),this.div.append(F),T.SMALL_EDITOR_SIZE||(T.SMALL_EDITOR_SIZE=Math.min(128,Math.round(F.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:u(this,X),decorative:u(this,V)}}set altTextData({altText:F,decorative:W}){u(this,X)===F&&u(this,V)===W||(ye(this,X,F),ye(this,V,W),ce(this,_,Dr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",u(this,i)),this.div.addEventListener("focusout",u(this,d));const[F,W]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*W/F).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*F/W).toFixed(2),"%"));const[J,R]=this.getInitialTranslation();return this.translate(J,R),(0,y.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(F){const{isMac:W}=S.FeatureTest.platform;if(F.button!==0||F.ctrlKey&&W){F.preventDefault();return}ye(this,p,!0),ce(this,_,Fi).call(this,F)}moveInDOM(){var F;(F=this.parent)==null||F.moveEditorInDOM(this)}_setParentAndPosition(F,W,J){F.changeParent(this),this.x=W,this.y=J,this.fixAndSetPosition()}getRect(F,W){const J=this.parentScale,[R,l]=this.pageDimensions,[v,L]=this.pageTranslation,G=F/J,z=W/J,U=this.x*R,ee=this.y*l,fe=this.width*R,Se=this.height*l;switch(this.rotation){case 0:return[U+G+v,l-ee-z-Se+L,U+G+fe+v,l-ee-z+L];case 90:return[U+z+v,l-ee+G+L,U+z+Se+v,l-ee+G+fe+L];case 180:return[U-G-fe+v,l-ee+z+L,U-G+v,l-ee+z+Se+L];case 270:return[U-z-Se+v,l-ee-G-fe+L,U-z+v,l-ee-G+L];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(F,W){const[J,R,l,v]=F,L=l-J,G=v-R;switch(this.rotation){case 0:return[J,W-v,L,G];case 90:return[J,W-R,G,L];case 180:return[l,W-R,L,G];case 270:return[l,W-v,G,L];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ye(this,M,!0)}disableEditMode(){ye(this,M,!1)}isInEditMode(){return u(this,M)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var F,W;(F=this.div)==null||F.addEventListener("focusin",u(this,i)),(W=this.div)==null||W.addEventListener("focusout",u(this,d))}serialize(F=!1,W=null){(0,S.unreachable)("An editor must be serializable")}static deserialize(F,W,J){const R=new this.prototype.constructor({parent:W,id:W.getNextId(),uiManager:J});R.rotation=F.rotation;const[l,v]=R.pageDimensions,[L,G,z,U]=R.getRectInCurrentCoords(F.rect,v);return R.x=L/l,R.y=G/v,R.width=z/l,R.height=U/v,R}remove(){var F;this.div.removeEventListener("focusin",u(this,i)),this.div.removeEventListener("focusout",u(this,d)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(F=u(this,A))==null||F.remove(),ye(this,A,null),ye(this,N,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ce(this,_,Mi).call(this),u(this,h).classList.remove("hidden"))}select(){var F;this.makeResizable(),(F=this.div)==null||F.classList.add("selectedEditor")}unselect(){var F,W,J;(F=u(this,h))==null||F.classList.add("hidden"),(W=this.div)==null||W.classList.remove("selectedEditor"),(J=this.div)!=null&&J.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(F,W){}disableEditing(){u(this,A)&&(u(this,A).hidden=!0)}enableEditing(){u(this,A)&&(u(this,A).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return u(this,o)}set isEditing(F){ye(this,o,F),this.parent&&(F?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(F,W){ye(this,b,!0);const J=F/W,{style:R}=this.div;R.aspectRatio=J,R.height="auto"}static get MIN_SIZE(){return 16}};X=new WeakMap,V=new WeakMap,A=new WeakMap,N=new WeakMap,C=new WeakMap,b=new WeakMap,h=new WeakMap,i=new WeakMap,d=new WeakMap,p=new WeakMap,o=new WeakMap,M=new WeakMap,m=new WeakMap,f=new WeakMap,_=new WeakSet,Tr=function([F,W],J,R){[J,R]=this.screenToPageTranslation(J,R),this.x+=J/F,this.y+=R/W,this.fixAndSetPosition()},Lr=function(){const[F,W]=this.parentDimensions,{_borderLineWidth:J}=T,R=J/F,l=J/W;switch(this.rotation){case 90:return[-R,l];case 180:return[R,l];case 270:return[R,-l];default:return[-R,-l]}},g=new WeakSet,Fr=function(F,W,J){switch(J){case 90:return[W,-F];case 180:return[-F,-W];case 270:return[-W,F];default:return[F,W]}},Ir=function(F){switch(F){case 90:{const[W,J]=this.pageDimensions;return[0,-W/J,J/W,0]}case 180:return[-1,0,0,-1];case 270:{const[W,J]=this.pageDimensions;return[0,W/J,-J/W,0]}default:return[1,0,0,1]}},Mi=function(){if(u(this,h))return;ye(this,h,document.createElement("div")),u(this,h).classList.add("resizers");const F=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||F.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const W of F){const J=document.createElement("div");u(this,h).append(J),J.classList.add("resizer",W),J.addEventListener("pointerdown",ce(this,_,Ti).bind(this,W)),J.addEventListener("contextmenu",r.noContextMenu)}this.div.prepend(u(this,h))},Ti=function(F,W){W.preventDefault();const{isMac:J}=S.FeatureTest.platform;if(W.button!==0||W.ctrlKey&&J)return;const R=ce(this,_,Li).bind(this,F),l=this._isDraggable;this._isDraggable=!1;const v={passive:!0,capture:!0};window.addEventListener("pointermove",R,v);const L=this.x,G=this.y,z=this.width,U=this.height,ee=this.parent.div.style.cursor,fe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(W.target).cursor;const Se=()=>{this._isDraggable=l,window.removeEventListener("pointerup",Se),window.removeEventListener("blur",Se),window.removeEventListener("pointermove",R,v),this.parent.div.style.cursor=ee,this.div.style.cursor=fe;const xe=this.x,Ae=this.y,Me=this.width,Te=this.height;xe===L&&Ae===G&&Me===z&&Te===U||this.addCommands({cmd:()=>{this.width=Me,this.height=Te,this.x=xe,this.y=Ae;const[de,he]=this.parentDimensions;this.setDims(de*Me,he*Te),this.fixAndSetPosition()},undo:()=>{this.width=z,this.height=U,this.x=L,this.y=G;const[de,he]=this.parentDimensions;this.setDims(de*z,he*U),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Se),window.addEventListener("blur",Se)},Li=function(F,W){const[J,R]=this.parentDimensions,l=this.x,v=this.y,L=this.width,G=this.height,z=T.MIN_SIZE/J,U=T.MIN_SIZE/R,ee=ze=>Math.round(ze*1e4)/1e4,fe=ce(this,_,Ir).call(this,this.rotation),Se=(ze,$e)=>[fe[0]*ze+fe[2]*$e,fe[1]*ze+fe[3]*$e],xe=ce(this,_,Ir).call(this,360-this.rotation),Ae=(ze,$e)=>[xe[0]*ze+xe[2]*$e,xe[1]*ze+xe[3]*$e];let Me,Te,de=!1,he=!1;switch(F){case"topLeft":de=!0,Me=(ze,$e)=>[0,0],Te=(ze,$e)=>[ze,$e];break;case"topMiddle":Me=(ze,$e)=>[ze/2,0],Te=(ze,$e)=>[ze/2,$e];break;case"topRight":de=!0,Me=(ze,$e)=>[ze,0],Te=(ze,$e)=>[0,$e];break;case"middleRight":he=!0,Me=(ze,$e)=>[ze,$e/2],Te=(ze,$e)=>[0,$e/2];break;case"bottomRight":de=!0,Me=(ze,$e)=>[ze,$e],Te=(ze,$e)=>[0,0];break;case"bottomMiddle":Me=(ze,$e)=>[ze/2,$e],Te=(ze,$e)=>[ze/2,0];break;case"bottomLeft":de=!0,Me=(ze,$e)=>[0,$e],Te=(ze,$e)=>[ze,0];break;case"middleLeft":he=!0,Me=(ze,$e)=>[0,$e/2],Te=(ze,$e)=>[ze,$e/2];break}const I=Me(L,G),q=Te(L,G);let re=Se(...q);const ie=ee(l+re[0]),ue=ee(v+re[1]);let Ce=1,Pe=1,[se,Be]=this.screenToPageTranslation(W.movementX,W.movementY);if([se,Be]=Ae(se/J,Be/R),de){const ze=Math.hypot(L,G);Ce=Pe=Math.max(Math.min(Math.hypot(q[0]-I[0]-se,q[1]-I[1]-Be)/ze,1/L,1/G),z/L,U/G)}else he?Ce=Math.max(z,Math.min(1,Math.abs(q[0]-I[0]-se)))/L:Pe=Math.max(U,Math.min(1,Math.abs(q[1]-I[1]-Be)))/G;const Ie=ee(L*Ce),it=ee(G*Pe);re=Se(...Te(Ie,it));const Ye=ie-re[0],pt=ue-re[1];this.width=Ie,this.height=it,this.x=Ye,this.y=pt,this.setDims(J*Ie,R*it),this.fixAndSetPosition()},Dr=async function(){var J;const F=u(this,A);if(!F)return;if(!u(this,X)&&!u(this,V)){F.classList.remove("done"),(J=u(this,N))==null||J.remove();return}T._l10nPromise.get("editor_alt_text_edit_button_label").then(R=>{F.setAttribute("aria-label",R)});let W=u(this,N);if(!W){ye(this,N,W=document.createElement("span")),W.className="tooltip",W.setAttribute("role","tooltip");const R=W.id="alt-text-tooltip-".concat(this.id);F.setAttribute("aria-describedby",R);const l=100;F.addEventListener("mouseenter",()=>{ye(this,C,setTimeout(()=>{ye(this,C,null),u(this,N).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},l))}),F.addEventListener("mouseleave",()=>{var v;clearTimeout(u(this,C)),ye(this,C,null),(v=u(this,N))==null||v.classList.remove("show")})}F.classList.add("done"),W.innerText=u(this,V)?await T._l10nPromise.get("editor_alt_text_decorative_tooltip"):u(this,X),W.parentNode||F.append(W)},Fi=function(F){if(!this._isDraggable)return;const W=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let J,R;W&&(J={passive:!0,capture:!0},R=v=>{const[L,G]=this.screenToPageTranslation(v.movementX,v.movementY);this._uiManager.dragSelectedEditors(L,G)},window.addEventListener("pointermove",R,J));const l=()=>{if(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),W&&window.removeEventListener("pointermove",R,J),ye(this,p,!1),!this._uiManager.endDragSession()){const{isMac:v}=S.FeatureTest.platform;F.ctrlKey&&!v||F.shiftKey||F.metaKey&&v?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",l),window.addEventListener("blur",l)},Ee(T,g),Gt(T,"_borderLineWidth",-1),Gt(T,"_colorManager",new y.ColorManager),Gt(T,"_zIndex",1),Gt(T,"SMALL_EDITOR_SIZE",0);let j=T;x.AnnotationEditor=j;class Z extends j{constructor(F){super(F),this.annotationElementId=F.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((e,x,n)=>{var b,h,i,d,p,Or,m,f,_,c,a,Ii,t,s,w,B,P,D,T,H,F,W,J,R,l,v,L,G,z,U,ee,fe,Se,xe,Ae,Me,Te,de,he,I,q,re,ie,ue,Ce,Pe,se,Di,Nr,jr,ar,Br,zr,mn,qn,Oi,Ni,Hr,Vn,qr;Object.defineProperty(x,"__esModule",{value:!0}),x.KeyboardManager=x.CommandManager=x.ColorManager=x.AnnotationEditorUIManager=void 0,x.bindEvents=r,x.opacityToHex=j;var y=n(1),S=n(6);function r(st,Q,Re){for(const He of Re)Q.addEventListener(He,st[He].bind(st))}function j(st){return Math.round(Math.min(255,Math.max(1,255*st))).toString(16).padStart(2,"0")}class Z{constructor(){Ee(this,b,0)}getId(){return"".concat(y.AnnotationEditorPrefix).concat(Hn(this,b)._++)}}b=new WeakMap;const M=class M{constructor(){Ee(this,p);Ee(this,h,(0,y.getUuid)());Ee(this,i,0);Ee(this,d,null)}static get _isSVGFittingCanvas(){const Q='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',He=new OffscreenCanvas(1,3).getContext("2d"),Qe=new Image;Qe.src=Q;const tt=Qe.decode().then(()=>(He.drawImage(Qe,0,0,1,1,0,0,1,3),new Uint32Array(He.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,y.shadow)(this,"_isSVGFittingCanvas",tt)}async getFromFile(Q){const{lastModified:Re,name:He,size:Qe,type:tt}=Q;return ce(this,p,Or).call(this,"".concat(Re,"_").concat(He,"_").concat(Qe,"_").concat(tt),Q)}async getFromUrl(Q){return ce(this,p,Or).call(this,Q,Q)}async getFromId(Q){u(this,d)||ye(this,d,new Map);const Re=u(this,d).get(Q);return Re?Re.bitmap?(Re.refCounter+=1,Re):Re.file?this.getFromFile(Re.file):this.getFromUrl(Re.url):null}getSvgUrl(Q){const Re=u(this,d).get(Q);return Re!=null&&Re.isSvg?Re.svgUrl:null}deleteId(Q){u(this,d)||ye(this,d,new Map);const Re=u(this,d).get(Q);Re&&(Re.refCounter-=1,Re.refCounter===0&&(Re.bitmap=null))}isValidId(Q){return Q.startsWith("image_".concat(u(this,h),"_"))}};h=new WeakMap,i=new WeakMap,d=new WeakMap,p=new WeakSet,Or=async function(Q,Re){u(this,d)||ye(this,d,new Map);let He=u(this,d).get(Q);if(He===null)return null;if(He!=null&&He.bitmap)return He.refCounter+=1,He;try{He||(He={bitmap:null,id:"image_".concat(u(this,h),"_").concat(Hn(this,i)._++),refCounter:0,isSvg:!1});let Qe;if(typeof Re=="string"){He.url=Re;const tt=await fetch(Re);if(!tt.ok)throw new Error(tt.statusText);Qe=await tt.blob()}else Qe=He.file=Re;if(Qe.type==="image/svg+xml"){const tt=M._isSVGFittingCanvas,Xe=new FileReader,Y=new Image,K=new Promise((ae,we)=>{Y.onload=()=>{He.bitmap=Y,He.isSvg=!0,ae()},Xe.onload=async()=>{const ke=He.svgUrl=Xe.result;Y.src=await tt?"".concat(ke,"#svgView(preserveAspectRatio(none))"):ke},Y.onerror=Xe.onerror=we});Xe.readAsDataURL(Qe),await K}else He.bitmap=await createImageBitmap(Qe);He.refCounter=1}catch(Qe){console.error(Qe),He=null}return u(this,d).set(Q,He),He&&u(this,d).set(He.id,He),He};let X=M;class V{constructor(Q=128){Ee(this,m,[]);Ee(this,f,!1);Ee(this,_);Ee(this,c,-1);ye(this,_,Q)}add({cmd:Q,undo:Re,mustExec:He,type:Qe=NaN,overwriteIfSameType:tt=!1,keepUndo:Xe=!1}){if(He&&Q(),u(this,f))return;const Y={cmd:Q,undo:Re,type:Qe};if(u(this,c)===-1){u(this,m).length>0&&(u(this,m).length=0),ye(this,c,0),u(this,m).push(Y);return}if(tt&&u(this,m)[u(this,c)].type===Qe){Xe&&(Y.undo=u(this,m)[u(this,c)].undo),u(this,m)[u(this,c)]=Y;return}const K=u(this,c)+1;K===u(this,_)?u(this,m).splice(0,1):(ye(this,c,K),K<u(this,m).length&&u(this,m).splice(K)),u(this,m).push(Y)}undo(){u(this,c)!==-1&&(ye(this,f,!0),u(this,m)[u(this,c)].undo(),ye(this,f,!1),ye(this,c,u(this,c)-1))}redo(){u(this,c)<u(this,m).length-1&&(ye(this,c,u(this,c)+1),ye(this,f,!0),u(this,m)[u(this,c)].cmd(),ye(this,f,!1))}hasSomethingToUndo(){return u(this,c)!==-1}hasSomethingToRedo(){return u(this,c)<u(this,m).length-1}destroy(){ye(this,m,null)}}m=new WeakMap,f=new WeakMap,_=new WeakMap,c=new WeakMap,x.CommandManager=V;class A{constructor(Q){Ee(this,a);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Re}=y.FeatureTest.platform;for(const[He,Qe,tt={}]of Q)for(const Xe of He){const Y=Xe.startsWith("mac+");Re&&Y?(this.callbacks.set(Xe.slice(4),{callback:Qe,options:tt}),this.allKeys.add(Xe.split("+").at(-1))):!Re&&!Y&&(this.callbacks.set(Xe,{callback:Qe,options:tt}),this.allKeys.add(Xe.split("+").at(-1)))}}exec(Q,Re){if(!this.allKeys.has(Re.key))return;const He=this.callbacks.get(ce(this,a,Ii).call(this,Re));if(!He)return;const{callback:Qe,options:{bubbles:tt=!1,args:Xe=[],checker:Y=null}}=He;Y&&!Y(Q,Re)||(Qe.bind(Q,...Xe)(),tt||(Re.stopPropagation(),Re.preventDefault()))}}a=new WeakSet,Ii=function(Q){Q.altKey&&this.buffer.push("alt"),Q.ctrlKey&&this.buffer.push("ctrl"),Q.metaKey&&this.buffer.push("meta"),Q.shiftKey&&this.buffer.push("shift"),this.buffer.push(Q.key);const Re=this.buffer.join("+");return this.buffer.length=0,Re},x.KeyboardManager=A;const k=class k{get _colors(){const Q=new Map([["CanvasText",null],["Canvas",null]]);return(0,S.getColorValues)(Q),(0,y.shadow)(this,"_colors",Q)}convert(Q){const Re=(0,S.getRGB)(Q);if(!window.matchMedia("(forced-colors: active)").matches)return Re;for(const[He,Qe]of this._colors)if(Qe.every((tt,Xe)=>tt===Re[Xe]))return k._colorsMapping.get(He);return Re}getHexCode(Q){const Re=this._colors.get(Q);return Re?y.Util.makeHexColor(...Re):Q}};Gt(k,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let N=k;x.ColorManager=N;const Je=class Je{constructor(Q,Re,He,Qe,tt,Xe){Ee(this,se);Ee(this,t,null);Ee(this,s,new Map);Ee(this,w,new Map);Ee(this,B,null);Ee(this,P,null);Ee(this,D,new V);Ee(this,T,0);Ee(this,H,new Set);Ee(this,F,null);Ee(this,W,null);Ee(this,J,new Set);Ee(this,R,null);Ee(this,l,new Z);Ee(this,v,!1);Ee(this,L,!1);Ee(this,G,null);Ee(this,z,y.AnnotationEditorType.NONE);Ee(this,U,new Set);Ee(this,ee,null);Ee(this,fe,this.blur.bind(this));Ee(this,Se,this.focus.bind(this));Ee(this,xe,this.copy.bind(this));Ee(this,Ae,this.cut.bind(this));Ee(this,Me,this.paste.bind(this));Ee(this,Te,this.keydown.bind(this));Ee(this,de,this.onEditingAction.bind(this));Ee(this,he,this.onPageChanging.bind(this));Ee(this,I,this.onScaleChanging.bind(this));Ee(this,q,this.onRotationChanging.bind(this));Ee(this,re,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Ee(this,ie,[0,0]);Ee(this,ue,null);Ee(this,Ce,null);Ee(this,Pe,null);ye(this,Ce,Q),ye(this,Pe,Re),ye(this,B,He),this._eventBus=Qe,this._eventBus._on("editingaction",u(this,de)),this._eventBus._on("pagechanging",u(this,he)),this._eventBus._on("scalechanging",u(this,I)),this._eventBus._on("rotationchanging",u(this,q)),ye(this,P,tt.annotationStorage),ye(this,R,tt.filterFactory),ye(this,ee,Xe),this.viewParameters={realScale:S.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Q=Je.prototype,Re=tt=>{const{activeElement:Xe}=document;return Xe&&u(tt,Ce).contains(Xe)&&tt.hasSomethingToControl()},He=this.TRANSLATE_SMALL,Qe=this.TRANSLATE_BIG;return(0,y.shadow)(this,"_keyboardManager",new A([[["ctrl+a","mac+meta+a"],Q.selectAll],[["ctrl+z","mac+meta+z"],Q.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Q.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Q.delete],[["Escape","mac+Escape"],Q.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Q.translateSelectedEditors,{args:[-He,0],checker:Re}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Q.translateSelectedEditors,{args:[-Qe,0],checker:Re}],[["ArrowRight","mac+ArrowRight"],Q.translateSelectedEditors,{args:[He,0],checker:Re}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Q.translateSelectedEditors,{args:[Qe,0],checker:Re}],[["ArrowUp","mac+ArrowUp"],Q.translateSelectedEditors,{args:[0,-He],checker:Re}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Q.translateSelectedEditors,{args:[0,-Qe],checker:Re}],[["ArrowDown","mac+ArrowDown"],Q.translateSelectedEditors,{args:[0,He],checker:Re}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Q.translateSelectedEditors,{args:[0,Qe],checker:Re}]]))}destroy(){ce(this,se,ar).call(this),ce(this,se,Nr).call(this),this._eventBus._off("editingaction",u(this,de)),this._eventBus._off("pagechanging",u(this,he)),this._eventBus._off("scalechanging",u(this,I)),this._eventBus._off("rotationchanging",u(this,q));for(const Q of u(this,w).values())Q.destroy();u(this,w).clear(),u(this,s).clear(),u(this,J).clear(),ye(this,t,null),u(this,U).clear(),u(this,D).destroy(),u(this,B).destroy()}get hcmFilter(){return(0,y.shadow)(this,"hcmFilter",u(this,ee)?u(this,R).addHCMFilter(u(this,ee).foreground,u(this,ee).background):"none")}get direction(){return(0,y.shadow)(this,"direction",getComputedStyle(u(this,Ce)).direction)}editAltText(Q){var Re;(Re=u(this,B))==null||Re.editAltText(this,Q)}onPageChanging({pageNumber:Q}){ye(this,T,Q-1)}focusMainContainer(){u(this,Ce).focus()}findParent(Q,Re){for(const He of u(this,w).values()){const{x:Qe,y:tt,width:Xe,height:Y}=He.div.getBoundingClientRect();if(Q>=Qe&&Q<=Qe+Xe&&Re>=tt&&Re<=tt+Y)return He}return null}disableUserSelect(Q=!1){u(this,Pe).classList.toggle("noUserSelect",Q)}addShouldRescale(Q){u(this,J).add(Q)}removeShouldRescale(Q){u(this,J).delete(Q)}onScaleChanging({scale:Q}){this.commitOrRemove(),this.viewParameters.realScale=Q*S.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Re of u(this,J))Re.onScaleChanging()}onRotationChanging({pagesRotation:Q}){this.commitOrRemove(),this.viewParameters.rotation=Q}addToAnnotationStorage(Q){!Q.isEmpty()&&u(this,P)&&!u(this,P).has(Q.id)&&u(this,P).setValue(Q.id,Q)}blur(){if(!this.hasSelection)return;const{activeElement:Q}=document;for(const Re of u(this,U))if(Re.div.contains(Q)){ye(this,G,[Re,Q]),Re._focusEventsAllowed=!1;break}}focus(){if(!u(this,G))return;const[Q,Re]=u(this,G);ye(this,G,null),Re.addEventListener("focusin",()=>{Q._focusEventsAllowed=!0},{once:!0}),Re.focus()}addEditListeners(){ce(this,se,jr).call(this),ce(this,se,Br).call(this)}removeEditListeners(){ce(this,se,ar).call(this),ce(this,se,zr).call(this)}copy(Q){var He;if(Q.preventDefault(),(He=u(this,t))==null||He.commitOrRemove(),!this.hasSelection)return;const Re=[];for(const Qe of u(this,U)){const tt=Qe.serialize(!0);tt&&Re.push(tt)}Re.length!==0&&Q.clipboardData.setData("application/pdfjs",JSON.stringify(Re))}cut(Q){this.copy(Q),this.delete()}paste(Q){Q.preventDefault();const{clipboardData:Re}=Q;for(const tt of Re.items)for(const Xe of u(this,W))if(Xe.isHandlingMimeForPasting(tt.type)){Xe.paste(tt,this.currentLayer);return}let He=Re.getData("application/pdfjs");if(!He)return;try{He=JSON.parse(He)}catch(tt){(0,y.warn)('paste: "'.concat(tt.message,'".'));return}if(!Array.isArray(He))return;this.unselectAll();const Qe=this.currentLayer;try{const tt=[];for(const K of He){const ae=Qe.deserialize(K);if(!ae)return;tt.push(ae)}const Xe=()=>{for(const K of tt)ce(this,se,Hr).call(this,K);ce(this,se,qr).call(this,tt)},Y=()=>{for(const K of tt)K.remove()};this.addCommands({cmd:Xe,undo:Y,mustExec:!0})}catch(tt){(0,y.warn)('paste: "'.concat(tt.message,'".'))}}keydown(Q){var Re;(Re=this.getActive())!=null&&Re.shouldGetKeyboardEvents()||Je._keyboardManager.exec(this,Q)}onEditingAction(Q){["undo","redo","delete","selectAll"].includes(Q.name)&&this[Q.name]()}setEditingState(Q){Q?(ce(this,se,Di).call(this),ce(this,se,jr).call(this),ce(this,se,Br).call(this),ce(this,se,mn).call(this,{isEditing:u(this,z)!==y.AnnotationEditorType.NONE,isEmpty:ce(this,se,Vn).call(this),hasSomethingToUndo:u(this,D).hasSomethingToUndo(),hasSomethingToRedo:u(this,D).hasSomethingToRedo(),hasSelectedEditor:!1})):(ce(this,se,Nr).call(this),ce(this,se,ar).call(this),ce(this,se,zr).call(this),ce(this,se,mn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Q){if(!u(this,W)){ye(this,W,Q);for(const Re of u(this,W))ce(this,se,qn).call(this,Re.defaultPropertiesToUpdate)}}getId(){return u(this,l).getId()}get currentLayer(){return u(this,w).get(u(this,T))}getLayer(Q){return u(this,w).get(Q)}get currentPageIndex(){return u(this,T)}addLayer(Q){u(this,w).set(Q.pageIndex,Q),u(this,v)?Q.enable():Q.disable()}removeLayer(Q){u(this,w).delete(Q.pageIndex)}updateMode(Q,Re=null){if(u(this,z)!==Q){if(ye(this,z,Q),Q===y.AnnotationEditorType.NONE){this.setEditingState(!1),ce(this,se,Ni).call(this);return}this.setEditingState(!0),ce(this,se,Oi).call(this),this.unselectAll();for(const He of u(this,w).values())He.updateMode(Q);if(Re){for(const He of u(this,s).values())if(He.annotationElementId===Re){this.setSelected(He),He.enterInEditMode();break}}}}updateToolbar(Q){Q!==u(this,z)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Q})}updateParams(Q,Re){if(u(this,W)){if(Q===y.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Q);return}for(const He of u(this,U))He.updateParams(Q,Re);for(const He of u(this,W))He.updateDefaultParams(Q,Re)}}enableWaiting(Q=!1){if(u(this,L)!==Q){ye(this,L,Q);for(const Re of u(this,w).values())Q?Re.disableClick():Re.enableClick(),Re.div.classList.toggle("waiting",Q)}}getEditors(Q){const Re=[];for(const He of u(this,s).values())He.pageIndex===Q&&Re.push(He);return Re}getEditor(Q){return u(this,s).get(Q)}addEditor(Q){u(this,s).set(Q.id,Q)}removeEditor(Q){var Re;u(this,s).delete(Q.id),this.unselect(Q),(!Q.annotationElementId||!u(this,H).has(Q.annotationElementId))&&((Re=u(this,P))==null||Re.remove(Q.id))}addDeletedAnnotationElement(Q){u(this,H).add(Q.annotationElementId),Q.deleted=!0}isDeletedAnnotationElement(Q){return u(this,H).has(Q)}removeDeletedAnnotationElement(Q){u(this,H).delete(Q.annotationElementId),Q.deleted=!1}setActiveEditor(Q){u(this,t)!==Q&&(ye(this,t,Q),Q&&ce(this,se,qn).call(this,Q.propertiesToUpdate))}toggleSelected(Q){if(u(this,U).has(Q)){u(this,U).delete(Q),Q.unselect(),ce(this,se,mn).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,U).add(Q),Q.select(),ce(this,se,qn).call(this,Q.propertiesToUpdate),ce(this,se,mn).call(this,{hasSelectedEditor:!0})}setSelected(Q){for(const Re of u(this,U))Re!==Q&&Re.unselect();u(this,U).clear(),u(this,U).add(Q),Q.select(),ce(this,se,qn).call(this,Q.propertiesToUpdate),ce(this,se,mn).call(this,{hasSelectedEditor:!0})}isSelected(Q){return u(this,U).has(Q)}unselect(Q){Q.unselect(),u(this,U).delete(Q),ce(this,se,mn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,U).size!==0}undo(){u(this,D).undo(),ce(this,se,mn).call(this,{hasSomethingToUndo:u(this,D).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ce(this,se,Vn).call(this)})}redo(){u(this,D).redo(),ce(this,se,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,D).hasSomethingToRedo(),isEmpty:ce(this,se,Vn).call(this)})}addCommands(Q){u(this,D).add(Q),ce(this,se,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ce(this,se,Vn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Q=[...u(this,U)],Re=()=>{for(const Qe of Q)Qe.remove()},He=()=>{for(const Qe of Q)ce(this,se,Hr).call(this,Qe)};this.addCommands({cmd:Re,undo:He,mustExec:!0})}commitOrRemove(){var Q;(Q=u(this,t))==null||Q.commitOrRemove()}hasSomethingToControl(){return u(this,t)||this.hasSelection}selectAll(){for(const Q of u(this,U))Q.commit();ce(this,se,qr).call(this,u(this,s).values())}unselectAll(){if(u(this,t)){u(this,t).commitOrRemove();return}if(this.hasSelection){for(const Q of u(this,U))Q.unselect();u(this,U).clear(),ce(this,se,mn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Q,Re,He=!1){if(He||this.commitOrRemove(),!this.hasSelection)return;u(this,ie)[0]+=Q,u(this,ie)[1]+=Re;const[Qe,tt]=u(this,ie),Xe=[...u(this,U)],Y=1e3;u(this,ue)&&clearTimeout(u(this,ue)),ye(this,ue,setTimeout(()=>{ye(this,ue,null),u(this,ie)[0]=u(this,ie)[1]=0,this.addCommands({cmd:()=>{for(const K of Xe)u(this,s).has(K.id)&&K.translateInPage(Qe,tt)},undo:()=>{for(const K of Xe)u(this,s).has(K.id)&&K.translateInPage(-Qe,-tt)},mustExec:!1})},Y));for(const K of Xe)K.translateInPage(Q,Re)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ye(this,F,new Map);for(const Q of u(this,U))u(this,F).set(Q,{savedX:Q.x,savedY:Q.y,savedPageIndex:Q.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,F))return!1;this.disableUserSelect(!1);const Q=u(this,F);ye(this,F,null);let Re=!1;for(const[{x:Qe,y:tt,pageIndex:Xe},Y]of Q)Y.newX=Qe,Y.newY=tt,Y.newPageIndex=Xe,Re||(Re=Qe!==Y.savedX||tt!==Y.savedY||Xe!==Y.savedPageIndex);if(!Re)return!1;const He=(Qe,tt,Xe,Y)=>{if(u(this,s).has(Qe.id)){const K=u(this,w).get(Y);K?Qe._setParentAndPosition(K,tt,Xe):(Qe.pageIndex=Y,Qe.x=tt,Qe.y=Xe)}};return this.addCommands({cmd:()=>{for(const[Qe,{newX:tt,newY:Xe,newPageIndex:Y}]of Q)He(Qe,tt,Xe,Y)},undo:()=>{for(const[Qe,{savedX:tt,savedY:Xe,savedPageIndex:Y}]of Q)He(Qe,tt,Xe,Y)},mustExec:!0}),!0}dragSelectedEditors(Q,Re){if(u(this,F))for(const He of u(this,F).keys())He.drag(Q,Re)}rebuild(Q){if(Q.parent===null){const Re=this.getLayer(Q.pageIndex);Re?(Re.changeParent(Q),Re.addOrRebuild(Q)):(this.addEditor(Q),this.addToAnnotationStorage(Q),Q.rebuild())}else Q.parent.addOrRebuild(Q)}isActive(Q){return u(this,t)===Q}getActive(){return u(this,t)}getMode(){return u(this,z)}get imageManager(){return(0,y.shadow)(this,"imageManager",new X)}};t=new WeakMap,s=new WeakMap,w=new WeakMap,B=new WeakMap,P=new WeakMap,D=new WeakMap,T=new WeakMap,H=new WeakMap,F=new WeakMap,W=new WeakMap,J=new WeakMap,R=new WeakMap,l=new WeakMap,v=new WeakMap,L=new WeakMap,G=new WeakMap,z=new WeakMap,U=new WeakMap,ee=new WeakMap,fe=new WeakMap,Se=new WeakMap,xe=new WeakMap,Ae=new WeakMap,Me=new WeakMap,Te=new WeakMap,de=new WeakMap,he=new WeakMap,I=new WeakMap,q=new WeakMap,re=new WeakMap,ie=new WeakMap,ue=new WeakMap,Ce=new WeakMap,Pe=new WeakMap,se=new WeakSet,Di=function(){window.addEventListener("focus",u(this,Se)),window.addEventListener("blur",u(this,fe))},Nr=function(){window.removeEventListener("focus",u(this,Se)),window.removeEventListener("blur",u(this,fe))},jr=function(){window.addEventListener("keydown",u(this,Te),{capture:!0})},ar=function(){window.removeEventListener("keydown",u(this,Te),{capture:!0})},Br=function(){document.addEventListener("copy",u(this,xe)),document.addEventListener("cut",u(this,Ae)),document.addEventListener("paste",u(this,Me))},zr=function(){document.removeEventListener("copy",u(this,xe)),document.removeEventListener("cut",u(this,Ae)),document.removeEventListener("paste",u(this,Me))},mn=function(Q){Object.entries(Q).some(([He,Qe])=>u(this,re)[He]!==Qe)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,re),Q)})},qn=function(Q){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Q})},Oi=function(){if(!u(this,v)){ye(this,v,!0);for(const Q of u(this,w).values())Q.enable()}},Ni=function(){if(this.unselectAll(),u(this,v)){ye(this,v,!1);for(const Q of u(this,w).values())Q.disable()}},Hr=function(Q){const Re=u(this,w).get(Q.pageIndex);Re?Re.addOrRebuild(Q):this.addEditor(Q)},Vn=function(){if(u(this,s).size===0)return!0;if(u(this,s).size===1)for(const Q of u(this,s).values())return Q.isEmpty();return!1},qr=function(Q){u(this,U).clear();for(const Re of Q)Re.isEmpty()||(u(this,U).add(Re),Re.select());ce(this,se,mn).call(this,{hasSelectedEditor:!0})},Gt(Je,"TRANSLATE_SMALL",1),Gt(Je,"TRANSLATE_BIG",10);let C=Je;x.AnnotationEditorUIManager=C}),((e,x,n)=>{var T,H,F,W,J,R,l,v,L,G,z,U,Dn,On,Vr,or,sr,Wn,Un;Object.defineProperty(x,"__esModule",{value:!0}),x.StatTimer=x.RenderingCancelledException=x.PixelsPerInch=x.PageViewport=x.PDFDateString=x.DOMStandardFontDataFactory=x.DOMSVGFactory=x.DOMFilterFactory=x.DOMCanvasFactory=x.DOMCMapReaderFactory=void 0,x.deprecated=c,x.getColorValues=s,x.getCurrentTransform=w,x.getCurrentTransformInverse=B,x.getFilenameFromUrl=p,x.getPdfFilenameFromUrl=o,x.getRGB=t,x.getXfaPageViewport=k,x.isDataScheme=i,x.isPdfFile=d,x.isValidFetchUrl=m,x.loadScript=_,x.noContextMenu=f,x.setLayerDimensions=P;var y=n(7),S=n(1);const r="http://www.w3.org/2000/svg",D=class D{};Gt(D,"CSS",96),Gt(D,"PDF",72),Gt(D,"PDF_TO_CSS_UNITS",D.CSS/D.PDF);let j=D;x.PixelsPerInch=j;class Z extends y.BaseFilterFactory{constructor({docId:I,ownerDocument:q=globalThis.document}={}){super();Ee(this,U);Ee(this,T);Ee(this,H);Ee(this,F);Ee(this,W);Ee(this,J);Ee(this,R);Ee(this,l);Ee(this,v);Ee(this,L);Ee(this,G);Ee(this,z,0);ye(this,F,I),ye(this,W,q)}addFilter(I){if(!I)return"none";let q=u(this,U,Dn).get(I);if(q)return q;let re,ie,ue,Ce;if(I.length===1){const Ie=I[0],it=new Array(256);for(let Ye=0;Ye<256;Ye++)it[Ye]=Ie[Ye]/255;Ce=re=ie=ue=it.join(",")}else{const[Ie,it,Ye]=I,pt=new Array(256),ze=new Array(256),$e=new Array(256);for(let at=0;at<256;at++)pt[at]=Ie[at]/255,ze[at]=it[at]/255,$e[at]=Ye[at]/255;re=pt.join(","),ie=ze.join(","),ue=$e.join(","),Ce="".concat(re).concat(ie).concat(ue)}if(q=u(this,U,Dn).get(Ce),q)return u(this,U,Dn).set(I,q),q;const Pe="g_".concat(u(this,F),"_transfer_map_").concat(Hn(this,z)._++),se="url(#".concat(Pe,")");u(this,U,Dn).set(I,se),u(this,U,Dn).set(Ce,se);const Be=ce(this,U,or).call(this,Pe);return ce(this,U,Wn).call(this,re,ie,ue,Be),se}addHCMFilter(I,q){var it;const re="".concat(I,"-").concat(q);if(u(this,R)===re)return u(this,l);if(ye(this,R,re),ye(this,l,"none"),(it=u(this,J))==null||it.remove(),!I||!q)return u(this,l);const ie=ce(this,U,Un).call(this,I);I=S.Util.makeHexColor(...ie);const ue=ce(this,U,Un).call(this,q);if(q=S.Util.makeHexColor(...ue),u(this,U,On).style.color="",I==="#000000"&&q==="#ffffff"||I===q)return u(this,l);const Ce=new Array(256);for(let Ye=0;Ye<=255;Ye++){const pt=Ye/255;Ce[Ye]=pt<=.03928?pt/12.92:((pt+.055)/1.055)**2.4}const Pe=Ce.join(","),se="g_".concat(u(this,F),"_hcm_filter"),Be=ye(this,v,ce(this,U,or).call(this,se));ce(this,U,Wn).call(this,Pe,Pe,Pe,Be),ce(this,U,Vr).call(this,Be);const Ie=(Ye,pt)=>{const ze=ie[Ye]/255,$e=ue[Ye]/255,at=new Array(pt+1);for(let yt=0;yt<=pt;yt++)at[yt]=ze+yt/pt*($e-ze);return at.join(",")};return ce(this,U,Wn).call(this,Ie(0,5),Ie(1,5),Ie(2,5),Be),ye(this,l,"url(#".concat(se,")")),u(this,l)}addHighlightHCMFilter(I,q,re,ie){var $e;const ue="".concat(I,"-").concat(q,"-").concat(re,"-").concat(ie);if(u(this,L)===ue)return u(this,G);if(ye(this,L,ue),ye(this,G,"none"),($e=u(this,v))==null||$e.remove(),!I||!q)return u(this,G);const[Ce,Pe]=[I,q].map(ce(this,U,Un).bind(this));let se=Math.round(.2126*Ce[0]+.7152*Ce[1]+.0722*Ce[2]),Be=Math.round(.2126*Pe[0]+.7152*Pe[1]+.0722*Pe[2]),[Ie,it]=[re,ie].map(ce(this,U,Un).bind(this));Be<se&&([se,Be,Ie,it]=[Be,se,it,Ie]),u(this,U,On).style.color="";const Ye=(at,yt,Le)=>{const pe=new Array(256),me=(Be-se)/Le,Ke=at/255,Je=(yt-at)/(255*Le);let st=0;for(let Q=0;Q<=Le;Q++){const Re=Math.round(se+Q*me),He=Ke+Q*Je;for(let Qe=st;Qe<=Re;Qe++)pe[Qe]=He;st=Re+1}for(let Q=st;Q<256;Q++)pe[Q]=pe[st-1];return pe.join(",")},pt="g_".concat(u(this,F),"_hcm_highlight_filter"),ze=ye(this,v,ce(this,U,or).call(this,pt));return ce(this,U,Vr).call(this,ze),ce(this,U,Wn).call(this,Ye(Ie[0],it[0],5),Ye(Ie[1],it[1],5),Ye(Ie[2],it[2],5),ze),ye(this,G,"url(#".concat(pt,")")),u(this,G)}destroy(I=!1){I&&(u(this,l)||u(this,G))||(u(this,H)&&(u(this,H).parentNode.parentNode.remove(),ye(this,H,null)),u(this,T)&&(u(this,T).clear(),ye(this,T,null)),ye(this,z,0))}}T=new WeakMap,H=new WeakMap,F=new WeakMap,W=new WeakMap,J=new WeakMap,R=new WeakMap,l=new WeakMap,v=new WeakMap,L=new WeakMap,G=new WeakMap,z=new WeakMap,U=new WeakSet,Dn=function(){return u(this,T)||ye(this,T,new Map)},On=function(){if(!u(this,H)){const I=u(this,W).createElement("div"),{style:q}=I;q.visibility="hidden",q.contain="strict",q.width=q.height=0,q.position="absolute",q.top=q.left=0,q.zIndex=-1;const re=u(this,W).createElementNS(r,"svg");re.setAttribute("width",0),re.setAttribute("height",0),ye(this,H,u(this,W).createElementNS(r,"defs")),I.append(re),re.append(u(this,H)),u(this,W).body.append(I)}return u(this,H)},Vr=function(I){const q=u(this,W).createElementNS(r,"feColorMatrix");q.setAttribute("type","matrix"),q.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),I.append(q)},or=function(I){const q=u(this,W).createElementNS(r,"filter");return q.setAttribute("color-interpolation-filters","sRGB"),q.setAttribute("id",I),u(this,U,On).append(q),q},sr=function(I,q,re){const ie=u(this,W).createElementNS(r,q);ie.setAttribute("type","discrete"),ie.setAttribute("tableValues",re),I.append(ie)},Wn=function(I,q,re,ie){const ue=u(this,W).createElementNS(r,"feComponentTransfer");ie.append(ue),ce(this,U,sr).call(this,ue,"feFuncR",I),ce(this,U,sr).call(this,ue,"feFuncG",q),ce(this,U,sr).call(this,ue,"feFuncB",re)},Un=function(I){return u(this,U,On).style.color=I,t(getComputedStyle(u(this,U,On)).getPropertyValue("color"))},x.DOMFilterFactory=Z;class X extends y.BaseCanvasFactory{constructor({ownerDocument:he=globalThis.document}={}){super(),this._document=he}_createCanvas(he,I){const q=this._document.createElement("canvas");return q.width=he,q.height=I,q}}x.DOMCanvasFactory=X;async function V(de,he=!1){if(m(de,document.baseURI)){const I=await fetch(de);if(!I.ok)throw new Error(I.statusText);return he?new Uint8Array(await I.arrayBuffer()):(0,S.stringToBytes)(await I.text())}return new Promise((I,q)=>{const re=new XMLHttpRequest;re.open("GET",de,!0),he&&(re.responseType="arraybuffer"),re.onreadystatechange=()=>{if(re.readyState===XMLHttpRequest.DONE){if(re.status===200||re.status===0){let ie;if(he&&re.response?ie=new Uint8Array(re.response):!he&&re.responseText&&(ie=(0,S.stringToBytes)(re.responseText)),ie){I(ie);return}}q(new Error(re.statusText))}},re.send(null)})}class A extends y.BaseCMapReaderFactory{_fetchData(he,I){return V(he,this.isCompressed).then(q=>({cMapData:q,compressionType:I}))}}x.DOMCMapReaderFactory=A;class N extends y.BaseStandardFontDataFactory{_fetchData(he){return V(he,!0)}}x.DOMStandardFontDataFactory=N;class C extends y.BaseSVGFactory{_createSVG(he){return document.createElementNS(r,he)}}x.DOMSVGFactory=C;class b{constructor({viewBox:he,scale:I,rotation:q,offsetX:re=0,offsetY:ie=0,dontFlip:ue=!1}){this.viewBox=he,this.scale=I,this.rotation=q,this.offsetX=re,this.offsetY=ie;const Ce=(he[2]+he[0])/2,Pe=(he[3]+he[1])/2;let se,Be,Ie,it;switch(q%=360,q<0&&(q+=360),q){case 180:se=-1,Be=0,Ie=0,it=1;break;case 90:se=0,Be=1,Ie=1,it=0;break;case 270:se=0,Be=-1,Ie=-1,it=0;break;case 0:se=1,Be=0,Ie=0,it=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ue&&(Ie=-Ie,it=-it);let Ye,pt,ze,$e;se===0?(Ye=Math.abs(Pe-he[1])*I+re,pt=Math.abs(Ce-he[0])*I+ie,ze=(he[3]-he[1])*I,$e=(he[2]-he[0])*I):(Ye=Math.abs(Ce-he[0])*I+re,pt=Math.abs(Pe-he[1])*I+ie,ze=(he[2]-he[0])*I,$e=(he[3]-he[1])*I),this.transform=[se*I,Be*I,Ie*I,it*I,Ye-se*I*Ce-Ie*I*Pe,pt-Be*I*Ce-it*I*Pe],this.width=ze,this.height=$e}get rawDims(){const{viewBox:he}=this;return(0,S.shadow)(this,"rawDims",{pageWidth:he[2]-he[0],pageHeight:he[3]-he[1],pageX:he[0],pageY:he[1]})}clone({scale:he=this.scale,rotation:I=this.rotation,offsetX:q=this.offsetX,offsetY:re=this.offsetY,dontFlip:ie=!1}={}){return new b({viewBox:this.viewBox.slice(),scale:he,rotation:I,offsetX:q,offsetY:re,dontFlip:ie})}convertToViewportPoint(he,I){return S.Util.applyTransform([he,I],this.transform)}convertToViewportRectangle(he){const I=S.Util.applyTransform([he[0],he[1]],this.transform),q=S.Util.applyTransform([he[2],he[3]],this.transform);return[I[0],I[1],q[0],q[1]]}convertToPdfPoint(he,I){return S.Util.applyInverseTransform([he,I],this.transform)}}x.PageViewport=b;class h extends S.BaseException{constructor(he,I=0){super(he,"RenderingCancelledException"),this.extraDelay=I}}x.RenderingCancelledException=h;function i(de){const he=de.length;let I=0;for(;I<he&&de[I].trim()==="";)I++;return de.substring(I,I+5).toLowerCase()==="data:"}function d(de){return typeof de=="string"&&/\.pdf$/i.test(de)}function p(de,he=!1){return he||([de]=de.split(/[#?]/,1)),de.substring(de.lastIndexOf("/")+1)}function o(de,he="document.pdf"){if(typeof de!="string")return he;if(i(de))return(0,S.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),he;const I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,re=I.exec(de);let ie=q.exec(re[1])||q.exec(re[2])||q.exec(re[3]);if(ie&&(ie=ie[0],ie.includes("%")))try{ie=q.exec(decodeURIComponent(ie))[0]}catch(ue){}return ie||he}class M{constructor(){Gt(this,"started",Object.create(null));Gt(this,"times",[])}time(he){he in this.started&&(0,S.warn)("Timer is already running for ".concat(he)),this.started[he]=Date.now()}timeEnd(he){he in this.started||(0,S.warn)("Timer has not been started for ".concat(he)),this.times.push({name:he,start:this.started[he],end:Date.now()}),delete this.started[he]}toString(){const he=[];let I=0;for(const{name:q}of this.times)I=Math.max(q.length,I);for(const{name:q,start:re,end:ie}of this.times)he.push("".concat(q.padEnd(I)," ").concat(ie-re,"ms\n"));return he.join("")}}x.StatTimer=M;function m(de,he){try{const{protocol:I}=he?new URL(de,he):new URL(de);return I==="http:"||I==="https:"}catch(I){return!1}}function f(de){de.preventDefault()}function _(de,he=!1){return new Promise((I,q)=>{const re=document.createElement("script");re.src=de,re.onload=function(ie){he&&re.remove(),I(ie)},re.onerror=function(){q(new Error("Cannot load script at: ".concat(re.src)))},(document.head||document.documentElement).append(re)})}function c(de){console.log("Deprecated API usage: "+de)}let a;class g{static toDateObject(he){if(!he||typeof he!="string")return null;a||(a=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const I=a.exec(he);if(!I)return null;const q=parseInt(I[1],10);let re=parseInt(I[2],10);re=re>=1&&re<=12?re-1:0;let ie=parseInt(I[3],10);ie=ie>=1&&ie<=31?ie:1;let ue=parseInt(I[4],10);ue=ue>=0&&ue<=23?ue:0;let Ce=parseInt(I[5],10);Ce=Ce>=0&&Ce<=59?Ce:0;let Pe=parseInt(I[6],10);Pe=Pe>=0&&Pe<=59?Pe:0;const se=I[7]||"Z";let Be=parseInt(I[8],10);Be=Be>=0&&Be<=23?Be:0;let Ie=parseInt(I[9],10)||0;return Ie=Ie>=0&&Ie<=59?Ie:0,se==="-"?(ue+=Be,Ce+=Ie):se==="+"&&(ue-=Be,Ce-=Ie),new Date(Date.UTC(q,re,ie,ue,Ce,Pe))}}x.PDFDateString=g;function k(de,{scale:he=1,rotation:I=0}){const{width:q,height:re}=de.attributes.style,ie=[0,0,parseInt(q),parseInt(re)];return new b({viewBox:ie,scale:he,rotation:I})}function t(de){if(de.startsWith("#")){const he=parseInt(de.slice(1),16);return[(he&16711680)>>16,(he&65280)>>8,he&255]}return de.startsWith("rgb(")?de.slice(4,-1).split(",").map(he=>parseInt(he)):de.startsWith("rgba(")?de.slice(5,-1).split(",").map(he=>parseInt(he)).slice(0,3):((0,S.warn)('Not a valid color format: "'.concat(de,'"')),[0,0,0])}function s(de){const he=document.createElement("span");he.style.visibility="hidden",document.body.append(he);for(const I of de.keys()){he.style.color=I;const q=window.getComputedStyle(he).color;de.set(I,t(q))}he.remove()}function w(de){const{a:he,b:I,c:q,d:re,e:ie,f:ue}=de.getTransform();return[he,I,q,re,ie,ue]}function B(de){const{a:he,b:I,c:q,d:re,e:ie,f:ue}=de.getTransform().invertSelf();return[he,I,q,re,ie,ue]}function P(de,he,I=!1,q=!0){if(he instanceof b){const{pageWidth:re,pageHeight:ie}=he.rawDims,{style:ue}=de,Ce=S.FeatureTest.isCSSRoundSupported,Pe="var(--scale-factor) * ".concat(re,"px"),se="var(--scale-factor) * ".concat(ie,"px"),Be=Ce?"round(".concat(Pe,", 1px)"):"calc(".concat(Pe,")"),Ie=Ce?"round(".concat(se,", 1px)"):"calc(".concat(se,")");!I||he.rotation%180===0?(ue.width=Be,ue.height=Ie):(ue.width=Ie,ue.height=Be)}q&&de.setAttribute("data-main-rotation",he.rotation)}}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BaseStandardFontDataFactory=x.BaseSVGFactory=x.BaseFilterFactory=x.BaseCanvasFactory=x.BaseCMapReaderFactory=void 0;var y=n(1);class S{constructor(){this.constructor===S&&(0,y.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(A){return"none"}addHCMFilter(A,N){return"none"}addHighlightHCMFilter(A,N,C,b){return"none"}destroy(A=!1){}}x.BaseFilterFactory=S;class r{constructor(){this.constructor===r&&(0,y.unreachable)("Cannot initialize BaseCanvasFactory.")}create(A,N){if(A<=0||N<=0)throw new Error("Invalid canvas size");const C=this._createCanvas(A,N);return{canvas:C,context:C.getContext("2d")}}reset(A,N,C){if(!A.canvas)throw new Error("Canvas is not specified");if(N<=0||C<=0)throw new Error("Invalid canvas size");A.canvas.width=N,A.canvas.height=C}destroy(A){if(!A.canvas)throw new Error("Canvas is not specified");A.canvas.width=0,A.canvas.height=0,A.canvas=null,A.context=null}_createCanvas(A,N){(0,y.unreachable)("Abstract method `_createCanvas` called.")}}x.BaseCanvasFactory=r;class j{constructor({baseUrl:A=null,isCompressed:N=!0}){this.constructor===j&&(0,y.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=A,this.isCompressed=N}async fetch({name:A}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!A)throw new Error("CMap name must be specified.");const N=this.baseUrl+A+(this.isCompressed?".bcmap":""),C=this.isCompressed?y.CMapCompressionType.BINARY:y.CMapCompressionType.NONE;return this._fetchData(N,C).catch(b=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(N))})}_fetchData(A,N){(0,y.unreachable)("Abstract method `_fetchData` called.")}}x.BaseCMapReaderFactory=j;class Z{constructor({baseUrl:A=null}){this.constructor===Z&&(0,y.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=A}async fetch({filename:A}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!A)throw new Error("Font filename must be specified.");const N="".concat(this.baseUrl).concat(A);return this._fetchData(N).catch(C=>{throw new Error("Unable to load font data at: ".concat(N))})}_fetchData(A){(0,y.unreachable)("Abstract method `_fetchData` called.")}}x.BaseStandardFontDataFactory=Z;class X{constructor(){this.constructor===X&&(0,y.unreachable)("Cannot initialize BaseSVGFactory.")}create(A,N,C=!1){if(A<=0||N<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),C||(b.setAttribute("width","".concat(A,"px")),b.setAttribute("height","".concat(N,"px"))),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox","0 0 ".concat(A," ").concat(N)),b}createElement(A){if(typeof A!="string")throw new Error("Invalid SVG element type");return this._createSVG(A)}_createSVG(A){(0,y.unreachable)("Abstract method `_createSVG` called.")}}x.BaseSVGFactory=X}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MurmurHash3_64=void 0;var y=n(1);const S=3285377520,r=4294901760,j=65535;class Z{constructor(V){this.h1=V?V&4294967295:S,this.h2=V?V&4294967295:S}update(V){let A,N;if(typeof V=="string"){A=new Uint8Array(V.length*2),N=0;for(let c=0,a=V.length;c<a;c++){const g=V.charCodeAt(c);g<=255?A[N++]=g:(A[N++]=g>>>8,A[N++]=g&255)}}else if((0,y.isArrayBuffer)(V))A=V.slice(),N=A.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const C=N>>2,b=N-C*4,h=new Uint32Array(A.buffer,0,C);let i=0,d=0,p=this.h1,o=this.h2;const M=3432918353,m=461845907,f=M&j,_=m&j;for(let c=0;c<C;c++)c&1?(i=h[c],i=i*M&r|i*f&j,i=i<<15|i>>>17,i=i*m&r|i*_&j,p^=i,p=p<<13|p>>>19,p=p*5+3864292196):(d=h[c],d=d*M&r|d*f&j,d=d<<15|d>>>17,d=d*m&r|d*_&j,o^=d,o=o<<13|o>>>19,o=o*5+3864292196);switch(i=0,b){case 3:i^=A[C*4+2]<<16;case 2:i^=A[C*4+1]<<8;case 1:i^=A[C*4],i=i*M&r|i*f&j,i=i<<15|i>>>17,i=i*m&r|i*_&j,C&1?p^=i:o^=i}this.h1=p,this.h2=o}hexdigest(){let V=this.h1,A=this.h2;return V^=A>>>1,V=V*3981806797&r|V*36045&j,A=A*4283543511&r|((A<<16|V>>>16)*2950163797&r)>>>16,V^=A>>>1,V=V*444984403&r|V*60499&j,A=A*3301882366&r|((A<<16|V>>>16)*3120437893&r)>>>16,V^=A>>>1,(V>>>0).toString(16).padStart(8,"0")+(A>>>0).toString(16).padStart(8,"0")}}x.MurmurHash3_64=Z}),((e,x,n)=>{var j;Object.defineProperty(x,"__esModule",{value:!0}),x.FontLoader=x.FontFaceObject=void 0;var y=n(1);class S{constructor({ownerDocument:X=globalThis.document,styleElement:V=null}){Ee(this,j,new Set);this._document=X,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(X){this.nativeFontFaces.add(X),this._document.fonts.add(X)}removeNativeFontFace(X){this.nativeFontFaces.delete(X),this._document.fonts.delete(X)}insertRule(X){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const V=this.styleElement.sheet;V.insertRule(X,V.cssRules.length)}clear(){for(const X of this.nativeFontFaces)this._document.fonts.delete(X);this.nativeFontFaces.clear(),u(this,j).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(X){if(!(!X||u(this,j).has(X.loadedName))){if((0,y.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:V,src:A,style:N}=X,C=new FontFace(V,A,N);this.addNativeFontFace(C);try{await C.load(),u(this,j).add(V)}catch(b){(0,y.warn)("Cannot load system font: ".concat(X.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(C)}return}(0,y.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(X){if(X.attached||X.missingFile&&!X.systemFontInfo)return;if(X.attached=!0,X.systemFontInfo){await this.loadSystemFont(X.systemFontInfo);return}if(this.isFontLoadingAPISupported){const A=X.createNativeFontFace();if(A){this.addNativeFontFace(A);try{await A.loaded}catch(N){throw(0,y.warn)("Failed to load font '".concat(A.family,"': '").concat(N,"'.")),X.disableFontFace=!0,N}}return}const V=X.createFontFaceRule();if(V){if(this.insertRule(V),this.isSyncFontLoadingSupported)return;await new Promise(A=>{const N=this._queueLoadingCallback(A);this._prepareFontLoadEvent(X,N)})}}get isFontLoadingAPISupported(){var V;const X=!!((V=this._document)!=null&&V.fonts);return(0,y.shadow)(this,"isFontLoadingAPISupported",X)}get isSyncFontLoadingSupported(){let X=!1;return(y.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(X=!0),(0,y.shadow)(this,"isSyncFontLoadingSupported",X)}_queueLoadingCallback(X){function V(){for((0,y.assert)(!N.done,"completeRequest() cannot be called twice."),N.done=!0;A.length>0&&A[0].done;){const C=A.shift();setTimeout(C.callback,0)}}const{loadingRequests:A}=this,N={done:!1,complete:V,callback:X};return A.push(N),N}get _loadTestFont(){const X=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,y.shadow)(this,"_loadTestFont",X)}_prepareFontLoadEvent(X,V){function A(t,s){return t.charCodeAt(s)<<24|t.charCodeAt(s+1)<<16|t.charCodeAt(s+2)<<8|t.charCodeAt(s+3)&255}function N(t,s,w,B){const P=t.substring(0,s),D=t.substring(s+w);return P+B+D}let C,b;const h=this._document.createElement("canvas");h.width=1,h.height=1;const i=h.getContext("2d");let d=0;function p(t,s){if(++d>30){(0,y.warn)("Load test font never loaded."),s();return}if(i.font="30px "+t,i.fillText(".",0,20),i.getImageData(0,0,1,1).data[3]>0){s();return}setTimeout(p.bind(null,t,s))}const o="lt".concat(Date.now()).concat(this.loadTestFontId++);let M=this._loadTestFont;M=N(M,976,o.length,o);const f=16,_=1482184792;let c=A(M,f);for(C=0,b=o.length-3;C<b;C+=4)c=c-_+A(o,C)|0;C<o.length&&(c=c-_+A(o+"XXX",C)|0),M=N(M,f,4,(0,y.string32)(c));const a="url(data:font/opentype;base64,".concat(btoa(M),");"),g='@font-face {font-family:"'.concat(o,'";src:').concat(a,"}");this.insertRule(g);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const t of[X.loadedName,o]){const s=this._document.createElement("span");s.textContent="Hi",s.style.fontFamily=t,k.append(s)}this._document.body.append(k),p(o,()=>{k.remove(),V.complete()})}}j=new WeakMap,x.FontLoader=S;class r{constructor(X,{isEvalSupported:V=!0,disableFontFace:A=!1,ignoreErrors:N=!1,inspectFont:C=null}){this.compiledGlyphs=Object.create(null);for(const b in X)this[b]=X[b];this.isEvalSupported=V!==!1,this.disableFontFace=A===!0,this.ignoreErrors=N===!0,this._inspectFont=C}createNativeFontFace(){var V;if(!this.data||this.disableFontFace)return null;let X;if(!this.cssFontInfo)X=new FontFace(this.loadedName,this.data,{});else{const A={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(A.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),X=new FontFace(this.cssFontInfo.fontFamily,this.data,A)}return(V=this._inspectFont)==null||V.call(this,this),X}createFontFaceRule(){var N;if(!this.data||this.disableFontFace)return null;const X=(0,y.bytesToString)(this.data),V="url(data:".concat(this.mimetype,";base64,").concat(btoa(X),");");let A;if(!this.cssFontInfo)A='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(V,"}");else{let C="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(C+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),A='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(C,"src:").concat(V,"}")}return(N=this._inspectFont)==null||N.call(this,this,V),A}getPathGenerator(X,V){if(this.compiledGlyphs[V]!==void 0)return this.compiledGlyphs[V];let A;try{A=X.get(this.loadedName+"_path_"+V)}catch(N){if(!this.ignoreErrors)throw N;return(0,y.warn)('getPathGenerator - ignoring character: "'.concat(N,'".')),this.compiledGlyphs[V]=function(C,b){}}if(this.isEvalSupported&&y.FeatureTest.isEvalSupported){const N=[];for(const C of A){const b=C.args!==void 0?C.args.join(","):"";N.push("c.",C.cmd,"(",b,");\n")}return this.compiledGlyphs[V]=new Function("c","size",N.join(""))}return this.compiledGlyphs[V]=function(N,C){for(const b of A)b.cmd==="scale"&&(b.args=[C,-C]),N[b.cmd].apply(N,b.args)}}}x.FontFaceObject=r}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NodeStandardFontDataFactory=x.NodeFilterFactory=x.NodeCanvasFactory=x.NodeCMapReaderFactory=void 0;var y=n(7);n(1);const S=function(V){return new Promise((A,N)=>{require$$5.readFile(V,(b,h)=>{if(b||!h){N(new Error(b));return}A(new Uint8Array(h))})})};class r extends y.BaseFilterFactory{}x.NodeFilterFactory=r;class j extends y.BaseCanvasFactory{_createCanvas(A,N){return require$$5.createCanvas(A,N)}}x.NodeCanvasFactory=j;class Z extends y.BaseCMapReaderFactory{_fetchData(A,N){return S(A).then(C=>({cMapData:C,compressionType:N}))}}x.NodeCMapReaderFactory=Z;class X extends y.BaseStandardFontDataFactory{_fetchData(A){return S(A)}}x.NodeStandardFontDataFactory=X}),((e,x,n)=>{var H,Wr,Ur;Object.defineProperty(x,"__esModule",{value:!0}),x.CanvasGraphics=void 0;var y=n(1),S=n(6),r=n(12),j=n(13);const Z=16,X=100,V=4096,A=15,N=10,C=1e3,b=16;function h(R,l){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){l.save(),this.__originalSave()},R.restore=function(){l.restore(),this.__originalRestore()},R.translate=function(L,G){l.translate(L,G),this.__originalTranslate(L,G)},R.scale=function(L,G){l.scale(L,G),this.__originalScale(L,G)},R.transform=function(L,G,z,U,ee,fe){l.transform(L,G,z,U,ee,fe),this.__originalTransform(L,G,z,U,ee,fe)},R.setTransform=function(L,G,z,U,ee,fe){l.setTransform(L,G,z,U,ee,fe),this.__originalSetTransform(L,G,z,U,ee,fe)},R.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},R.rotate=function(L){l.rotate(L),this.__originalRotate(L)},R.clip=function(L){l.clip(L),this.__originalClip(L)},R.moveTo=function(v,L){l.moveTo(v,L),this.__originalMoveTo(v,L)},R.lineTo=function(v,L){l.lineTo(v,L),this.__originalLineTo(v,L)},R.bezierCurveTo=function(v,L,G,z,U,ee){l.bezierCurveTo(v,L,G,z,U,ee),this.__originalBezierCurveTo(v,L,G,z,U,ee)},R.rect=function(v,L,G,z){l.rect(v,L,G,z),this.__originalRect(v,L,G,z)},R.closePath=function(){l.closePath(),this.__originalClosePath()},R.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}class i{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,v,L){let G;return this.cache[l]!==void 0?(G=this.cache[l],this.canvasFactory.reset(G,v,L)):(G=this.canvasFactory.create(v,L),this.cache[l]=G),G}delete(l){delete this.cache[l]}clear(){for(const l in this.cache){const v=this.cache[l];this.canvasFactory.destroy(v),delete this.cache[l]}}}function d(R,l,v,L,G,z,U,ee,fe,Se){const[xe,Ae,Me,Te,de,he]=(0,S.getCurrentTransform)(R);if(Ae===0&&Me===0){const re=U*xe+de,ie=Math.round(re),ue=ee*Te+he,Ce=Math.round(ue),Pe=(U+fe)*xe+de,se=Math.abs(Math.round(Pe)-ie)||1,Be=(ee+Se)*Te+he,Ie=Math.abs(Math.round(Be)-Ce)||1;return R.setTransform(Math.sign(xe),0,0,Math.sign(Te),ie,Ce),R.drawImage(l,v,L,G,z,0,0,se,Ie),R.setTransform(xe,Ae,Me,Te,de,he),[se,Ie]}if(xe===0&&Te===0){const re=ee*Me+de,ie=Math.round(re),ue=U*Ae+he,Ce=Math.round(ue),Pe=(ee+Se)*Me+de,se=Math.abs(Math.round(Pe)-ie)||1,Be=(U+fe)*Ae+he,Ie=Math.abs(Math.round(Be)-Ce)||1;return R.setTransform(0,Math.sign(Ae),Math.sign(Me),0,ie,Ce),R.drawImage(l,v,L,G,z,0,0,Ie,se),R.setTransform(xe,Ae,Me,Te,de,he),[Ie,se]}R.drawImage(l,v,L,G,z,U,ee,fe,Se);const I=Math.hypot(xe,Ae),q=Math.hypot(Me,Te);return[I*fe,q*Se]}function p(R){const{width:l,height:v}=R;if(l>C||v>C)return null;const L=1e3,G=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),z=l+1;let U=new Uint8Array(z*(v+1)),ee,fe,Se;const xe=l+7&-8;let Ae=new Uint8Array(xe*v),Me=0;for(const q of R.data){let re=128;for(;re>0;)Ae[Me++]=q&re?0:255,re>>=1}let Te=0;for(Me=0,Ae[Me]!==0&&(U[0]=1,++Te),fe=1;fe<l;fe++)Ae[Me]!==Ae[Me+1]&&(U[fe]=Ae[Me]?2:1,++Te),Me++;for(Ae[Me]!==0&&(U[fe]=2,++Te),ee=1;ee<v;ee++){Me=ee*xe,Se=ee*z,Ae[Me-xe]!==Ae[Me]&&(U[Se]=Ae[Me]?1:8,++Te);let q=(Ae[Me]?4:0)+(Ae[Me-xe]?8:0);for(fe=1;fe<l;fe++)q=(q>>2)+(Ae[Me+1]?4:0)+(Ae[Me-xe+1]?8:0),G[q]&&(U[Se+fe]=G[q],++Te),Me++;if(Ae[Me-xe]!==Ae[Me]&&(U[Se+fe]=Ae[Me]?2:4,++Te),Te>L)return null}for(Me=xe*(v-1),Se=ee*z,Ae[Me]!==0&&(U[Se]=8,++Te),fe=1;fe<l;fe++)Ae[Me]!==Ae[Me+1]&&(U[Se+fe]=Ae[Me]?4:8,++Te),Me++;if(Ae[Me]!==0&&(U[Se+fe]=4,++Te),Te>L)return null;const de=new Int32Array([0,z,-1,0,-z,0,0,0,1]),he=new Path2D;for(ee=0;Te&&ee<=v;ee++){let q=ee*z;const re=q+l;for(;q<re&&!U[q];)q++;if(q===re)continue;he.moveTo(q%z,ee);const ie=q;let ue=U[q];do{const Ce=de[ue];do q+=Ce;while(!U[q]);const Pe=U[q];Pe!==5&&Pe!==10?(ue=Pe,U[q]=0):(ue=Pe&51*ue>>4,U[q]&=ue>>2|ue<<2),he.lineTo(q%z,q/z|0),U[q]||--Te}while(ie!==q);--ee}return Ae=null,U=null,function(q){q.save(),q.scale(1/l,-1/v),q.translate(0,-v),q.fill(he),q.beginPath(),q.restore()}}class o{constructor(l,v){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=y.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=y.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=y.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,l,v])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,v){this.x=l,this.y=v}updatePathMinMax(l,v,L){[v,L]=y.Util.applyTransform([v,L],l),this.minX=Math.min(this.minX,v),this.minY=Math.min(this.minY,L),this.maxX=Math.max(this.maxX,v),this.maxY=Math.max(this.maxY,L)}updateRectMinMax(l,v){const L=y.Util.applyTransform(v,l),G=y.Util.applyTransform(v.slice(2),l);this.minX=Math.min(this.minX,L[0],G[0]),this.minY=Math.min(this.minY,L[1],G[1]),this.maxX=Math.max(this.maxX,L[0],G[0]),this.maxY=Math.max(this.maxY,L[1],G[1])}updateScalingPathMinMax(l,v){y.Util.scaleMinMax(l,v),this.minX=Math.min(this.minX,v[0]),this.maxX=Math.max(this.maxX,v[1]),this.minY=Math.min(this.minY,v[2]),this.maxY=Math.max(this.maxY,v[3])}updateCurvePathMinMax(l,v,L,G,z,U,ee,fe,Se,xe){const Ae=y.Util.bezierBoundingBox(v,L,G,z,U,ee,fe,Se);if(xe){xe[0]=Math.min(xe[0],Ae[0],Ae[2]),xe[1]=Math.max(xe[1],Ae[0],Ae[2]),xe[2]=Math.min(xe[2],Ae[1],Ae[3]),xe[3]=Math.max(xe[3],Ae[1],Ae[3]);return}this.updateRectMinMax(l,Ae)}getPathBoundingBox(l=r.PathType.FILL,v=null){const L=[this.minX,this.minY,this.maxX,this.maxY];if(l===r.PathType.STROKE){v||(0,y.unreachable)("Stroke bounding box must include transform.");const G=y.Util.singularValueDecompose2dScale(v),z=G[0]*this.lineWidth/2,U=G[1]*this.lineWidth/2;L[0]-=z,L[1]-=U,L[2]+=z,L[3]+=U}return L}updateClipFromPath(){const l=y.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=r.PathType.FILL,v=null){return y.Util.intersect(this.clipBox,this.getPathBoundingBox(l,v))}}function M(R,l){if(typeof ImageData<"u"&&l instanceof ImageData){R.putImageData(l,0,0);return}const v=l.height,L=l.width,G=v%b,z=(v-G)/b,U=G===0?z:z+1,ee=R.createImageData(L,b);let fe=0,Se;const xe=l.data,Ae=ee.data;let Me,Te,de,he;if(l.kind===y.ImageKind.GRAYSCALE_1BPP){const I=xe.byteLength,q=new Uint32Array(Ae.buffer,0,Ae.byteLength>>2),re=q.length,ie=L+7>>3,ue=4294967295,Ce=y.FeatureTest.isLittleEndian?4278190080:255;for(Me=0;Me<U;Me++){for(de=Me<z?b:G,Se=0,Te=0;Te<de;Te++){const Pe=I-fe;let se=0;const Be=Pe>ie?L:Pe*8-7,Ie=Be&-8;let it=0,Ye=0;for(;se<Ie;se+=8)Ye=xe[fe++],q[Se++]=Ye&128?ue:Ce,q[Se++]=Ye&64?ue:Ce,q[Se++]=Ye&32?ue:Ce,q[Se++]=Ye&16?ue:Ce,q[Se++]=Ye&8?ue:Ce,q[Se++]=Ye&4?ue:Ce,q[Se++]=Ye&2?ue:Ce,q[Se++]=Ye&1?ue:Ce;for(;se<Be;se++)it===0&&(Ye=xe[fe++],it=128),q[Se++]=Ye&it?ue:Ce,it>>=1}for(;Se<re;)q[Se++]=0;R.putImageData(ee,0,Me*b)}}else if(l.kind===y.ImageKind.RGBA_32BPP){for(Te=0,he=L*b*4,Me=0;Me<z;Me++)Ae.set(xe.subarray(fe,fe+he)),fe+=he,R.putImageData(ee,0,Te),Te+=b;Me<U&&(he=L*G*4,Ae.set(xe.subarray(fe,fe+he)),R.putImageData(ee,0,Te))}else if(l.kind===y.ImageKind.RGB_24BPP)for(de=b,he=L*de,Me=0;Me<U;Me++){for(Me>=z&&(de=G,he=L*de),Se=0,Te=he;Te--;)Ae[Se++]=xe[fe++],Ae[Se++]=xe[fe++],Ae[Se++]=xe[fe++],Ae[Se++]=255;R.putImageData(ee,0,Me*b)}else throw new Error("bad image kind: ".concat(l.kind))}function m(R,l){if(l.bitmap){R.drawImage(l.bitmap,0,0);return}const v=l.height,L=l.width,G=v%b,z=(v-G)/b,U=G===0?z:z+1,ee=R.createImageData(L,b);let fe=0;const Se=l.data,xe=ee.data;for(let Ae=0;Ae<U;Ae++){const Me=Ae<z?b:G;({srcPos:fe}=(0,j.convertBlackAndWhiteToRGBA)({src:Se,srcPos:fe,dest:xe,width:L,height:Me,nonBlackColor:0})),R.putImageData(ee,0,Ae*b)}}function f(R,l){const v=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const L of v)R[L]!==void 0&&(l[L]=R[L]);R.setLineDash!==void 0&&(l.setLineDash(R.getLineDash()),l.lineDashOffset=R.lineDashOffset)}function _(R){if(R.strokeStyle=R.fillStyle="#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",R.setLineDash!==void 0&&(R.setLineDash([]),R.lineDashOffset=0),!y.isNodeJS){const{filter:l}=R;l!=="none"&&l!==""&&(R.filter="none")}}function c(R,l,v,L){const G=R.length;for(let z=3;z<G;z+=4){const U=R[z];if(U===0)R[z-3]=l,R[z-2]=v,R[z-1]=L;else if(U<255){const ee=255-U;R[z-3]=R[z-3]*U+l*ee>>8,R[z-2]=R[z-2]*U+v*ee>>8,R[z-1]=R[z-1]*U+L*ee>>8}}}function a(R,l,v){const L=R.length,G=1/255;for(let z=3;z<L;z+=4){const U=v?v[R[z]]:R[z];l[z]=l[z]*U*G|0}}function g(R,l,v){const L=R.length;for(let G=3;G<L;G+=4){const z=R[G-3]*77+R[G-2]*152+R[G-1]*28;l[G]=v?l[G]*v[z>>8]>>8:l[G]*z>>16}}function k(R,l,v,L,G,z,U,ee,fe,Se,xe){const Ae=!!z,Me=Ae?z[0]:0,Te=Ae?z[1]:0,de=Ae?z[2]:0,he=G==="Luminosity"?g:a,q=Math.min(L,Math.ceil(1048576/v));for(let re=0;re<L;re+=q){const ie=Math.min(q,L-re),ue=R.getImageData(ee-Se,re+(fe-xe),v,ie),Ce=l.getImageData(ee,re+fe,v,ie);Ae&&c(ue.data,Me,Te,de),he(ue.data,Ce.data,U),l.putImageData(Ce,ee,re+fe)}}function t(R,l,v,L){const G=L[0],z=L[1],U=L[2]-G,ee=L[3]-z;U===0||ee===0||(k(l.context,v,U,ee,l.subtype,l.backdrop,l.transferMap,G,z,l.offsetX,l.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(v.canvas,0,0),R.restore())}function s(R,l){const v=y.Util.singularValueDecompose2dScale(R);v[0]=Math.fround(v[0]),v[1]=Math.fround(v[1]);const L=Math.fround((globalThis.devicePixelRatio||1)*S.PixelsPerInch.PDF_TO_CSS_UNITS);return l!==void 0?l:v[0]<=L||v[1]<=L}const w=["butt","round","square"],B=["miter","round","bevel"],P={},D={},J=class J{constructor(l,v,L,G,z,{optionalContentConfig:U,markedContentStack:ee=null},fe,Se){Ee(this,H);this.ctx=l,this.current=new o(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=v,this.objs=L,this.canvasFactory=G,this.filterFactory=z,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ee||[],this.optionalContentConfig=U,this.cachedCanvases=new i(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=fe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Se,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(l,v=null){return typeof l=="string"?l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l):v}beginDrawing({transform:l,viewport:v,transparency:L=!1,background:G=null}){const z=this.ctx.canvas.width,U=this.ctx.canvas.height,ee=this.ctx.fillStyle;if(this.ctx.fillStyle=G||"#ffffff",this.ctx.fillRect(0,0,z,U),this.ctx.fillStyle=ee,L){const fe=this.cachedCanvases.getCanvas("transparent",z,U);this.compositeCtx=this.ctx,this.transparentCanvas=fe.canvas,this.ctx=fe.context,this.ctx.save(),this.ctx.transform(...(0,S.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_(this.ctx),l&&(this.ctx.transform(...l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform(...v.transform),this.viewportScale=v.scale,this.baseTransform=(0,S.getCurrentTransform)(this.ctx)}executeOperatorList(l,v,L,G){const z=l.argsArray,U=l.fnArray;let ee=v||0;const fe=z.length;if(fe===ee)return ee;const Se=fe-ee>N&&typeof L=="function",xe=Se?Date.now()+A:0;let Ae=0;const Me=this.commonObjs,Te=this.objs;let de;for(;;){if(G!==void 0&&ee===G.nextBreakPoint)return G.breakIt(ee,L),ee;if(de=U[ee],de!==y.OPS.dependency)this[de].apply(this,z[ee]);else for(const he of z[ee]){const I=he.startsWith("g_")?Me:Te;if(!I.has(he))return I.get(he,L),ee}if(ee++,ee===fe)return ee;if(Se&&++Ae>N){if(Date.now()>xe)return L(),ee;Ae=0}}}endDrawing(){ce(this,H,Wr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const l of this._cachedBitmapsMap.values()){for(const v of l.values())typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement&&(v.width=v.height=0);l.clear()}this._cachedBitmapsMap.clear(),ce(this,H,Ur).call(this)}_scaleImage(l,v){const L=l.width,G=l.height;let z=Math.max(Math.hypot(v[0],v[1]),1),U=Math.max(Math.hypot(v[2],v[3]),1),ee=L,fe=G,Se="prescale1",xe,Ae;for(;z>2&&ee>1||U>2&&fe>1;){let Me=ee,Te=fe;z>2&&ee>1&&(Me=ee>=16384?Math.floor(ee/2)-1||1:Math.ceil(ee/2),z/=ee/Me),U>2&&fe>1&&(Te=fe>=16384?Math.floor(fe/2)-1||1:Math.ceil(fe)/2,U/=fe/Te),xe=this.cachedCanvases.getCanvas(Se,Me,Te),Ae=xe.context,Ae.clearRect(0,0,Me,Te),Ae.drawImage(l,0,0,ee,fe,0,0,Me,Te),l=xe.canvas,ee=Me,fe=Te,Se=Se==="prescale1"?"prescale2":"prescale1"}return{img:l,paintWidth:ee,paintHeight:fe}}_createMaskCanvas(l){const v=this.ctx,{width:L,height:G}=l,z=this.current.fillColor,U=this.current.patternFill,ee=(0,S.getCurrentTransform)(v);let fe,Se,xe,Ae;if((l.bitmap||l.data)&&l.count>1){const se=l.bitmap||l.data.buffer;Se=JSON.stringify(U?ee:[ee.slice(0,4),z]),fe=this._cachedBitmapsMap.get(se),fe||(fe=new Map,this._cachedBitmapsMap.set(se,fe));const Be=fe.get(Se);if(Be&&!U){const Ie=Math.round(Math.min(ee[0],ee[2])+ee[4]),it=Math.round(Math.min(ee[1],ee[3])+ee[5]);return{canvas:Be,offsetX:Ie,offsetY:it}}xe=Be}xe||(Ae=this.cachedCanvases.getCanvas("maskCanvas",L,G),m(Ae.context,l));let Me=y.Util.transform(ee,[1/L,0,0,-1/G,0,0]);Me=y.Util.transform(Me,[1,0,0,1,0,-G]);const Te=y.Util.applyTransform([0,0],Me),de=y.Util.applyTransform([L,G],Me),he=y.Util.normalizeRect([Te[0],Te[1],de[0],de[1]]),I=Math.round(he[2]-he[0])||1,q=Math.round(he[3]-he[1])||1,re=this.cachedCanvases.getCanvas("fillCanvas",I,q),ie=re.context,ue=Math.min(Te[0],de[0]),Ce=Math.min(Te[1],de[1]);ie.translate(-ue,-Ce),ie.transform(...Me),xe||(xe=this._scaleImage(Ae.canvas,(0,S.getCurrentTransformInverse)(ie)),xe=xe.img,fe&&U&&fe.set(Se,xe)),ie.imageSmoothingEnabled=s((0,S.getCurrentTransform)(ie),l.interpolate),d(ie,xe,0,0,xe.width,xe.height,0,0,L,G),ie.globalCompositeOperation="source-in";const Pe=y.Util.transform((0,S.getCurrentTransformInverse)(ie),[1,0,0,1,-ue,-Ce]);return ie.fillStyle=U?z.getPattern(v,this,Pe,r.PathType.FILL):z,ie.fillRect(0,0,L,G),fe&&!U&&(this.cachedCanvases.delete("fillCanvas"),fe.set(Se,re.canvas)),{canvas:re.canvas,offsetX:Math.round(ue),offsetY:Math.round(Ce)}}setLineWidth(l){l!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=w[l]}setLineJoin(l){this.ctx.lineJoin=B[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,v){const L=this.ctx;L.setLineDash!==void 0&&(L.setLineDash(l),L.lineDashOffset=v)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(const[v,L]of l)switch(v){case"LW":this.setLineWidth(L);break;case"LC":this.setLineCap(L);break;case"LJ":this.setLineJoin(L);break;case"ML":this.setMiterLimit(L);break;case"D":this.setDash(L[0],L[1]);break;case"RI":this.setRenderingIntent(L);break;case"FL":this.setFlatness(L);break;case"Font":this.setFont(L[0],L[1]);break;case"CA":this.current.strokeAlpha=L;break;case"ca":this.current.fillAlpha=L,this.ctx.globalAlpha=L;break;case"BM":this.ctx.globalCompositeOperation=L;break;case"SMask":this.current.activeSMask=L?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(L);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.ctx.canvas.width,v=this.ctx.canvas.height,L="smaskGroupAt"+this.groupLevel,G=this.cachedCanvases.getCanvas(L,l,v);this.suspendedCtx=this.ctx,this.ctx=G.context;const z=this.ctx;z.setTransform(...(0,S.getCurrentTransform)(this.suspendedCtx)),f(this.suspendedCtx,z),h(z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){if(!this.current.activeSMask)return;l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const v=this.current.activeSMask,L=this.suspendedCtx;t(L,v,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(l,v,L,G,z,U){this.ctx.transform(l,v,L,G,z,U),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(l,v,L){const G=this.ctx,z=this.current;let U=z.x,ee=z.y,fe,Se;const xe=(0,S.getCurrentTransform)(G),Ae=xe[0]===0&&xe[3]===0||xe[1]===0&&xe[2]===0,Me=Ae?L.slice(0):null;for(let Te=0,de=0,he=l.length;Te<he;Te++)switch(l[Te]|0){case y.OPS.rectangle:U=v[de++],ee=v[de++];const I=v[de++],q=v[de++],re=U+I,ie=ee+q;G.moveTo(U,ee),I===0||q===0?G.lineTo(re,ie):(G.lineTo(re,ee),G.lineTo(re,ie),G.lineTo(U,ie)),Ae||z.updateRectMinMax(xe,[U,ee,re,ie]),G.closePath();break;case y.OPS.moveTo:U=v[de++],ee=v[de++],G.moveTo(U,ee),Ae||z.updatePathMinMax(xe,U,ee);break;case y.OPS.lineTo:U=v[de++],ee=v[de++],G.lineTo(U,ee),Ae||z.updatePathMinMax(xe,U,ee);break;case y.OPS.curveTo:fe=U,Se=ee,U=v[de+4],ee=v[de+5],G.bezierCurveTo(v[de],v[de+1],v[de+2],v[de+3],U,ee),z.updateCurvePathMinMax(xe,fe,Se,v[de],v[de+1],v[de+2],v[de+3],U,ee,Me),de+=6;break;case y.OPS.curveTo2:fe=U,Se=ee,G.bezierCurveTo(U,ee,v[de],v[de+1],v[de+2],v[de+3]),z.updateCurvePathMinMax(xe,fe,Se,U,ee,v[de],v[de+1],v[de+2],v[de+3],Me),U=v[de+2],ee=v[de+3],de+=4;break;case y.OPS.curveTo3:fe=U,Se=ee,U=v[de+2],ee=v[de+3],G.bezierCurveTo(v[de],v[de+1],U,ee,U,ee),z.updateCurvePathMinMax(xe,fe,Se,v[de],v[de+1],U,ee,U,ee,Me),de+=4;break;case y.OPS.closePath:G.closePath();break}Ae&&z.updateScalingPathMinMax(xe,Me),z.setCurrentPoint(U,ee)}closePath(){this.ctx.closePath()}stroke(l=!0){const v=this.ctx,L=this.current.strokeColor;v.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof L=="object"&&(L!=null&&L.getPattern)?(v.save(),v.strokeStyle=L.getPattern(v,this,(0,S.getCurrentTransformInverse)(v),r.PathType.STROKE),this.rescaleAndStroke(!1),v.restore()):this.rescaleAndStroke(!0)),l&&this.consumePath(this.current.getClippedPathBoundingBox()),v.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l=!0){const v=this.ctx,L=this.current.fillColor,G=this.current.patternFill;let z=!1;G&&(v.save(),v.fillStyle=L.getPattern(v,this,(0,S.getCurrentTransformInverse)(v),r.PathType.FILL),z=!0);const U=this.current.getClippedPathBoundingBox();this.contentVisible&&U!==null&&(this.pendingEOFill?(v.fill("evenodd"),this.pendingEOFill=!1):v.fill()),z&&v.restore(),l&&this.consumePath(U)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=P}eoClip(){this.pendingClip=D}beginText(){this.current.textMatrix=y.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,v=this.ctx;if(l===void 0){v.beginPath();return}v.save(),v.beginPath();for(const L of l)v.setTransform(...L.transform),v.translate(L.x,L.y),L.addToPath(v,L.fontSize);v.restore(),v.clip(),v.beginPath(),delete this.pendingTextPaths}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,v){var xe;const L=this.commonObjs.get(l),G=this.current;if(!L)throw new Error("Can't find font for ".concat(l));if(G.fontMatrix=L.fontMatrix||y.FONT_IDENTITY_MATRIX,(G.fontMatrix[0]===0||G.fontMatrix[3]===0)&&(0,y.warn)("Invalid font matrix for font "+l),v<0?(v=-v,G.fontDirection=-1):G.fontDirection=1,this.current.font=L,this.current.fontSize=v,L.isType3Font)return;const z=L.loadedName||"sans-serif",U=((xe=L.systemFontInfo)==null?void 0:xe.css)||'"'.concat(z,'", ').concat(L.fallbackName);let ee="normal";L.black?ee="900":L.bold&&(ee="bold");const fe=L.italic?"italic":"normal";let Se=v;v<Z?Se=Z:v>X&&(Se=X),this.current.fontSizeScale=v/Se,this.ctx.font="".concat(fe," ").concat(ee," ").concat(Se,"px ").concat(U)}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,v){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=v}setLeadingMoveText(l,v){this.setLeading(-v),this.moveText(l,v)}setTextMatrix(l,v,L,G,z,U){this.current.textMatrix=[l,v,L,G,z,U],this.current.textMatrixScale=Math.hypot(l,v),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,v,L,G){const z=this.ctx,U=this.current,ee=U.font,fe=U.textRenderingMode,Se=U.fontSize/U.fontSizeScale,xe=fe&y.TextRenderingMode.FILL_STROKE_MASK,Ae=!!(fe&y.TextRenderingMode.ADD_TO_PATH_FLAG),Me=U.patternFill&&!ee.missingFile;let Te;(ee.disableFontFace||Ae||Me)&&(Te=ee.getPathGenerator(this.commonObjs,l)),ee.disableFontFace||Me?(z.save(),z.translate(v,L),z.beginPath(),Te(z,Se),G&&z.setTransform(...G),(xe===y.TextRenderingMode.FILL||xe===y.TextRenderingMode.FILL_STROKE)&&z.fill(),(xe===y.TextRenderingMode.STROKE||xe===y.TextRenderingMode.FILL_STROKE)&&z.stroke(),z.restore()):((xe===y.TextRenderingMode.FILL||xe===y.TextRenderingMode.FILL_STROKE)&&z.fillText(l,v,L),(xe===y.TextRenderingMode.STROKE||xe===y.TextRenderingMode.FILL_STROKE)&&z.strokeText(l,v,L)),Ae&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,S.getCurrentTransform)(z),x:v,y:L,fontSize:Se,addToPath:Te})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const v=l.getImageData(0,0,10,10).data;let L=!1;for(let G=3;G<v.length;G+=4)if(v[G]>0&&v[G]<255){L=!0;break}return(0,y.shadow)(this,"isFontSubpixelAAEnabled",L)}showText(l){const v=this.current,L=v.font;if(L.isType3Font)return this.showType3Text(l);const G=v.fontSize;if(G===0)return;const z=this.ctx,U=v.fontSizeScale,ee=v.charSpacing,fe=v.wordSpacing,Se=v.fontDirection,xe=v.textHScale*Se,Ae=l.length,Me=L.vertical,Te=Me?1:-1,de=L.defaultVMetrics,he=G*v.fontMatrix[0],I=v.textRenderingMode===y.TextRenderingMode.FILL&&!L.disableFontFace&&!v.patternFill;z.save(),z.transform(...v.textMatrix),z.translate(v.x,v.y+v.textRise),Se>0?z.scale(xe,-1):z.scale(xe,1);let q;if(v.patternFill){z.save();const Pe=v.fillColor.getPattern(z,this,(0,S.getCurrentTransformInverse)(z),r.PathType.FILL);q=(0,S.getCurrentTransform)(z),z.restore(),z.fillStyle=Pe}let re=v.lineWidth;const ie=v.textMatrixScale;if(ie===0||re===0){const Pe=v.textRenderingMode&y.TextRenderingMode.FILL_STROKE_MASK;(Pe===y.TextRenderingMode.STROKE||Pe===y.TextRenderingMode.FILL_STROKE)&&(re=this.getSinglePixelWidth())}else re/=ie;if(U!==1&&(z.scale(U,U),re/=U),z.lineWidth=re,L.isInvalidPDFjsFont){const Pe=[];let se=0;for(const Be of l)Pe.push(Be.unicode),se+=Be.width;z.fillText(Pe.join(""),0,0),v.x+=se*he*xe,z.restore(),this.compose();return}let ue=0,Ce;for(Ce=0;Ce<Ae;++Ce){const Pe=l[Ce];if(typeof Pe=="number"){ue+=Te*Pe*G/1e3;continue}let se=!1;const Be=(Pe.isSpace?fe:0)+ee,Ie=Pe.fontChar,it=Pe.accent;let Ye,pt,ze=Pe.width;if(Me){const at=Pe.vmetric||de,yt=-(Pe.vmetric?at[1]:ze*.5)*he,Le=at[2]*he;ze=at?-at[0]:ze,Ye=yt/U,pt=(ue+Le)/U}else Ye=ue/U,pt=0;if(L.remeasure&&ze>0){const at=z.measureText(Ie).width*1e3/G*U;if(ze<at&&this.isFontSubpixelAAEnabled){const yt=ze/at;se=!0,z.save(),z.scale(yt,1),Ye/=yt}else ze!==at&&(Ye+=(ze-at)/2e3*G/U)}if(this.contentVisible&&(Pe.isInFont||L.missingFile)){if(I&&!it)z.fillText(Ie,Ye,pt);else if(this.paintChar(Ie,Ye,pt,q),it){const at=Ye+G*it.offset.x/U,yt=pt-G*it.offset.y/U;this.paintChar(it.fontChar,at,yt,q)}}const $e=Me?ze*he-Be*Se:ze*he+Be*Se;ue+=$e,se&&z.restore()}Me?v.y-=ue:v.x+=ue*xe,z.restore(),this.compose()}showType3Text(l){const v=this.ctx,L=this.current,G=L.font,z=L.fontSize,U=L.fontDirection,ee=G.vertical?1:-1,fe=L.charSpacing,Se=L.wordSpacing,xe=L.textHScale*U,Ae=L.fontMatrix||y.FONT_IDENTITY_MATRIX,Me=l.length,Te=L.textRenderingMode===y.TextRenderingMode.INVISIBLE;let de,he,I,q;if(!(Te||z===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,v.save(),v.transform(...L.textMatrix),v.translate(L.x,L.y),v.scale(xe,U),de=0;de<Me;++de){if(he=l[de],typeof he=="number"){q=ee*he*z/1e3,this.ctx.translate(q,0),L.x+=q*xe;continue}const re=(he.isSpace?Se:0)+fe,ie=G.charProcOperatorList[he.operatorListId];if(!ie){(0,y.warn)('Type3 character "'.concat(he.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=he,this.save(),v.scale(z,z),v.transform(...Ae),this.executeOperatorList(ie),this.restore()),I=y.Util.applyTransform([he.width,0],Ae)[0]*z+re,v.translate(I,0),L.x+=I*xe}v.restore(),this.processingType3=null}}setCharWidth(l,v){}setCharWidthAndBounds(l,v,L,G,z,U){this.ctx.rect(L,G,z-L,U-G),this.ctx.clip(),this.endPath()}getColorN_Pattern(l){let v;if(l[0]==="TilingPattern"){const L=l[1],G=this.baseTransform||(0,S.getCurrentTransform)(this.ctx),z={createCanvasGraphics:U=>new J(U,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};v=new r.TilingPattern(l,L,this.ctx,z,G)}else v=this._getPattern(l[1],l[2]);return v}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,v,L){const G=y.Util.makeHexColor(l,v,L);this.ctx.strokeStyle=G,this.current.strokeColor=G}setFillRGBColor(l,v,L){const G=y.Util.makeHexColor(l,v,L);this.ctx.fillStyle=G,this.current.fillColor=G,this.current.patternFill=!1}_getPattern(l,v=null){let L;return this.cachedPatterns.has(l)?L=this.cachedPatterns.get(l):(L=(0,r.getShadingPattern)(this.getObject(l)),this.cachedPatterns.set(l,L)),v&&(L.matrix=v),L}shadingFill(l){if(!this.contentVisible)return;const v=this.ctx;this.save();const L=this._getPattern(l);v.fillStyle=L.getPattern(v,this,(0,S.getCurrentTransformInverse)(v),r.PathType.SHADING);const G=(0,S.getCurrentTransformInverse)(v);if(G){const{width:z,height:U}=v.canvas,[ee,fe,Se,xe]=y.Util.getAxialAlignedBoundingBox([0,0,z,U],G);this.ctx.fillRect(ee,fe,Se-ee,xe-fe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,y.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,y.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,v){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&l.length===6&&this.transform(...l),this.baseTransform=(0,S.getCurrentTransform)(this.ctx),v)){const L=v[2]-v[0],G=v[3]-v[1];this.ctx.rect(v[0],v[1],L,G),this.current.updateRectMinMax((0,S.getCurrentTransform)(this.ctx),v),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const v=this.ctx;l.isolated||(0,y.info)("TODO: Support non-isolated groups."),l.knockout&&(0,y.warn)("Knockout groups not supported.");const L=(0,S.getCurrentTransform)(v);if(l.matrix&&v.transform(...l.matrix),!l.bbox)throw new Error("Bounding box is required.");let G=y.Util.getAxialAlignedBoundingBox(l.bbox,(0,S.getCurrentTransform)(v));const z=[0,0,v.canvas.width,v.canvas.height];G=y.Util.intersect(G,z)||[0,0,0,0];const U=Math.floor(G[0]),ee=Math.floor(G[1]);let fe=Math.max(Math.ceil(G[2])-U,1),Se=Math.max(Math.ceil(G[3])-ee,1),xe=1,Ae=1;fe>V&&(xe=fe/V,fe=V),Se>V&&(Ae=Se/V,Se=V),this.current.startNewPathAndClipBox([0,0,fe,Se]);let Me="groupAt"+this.groupLevel;l.smask&&(Me+="_smask_"+this.smaskCounter++%2);const Te=this.cachedCanvases.getCanvas(Me,fe,Se),de=Te.context;de.scale(1/xe,1/Ae),de.translate(-U,-ee),de.transform(...L),l.smask?this.smaskStack.push({canvas:Te.canvas,context:de,offsetX:U,offsetY:ee,scaleX:xe,scaleY:Ae,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(v.setTransform(1,0,0,1,0,0),v.translate(U,ee),v.scale(xe,Ae),v.save()),f(v,de),this.ctx=de,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(v),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const v=this.ctx,L=this.groupStack.pop();if(this.ctx=L,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const G=(0,S.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...G);const z=y.Util.getAxialAlignedBoundingBox([0,0,v.canvas.width,v.canvas.height],G);this.ctx.drawImage(v.canvas,0,0),this.ctx.restore(),this.compose(z)}}beginAnnotation(l,v,L,G,z){if(ce(this,H,Wr).call(this),_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(v)&&v.length===4){const U=v[2]-v[0],ee=v[3]-v[1];if(z&&this.annotationCanvasMap){L=L.slice(),L[4]-=v[0],L[5]-=v[1],v=v.slice(),v[0]=v[1]=0,v[2]=U,v[3]=ee;const[fe,Se]=y.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(this.ctx)),{viewportScale:xe}=this,Ae=Math.ceil(U*this.outputScaleX*xe),Me=Math.ceil(ee*this.outputScaleY*xe);this.annotationCanvas=this.canvasFactory.create(Ae,Me);const{canvas:Te,context:de}=this.annotationCanvas;this.annotationCanvasMap.set(l,Te),this.annotationCanvas.savedCtx=this.ctx,this.ctx=de,this.ctx.save(),this.ctx.setTransform(fe,0,0,-Se,0,ee*Se),_(this.ctx)}else _(this.ctx),this.ctx.rect(v[0],v[1],U,ee),this.ctx.clip(),this.endPath()}this.current=new o(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...L),this.transform(...G)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ce(this,H,Ur).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(l){if(!this.contentVisible)return;const v=l.count;l=this.getObject(l.data,l),l.count=v;const L=this.ctx,G=this.processingType3;if(G&&(G.compiled===void 0&&(G.compiled=p(l)),G.compiled)){G.compiled(L);return}const z=this._createMaskCanvas(l),U=z.canvas;L.save(),L.setTransform(1,0,0,1,0,0),L.drawImage(U,z.offsetX,z.offsetY),L.restore(),this.compose()}paintImageMaskXObjectRepeat(l,v,L=0,G=0,z,U){if(!this.contentVisible)return;l=this.getObject(l.data,l);const ee=this.ctx;ee.save();const fe=(0,S.getCurrentTransform)(ee);ee.transform(v,L,G,z,0,0);const Se=this._createMaskCanvas(l);ee.setTransform(1,0,0,1,Se.offsetX-fe[4],Se.offsetY-fe[5]);for(let xe=0,Ae=U.length;xe<Ae;xe+=2){const Me=y.Util.transform(fe,[v,L,G,z,U[xe],U[xe+1]]),[Te,de]=y.Util.applyTransform([0,0],Me);ee.drawImage(Se.canvas,Te,de)}ee.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const v=this.ctx,L=this.current.fillColor,G=this.current.patternFill;for(const z of l){const{data:U,width:ee,height:fe,transform:Se}=z,xe=this.cachedCanvases.getCanvas("maskCanvas",ee,fe),Ae=xe.context;Ae.save();const Me=this.getObject(U,z);m(Ae,Me),Ae.globalCompositeOperation="source-in",Ae.fillStyle=G?L.getPattern(Ae,this,(0,S.getCurrentTransformInverse)(v),r.PathType.FILL):L,Ae.fillRect(0,0,ee,fe),Ae.restore(),v.save(),v.transform(...Se),v.scale(1,-1),d(v,xe.canvas,0,0,ee,fe,0,-1,1,1),v.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const v=this.getObject(l);if(!v){(0,y.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(v)}paintImageXObjectRepeat(l,v,L,G){if(!this.contentVisible)return;const z=this.getObject(l);if(!z){(0,y.warn)("Dependent image isn't ready yet");return}const U=z.width,ee=z.height,fe=[];for(let Se=0,xe=G.length;Se<xe;Se+=2)fe.push({transform:[v,0,0,L,G[Se],G[Se+1]],x:0,y:0,w:U,h:ee});this.paintInlineImageXObjectGroup(z,fe)}applyTransferMapsToCanvas(l){return this.current.transferMaps!=="none"&&(l.filter=this.current.transferMaps,l.drawImage(l.canvas,0,0),l.filter="none"),l.canvas}applyTransferMapsToBitmap(l){if(this.current.transferMaps==="none")return l.bitmap;const{bitmap:v,width:L,height:G}=l,z=this.cachedCanvases.getCanvas("inlineImage",L,G),U=z.context;return U.filter=this.current.transferMaps,U.drawImage(v,0,0),U.filter="none",z.canvas}paintInlineImageXObject(l){if(!this.contentVisible)return;const v=l.width,L=l.height,G=this.ctx;if(this.save(),!y.isNodeJS){const{filter:ee}=G;ee!=="none"&&ee!==""&&(G.filter="none")}G.scale(1/v,-1/L);let z;if(l.bitmap)z=this.applyTransferMapsToBitmap(l);else if(typeof HTMLElement=="function"&&l instanceof HTMLElement||!l.data)z=l;else{const fe=this.cachedCanvases.getCanvas("inlineImage",v,L).context;M(fe,l),z=this.applyTransferMapsToCanvas(fe)}const U=this._scaleImage(z,(0,S.getCurrentTransformInverse)(G));G.imageSmoothingEnabled=s((0,S.getCurrentTransform)(G),l.interpolate),d(G,U.img,0,0,U.paintWidth,U.paintHeight,0,-L,v,L),this.compose(),this.restore()}paintInlineImageXObjectGroup(l,v){if(!this.contentVisible)return;const L=this.ctx;let G;if(l.bitmap)G=l.bitmap;else{const z=l.width,U=l.height,fe=this.cachedCanvases.getCanvas("inlineImage",z,U).context;M(fe,l),G=this.applyTransferMapsToCanvas(fe)}for(const z of v)L.save(),L.transform(...z.transform),L.scale(1,-1),d(L,G,z.x,z.y,z.w,z.h,0,-1,1,1),L.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,v){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,v){l==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(v)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){const v=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const L=this.ctx;this.pendingClip&&(v||(this.pendingClip===D?L.clip("evenodd"):L.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),L.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const l=(0,S.getCurrentTransform)(this.ctx);if(l[1]===0&&l[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(l[0]),Math.abs(l[3]));else{const v=Math.abs(l[0]*l[3]-l[2]*l[1]),L=Math.hypot(l[0],l[2]),G=Math.hypot(l[1],l[3]);this._cachedGetSinglePixelWidth=Math.max(L,G)/v}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:l}=this.current,{a:v,b:L,c:G,d:z}=this.ctx.getTransform();let U,ee;if(L===0&&G===0){const fe=Math.abs(v),Se=Math.abs(z);if(fe===Se)if(l===0)U=ee=1/fe;else{const xe=fe*l;U=ee=xe<1?1/xe:1}else if(l===0)U=1/fe,ee=1/Se;else{const xe=fe*l,Ae=Se*l;U=xe<1?1/xe:1,ee=Ae<1?1/Ae:1}}else{const fe=Math.abs(v*z-L*G),Se=Math.hypot(v,L),xe=Math.hypot(G,z);if(l===0)U=xe/fe,ee=Se/fe;else{const Ae=l*fe;U=xe>Ae?xe/Ae:1,ee=Se>Ae?Se/Ae:1}}this._cachedScaleForStroking[0]=U,this._cachedScaleForStroking[1]=ee}return this._cachedScaleForStroking}rescaleAndStroke(l){const{ctx:v}=this,{lineWidth:L}=this.current,[G,z]=this.getScaleForStroking();if(v.lineWidth=L||1,G===1&&z===1){v.stroke();return}const U=v.getLineDash();if(l&&v.save(),v.scale(G,z),U.length>0){const ee=Math.max(G,z);v.setLineDash(U.map(fe=>fe/ee)),v.lineDashOffset/=ee}v.stroke(),l&&v.restore()}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}};H=new WeakSet,Wr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ur=function(){if(this.pageColors){const l=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(l!=="none"){const v=this.ctx.filter;this.ctx.filter=l,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=v}}};let T=J;x.CanvasGraphics=T;for(const R in y.OPS)T.prototype[R]!==void 0&&(T.prototype[y.OPS[R]]=T.prototype[R])}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TilingPattern=x.PathType=void 0,x.getShadingPattern=b;var y=n(1),S=n(6);const r={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};x.PathType=r;function j(p,o){if(!o)return;const M=o[2]-o[0],m=o[3]-o[1],f=new Path2D;f.rect(o[0],o[1],M,m),p.clip(f)}class Z{constructor(){this.constructor===Z&&(0,y.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,y.unreachable)("Abstract method `getPattern` called.")}}class X extends Z{constructor(o){super(),this._type=o[1],this._bbox=o[2],this._colorStops=o[3],this._p0=o[4],this._p1=o[5],this._r0=o[6],this._r1=o[7],this.matrix=null}_createGradient(o){let M;this._type==="axial"?M=o.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(M=o.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const m of this._colorStops)M.addColorStop(m[0],m[1]);return M}getPattern(o,M,m,f){let _;if(f===r.STROKE||f===r.FILL){const c=M.current.getClippedPathBoundingBox(f,(0,S.getCurrentTransform)(o))||[0,0,0,0],a=Math.ceil(c[2]-c[0])||1,g=Math.ceil(c[3]-c[1])||1,k=M.cachedCanvases.getCanvas("pattern",a,g,!0),t=k.context;t.clearRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.translate(-c[0],-c[1]),m=y.Util.transform(m,[1,0,0,1,c[0],c[1]]),t.transform(...M.baseTransform),this.matrix&&t.transform(...this.matrix),j(t,this._bbox),t.fillStyle=this._createGradient(t),t.fill(),_=o.createPattern(k.canvas,"no-repeat");const s=new DOMMatrix(m);_.setTransform(s)}else j(o,this._bbox),_=this._createGradient(o);return _}}function V(p,o,M,m,f,_,c,a){const g=o.coords,k=o.colors,t=p.data,s=p.width*4;let w;g[M+1]>g[m+1]&&(w=M,M=m,m=w,w=_,_=c,c=w),g[m+1]>g[f+1]&&(w=m,m=f,f=w,w=c,c=a,a=w),g[M+1]>g[m+1]&&(w=M,M=m,m=w,w=_,_=c,c=w);const B=(g[M]+o.offsetX)*o.scaleX,P=(g[M+1]+o.offsetY)*o.scaleY,D=(g[m]+o.offsetX)*o.scaleX,T=(g[m+1]+o.offsetY)*o.scaleY,H=(g[f]+o.offsetX)*o.scaleX,F=(g[f+1]+o.offsetY)*o.scaleY;if(P>=F)return;const W=k[_],J=k[_+1],R=k[_+2],l=k[c],v=k[c+1],L=k[c+2],G=k[a],z=k[a+1],U=k[a+2],ee=Math.round(P),fe=Math.round(F);let Se,xe,Ae,Me,Te,de,he,I;for(let q=ee;q<=fe;q++){if(q<T){const Pe=q<P?0:(P-q)/(P-T);Se=B-(B-D)*Pe,xe=W-(W-l)*Pe,Ae=J-(J-v)*Pe,Me=R-(R-L)*Pe}else{let Pe;q>F?Pe=1:T===F?Pe=0:Pe=(T-q)/(T-F),Se=D-(D-H)*Pe,xe=l-(l-G)*Pe,Ae=v-(v-z)*Pe,Me=L-(L-U)*Pe}let re;q<P?re=0:q>F?re=1:re=(P-q)/(P-F),Te=B-(B-H)*re,de=W-(W-G)*re,he=J-(J-z)*re,I=R-(R-U)*re;const ie=Math.round(Math.min(Se,Te)),ue=Math.round(Math.max(Se,Te));let Ce=s*q+ie*4;for(let Pe=ie;Pe<=ue;Pe++)re=(Se-Pe)/(Se-Te),re<0?re=0:re>1&&(re=1),t[Ce++]=xe-(xe-de)*re|0,t[Ce++]=Ae-(Ae-he)*re|0,t[Ce++]=Me-(Me-I)*re|0,t[Ce++]=255}}function A(p,o,M){const m=o.coords,f=o.colors;let _,c;switch(o.type){case"lattice":const a=o.verticesPerRow,g=Math.floor(m.length/a)-1,k=a-1;for(_=0;_<g;_++){let t=_*a;for(let s=0;s<k;s++,t++)V(p,M,m[t],m[t+1],m[t+a],f[t],f[t+1],f[t+a]),V(p,M,m[t+a+1],m[t+1],m[t+a],f[t+a+1],f[t+1],f[t+a])}break;case"triangles":for(_=0,c=m.length;_<c;_+=3)V(p,M,m[_],m[_+1],m[_+2],f[_],f[_+1],f[_+2]);break;default:throw new Error("illegal figure")}}class N extends Z{constructor(o){super(),this._coords=o[2],this._colors=o[3],this._figures=o[4],this._bounds=o[5],this._bbox=o[7],this._background=o[8],this.matrix=null}_createMeshCanvas(o,M,m){const a=Math.floor(this._bounds[0]),g=Math.floor(this._bounds[1]),k=Math.ceil(this._bounds[2])-a,t=Math.ceil(this._bounds[3])-g,s=Math.min(Math.ceil(Math.abs(k*o[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(t*o[1]*1.1)),3e3),B=k/s,P=t/w,D={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-g,scaleX:1/B,scaleY:1/P},T=s+4,H=w+4,F=m.getCanvas("mesh",T,H,!1),W=F.context,J=W.createImageData(s,w);if(M){const l=J.data;for(let v=0,L=l.length;v<L;v+=4)l[v]=M[0],l[v+1]=M[1],l[v+2]=M[2],l[v+3]=255}for(const l of this._figures)A(J,l,D);return W.putImageData(J,2,2),{canvas:F.canvas,offsetX:a-2*B,offsetY:g-2*P,scaleX:B,scaleY:P}}getPattern(o,M,m,f){j(o,this._bbox);let _;if(f===r.SHADING)_=y.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(o));else if(_=y.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){const a=y.Util.singularValueDecompose2dScale(this.matrix);_=[_[0]*a[0],_[1]*a[1]]}const c=this._createMeshCanvas(_,f===r.SHADING?null:this._background,M.cachedCanvases);return f!==r.SHADING&&(o.setTransform(...M.baseTransform),this.matrix&&o.transform(...this.matrix)),o.translate(c.offsetX,c.offsetY),o.scale(c.scaleX,c.scaleY),o.createPattern(c.canvas,"no-repeat")}}class C extends Z{getPattern(){return"hotpink"}}function b(p){switch(p[0]){case"RadialAxial":return new X(p);case"Mesh":return new N(p);case"Dummy":return new C}throw new Error("Unknown IR type: ".concat(p[0]))}const h={COLORED:1,UNCOLORED:2},d=class d{constructor(o,M,m,f,_){this.operatorList=o[2],this.matrix=o[3]||[1,0,0,1,0,0],this.bbox=o[4],this.xstep=o[5],this.ystep=o[6],this.paintType=o[7],this.tilingType=o[8],this.color=M,this.ctx=m,this.canvasGraphicsFactory=f,this.baseTransform=_}createPatternCanvas(o){const M=this.operatorList,m=this.bbox,f=this.xstep,_=this.ystep,c=this.paintType,a=this.tilingType,g=this.color,k=this.canvasGraphicsFactory;(0,y.info)("TilingType: "+a);const t=m[0],s=m[1],w=m[2],B=m[3],P=y.Util.singularValueDecompose2dScale(this.matrix),D=y.Util.singularValueDecompose2dScale(this.baseTransform),T=[P[0]*D[0],P[1]*D[1]],H=this.getSizeAndScale(f,this.ctx.canvas.width,T[0]),F=this.getSizeAndScale(_,this.ctx.canvas.height,T[1]),W=o.cachedCanvases.getCanvas("pattern",H.size,F.size,!0),J=W.context,R=k.createCanvasGraphics(J);R.groupLevel=o.groupLevel,this.setFillAndStrokeStyleToContext(R,c,g);let l=t,v=s,L=w,G=B;return t<0&&(l=0,L+=Math.abs(t)),s<0&&(v=0,G+=Math.abs(s)),J.translate(-(H.scale*l),-(F.scale*v)),R.transform(H.scale,0,0,F.scale,0,0),J.save(),this.clipBbox(R,l,v,L,G),R.baseTransform=(0,S.getCurrentTransform)(R.ctx),R.executeOperatorList(M),R.endDrawing(),{canvas:W.canvas,scaleX:H.scale,scaleY:F.scale,offsetX:l,offsetY:v}}getSizeAndScale(o,M,m){o=Math.abs(o);const f=Math.max(d.MAX_PATTERN_SIZE,M);let _=Math.ceil(o*m);return _>=f?_=f:m=_/o,{scale:m,size:_}}clipBbox(o,M,m,f,_){const c=f-M,a=_-m;o.ctx.rect(M,m,c,a),o.current.updateRectMinMax((0,S.getCurrentTransform)(o.ctx),[M,m,f,_]),o.clip(),o.endPath()}setFillAndStrokeStyleToContext(o,M,m){const f=o.ctx,_=o.current;switch(M){case h.COLORED:const c=this.ctx;f.fillStyle=c.fillStyle,f.strokeStyle=c.strokeStyle,_.fillColor=c.fillStyle,_.strokeColor=c.strokeStyle;break;case h.UNCOLORED:const a=y.Util.makeHexColor(m[0],m[1],m[2]);f.fillStyle=a,f.strokeStyle=a,_.fillColor=a,_.strokeColor=a;break;default:throw new y.FormatError("Unsupported paint type: ".concat(M))}}getPattern(o,M,m,f){let _=m;f!==r.SHADING&&(_=y.Util.transform(_,M.baseTransform),this.matrix&&(_=y.Util.transform(_,this.matrix)));const c=this.createPatternCanvas(M);let a=new DOMMatrix(_);a=a.translate(c.offsetX,c.offsetY),a=a.scale(1/c.scaleX,1/c.scaleY);const g=o.createPattern(c.canvas,"repeat");return g.setTransform(a),g}};Gt(d,"MAX_PATTERN_SIZE",3e3);let i=d;x.TilingPattern=i}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.convertBlackAndWhiteToRGBA=r,x.convertToRGBA=S,x.grayToRGBA=Z;var y=n(1);function S(X){switch(X.kind){case y.ImageKind.GRAYSCALE_1BPP:return r(X);case y.ImageKind.RGB_24BPP:return j(X)}return null}function r({src:X,srcPos:V=0,dest:A,width:N,height:C,nonBlackColor:b=4294967295,inverseDecode:h=!1}){const i=y.FeatureTest.isLittleEndian?4278190080:255,[d,p]=h?[b,i]:[i,b],o=N>>3,M=N&7,m=X.length;A=new Uint32Array(A.buffer);let f=0;for(let _=0;_<C;_++){for(const a=V+o;V<a;V++){const g=V<m?X[V]:255;A[f++]=g&128?p:d,A[f++]=g&64?p:d,A[f++]=g&32?p:d,A[f++]=g&16?p:d,A[f++]=g&8?p:d,A[f++]=g&4?p:d,A[f++]=g&2?p:d,A[f++]=g&1?p:d}if(M===0)continue;const c=V<m?X[V++]:255;for(let a=0;a<M;a++)A[f++]=c&1<<7-a?p:d}return{srcPos:V,destPos:f}}function j({src:X,srcPos:V=0,dest:A,destPos:N=0,width:C,height:b}){let h=0;const i=X.length>>2,d=new Uint32Array(X.buffer,V,i);if(y.FeatureTest.isLittleEndian){for(;h<i-2;h+=3,N+=4){const p=d[h],o=d[h+1],M=d[h+2];A[N]=p|4278190080,A[N+1]=p>>>24|o<<8|4278190080,A[N+2]=o>>>16|M<<16|4278190080,A[N+3]=M>>>8|4278190080}for(let p=h*4,o=X.length;p<o;p+=3)A[N++]=X[p]|X[p+1]<<8|X[p+2]<<16|4278190080}else{for(;h<i-2;h+=3,N+=4){const p=d[h],o=d[h+1],M=d[h+2];A[N]=p|255,A[N+1]=p<<24|o>>>8|255,A[N+2]=o<<16|M>>>16|255,A[N+3]=M<<8|255}for(let p=h*4,o=X.length;p<o;p+=3)A[N++]=X[p]<<24|X[p+1]<<16|X[p+2]<<8|255}return{srcPos:V,destPos:N}}function Z(X,V){if(y.FeatureTest.isLittleEndian)for(let A=0,N=X.length;A<N;A++)V[A]=X[A]*65793|4278190080;else for(let A=0,N=X.length;A<N;A++)V[A]=X[A]*16843008|255}}),((e,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GlobalWorkerOptions=void 0;const n=Object.create(null);x.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""}),((e,x,n)=>{var X,ji,Bi,lr;Object.defineProperty(x,"__esModule",{value:!0}),x.MessageHandler=void 0;var y=n(1);const S={DATA:1,ERROR:2},r={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function j(C){switch(C instanceof Error||typeof C=="object"&&C!==null||(0,y.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),C.name){case"AbortException":return new y.AbortException(C.message);case"MissingPDFException":return new y.MissingPDFException(C.message);case"PasswordException":return new y.PasswordException(C.message,C.code);case"UnexpectedResponseException":return new y.UnexpectedResponseException(C.message,C.status);case"UnknownErrorException":return new y.UnknownErrorException(C.message,C.details);default:return new y.UnknownErrorException(C.message,C.toString())}}class Z{constructor(b,h,i){Ee(this,X);this.sourceName=b,this.targetName=h,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=d=>{const p=d.data;if(p.targetName!==this.sourceName)return;if(p.stream){ce(this,X,Bi).call(this,p);return}if(p.callback){const M=p.callbackId,m=this.callbackCapabilities[M];if(!m)throw new Error("Cannot resolve callback ".concat(M));if(delete this.callbackCapabilities[M],p.callback===S.DATA)m.resolve(p.data);else if(p.callback===S.ERROR)m.reject(j(p.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[p.action];if(!o)throw new Error("Unknown action from worker: ".concat(p.action));if(p.callbackId){const M=this.sourceName,m=p.sourceName;new Promise(function(f){f(o(p.data))}).then(function(f){i.postMessage({sourceName:M,targetName:m,callback:S.DATA,callbackId:p.callbackId,data:f})},function(f){i.postMessage({sourceName:M,targetName:m,callback:S.ERROR,callbackId:p.callbackId,reason:j(f)})});return}if(p.streamId){ce(this,X,ji).call(this,p);return}o(p.data)},i.addEventListener("message",this._onComObjOnMessage)}on(b,h){const i=this.actionHandler;if(i[b])throw new Error('There is already an actionName called "'.concat(b,'"'));i[b]=h}send(b,h,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:h},i)}sendWithPromise(b,h,i){const d=this.callbackId++,p=new y.PromiseCapability;this.callbackCapabilities[d]=p;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:d,data:h},i)}catch(o){p.reject(o)}return p.promise}sendWithStream(b,h,i,d){const p=this.streamId++,o=this.sourceName,M=this.targetName,m=this.comObj;return new ReadableStream({start:f=>{const _=new y.PromiseCapability;return this.streamControllers[p]={controller:f,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},m.postMessage({sourceName:o,targetName:M,action:b,streamId:p,data:h,desiredSize:f.desiredSize},d),_.promise},pull:f=>{const _=new y.PromiseCapability;return this.streamControllers[p].pullCall=_,m.postMessage({sourceName:o,targetName:M,stream:r.PULL,streamId:p,desiredSize:f.desiredSize}),_.promise},cancel:f=>{(0,y.assert)(f instanceof Error,"cancel must have a valid reason");const _=new y.PromiseCapability;return this.streamControllers[p].cancelCall=_,this.streamControllers[p].isClosed=!0,m.postMessage({sourceName:o,targetName:M,stream:r.CANCEL,streamId:p,reason:j(f)}),_.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}X=new WeakSet,ji=function(b){const h=b.streamId,i=this.sourceName,d=b.sourceName,p=this.comObj,o=this,M=this.actionHandler[b.action],m={enqueue(f,_=1,c){if(this.isCancelled)return;const a=this.desiredSize;this.desiredSize-=_,a>0&&this.desiredSize<=0&&(this.sinkCapability=new y.PromiseCapability,this.ready=this.sinkCapability.promise),p.postMessage({sourceName:i,targetName:d,stream:r.ENQUEUE,streamId:h,chunk:f},c)},close(){this.isCancelled||(this.isCancelled=!0,p.postMessage({sourceName:i,targetName:d,stream:r.CLOSE,streamId:h}),delete o.streamSinks[h])},error(f){(0,y.assert)(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,p.postMessage({sourceName:i,targetName:d,stream:r.ERROR,streamId:h,reason:j(f)}))},sinkCapability:new y.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[h]=m,new Promise(function(f){f(M(b.data,m))}).then(function(){p.postMessage({sourceName:i,targetName:d,stream:r.START_COMPLETE,streamId:h,success:!0})},function(f){p.postMessage({sourceName:i,targetName:d,stream:r.START_COMPLETE,streamId:h,reason:j(f)})})},Bi=function(b){const h=b.streamId,i=this.sourceName,d=b.sourceName,p=this.comObj,o=this.streamControllers[h],M=this.streamSinks[h];switch(b.stream){case r.START_COMPLETE:b.success?o.startCall.resolve():o.startCall.reject(j(b.reason));break;case r.PULL_COMPLETE:b.success?o.pullCall.resolve():o.pullCall.reject(j(b.reason));break;case r.PULL:if(!M){p.postMessage({sourceName:i,targetName:d,stream:r.PULL_COMPLETE,streamId:h,success:!0});break}M.desiredSize<=0&&b.desiredSize>0&&M.sinkCapability.resolve(),M.desiredSize=b.desiredSize,new Promise(function(m){var f;m((f=M.onPull)==null?void 0:f.call(M))}).then(function(){p.postMessage({sourceName:i,targetName:d,stream:r.PULL_COMPLETE,streamId:h,success:!0})},function(m){p.postMessage({sourceName:i,targetName:d,stream:r.PULL_COMPLETE,streamId:h,reason:j(m)})});break;case r.ENQUEUE:if((0,y.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(b.chunk);break;case r.CLOSE:if((0,y.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),ce(this,X,lr).call(this,o,h);break;case r.ERROR:(0,y.assert)(o,"error should have stream controller"),o.controller.error(j(b.reason)),ce(this,X,lr).call(this,o,h);break;case r.CANCEL_COMPLETE:b.success?o.cancelCall.resolve():o.cancelCall.reject(j(b.reason)),ce(this,X,lr).call(this,o,h);break;case r.CANCEL:if(!M)break;new Promise(function(m){var f;m((f=M.onCancel)==null?void 0:f.call(M,j(b.reason)))}).then(function(){p.postMessage({sourceName:i,targetName:d,stream:r.CANCEL_COMPLETE,streamId:h,success:!0})},function(m){p.postMessage({sourceName:i,targetName:d,stream:r.CANCEL_COMPLETE,streamId:h,reason:j(m)})}),M.sinkCapability.reject(j(b.reason)),M.isCancelled=!0,delete this.streamSinks[h];break;default:throw new Error("Unexpected stream case")}},lr=async function(b,h){var i,d,p;await Promise.allSettled([(i=b.startCall)==null?void 0:i.promise,(d=b.pullCall)==null?void 0:d.promise,(p=b.cancelCall)==null?void 0:p.promise]),delete this.streamControllers[h]},x.MessageHandler=Z}),((e,x,n)=>{var r,j;Object.defineProperty(x,"__esModule",{value:!0}),x.Metadata=void 0;var y=n(1);class S{constructor({parsedData:X,rawData:V}){Ee(this,r);Ee(this,j);ye(this,r,X),ye(this,j,V)}getRaw(){return u(this,j)}get(X){var V;return(V=u(this,r).get(X))!=null?V:null}getAll(){return(0,y.objectFromMap)(u(this,r))}has(X){return u(this,r).has(X)}}r=new WeakMap,j=new WeakMap,x.Metadata=S}),((e,x,n)=>{var X,V,A,N,C,b,Gr;Object.defineProperty(x,"__esModule",{value:!0}),x.OptionalContentConfig=void 0;var y=n(1),S=n(8);const r=Symbol("INTERNAL");class j{constructor(d,p){Ee(this,X,!0);this.name=d,this.intent=p}get visible(){return u(this,X)}_setVisible(d,p){d!==r&&(0,y.unreachable)("Internal method `_setVisible` called."),ye(this,X,p)}}X=new WeakMap;class Z{constructor(d){Ee(this,b);Ee(this,V,null);Ee(this,A,new Map);Ee(this,N,null);Ee(this,C,null);if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,ye(this,C,d.order);for(const p of d.groups)u(this,A).set(p.id,new j(p.name,p.intent));if(d.baseState==="OFF")for(const p of u(this,A).values())p._setVisible(r,!1);for(const p of d.on)u(this,A).get(p)._setVisible(r,!0);for(const p of d.off)u(this,A).get(p)._setVisible(r,!1);ye(this,N,this.getHash())}}isVisible(d){if(u(this,A).size===0)return!0;if(!d)return(0,y.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return u(this,A).has(d.id)?u(this,A).get(d.id).visible:((0,y.warn)("Optional content group not found: ".concat(d.id)),!0);if(d.type==="OCMD"){if(d.expression)return ce(this,b,Gr).call(this,d.expression);if(!d.policy||d.policy==="AnyOn"){for(const p of d.ids){if(!u(this,A).has(p))return(0,y.warn)("Optional content group not found: ".concat(p)),!0;if(u(this,A).get(p).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const p of d.ids){if(!u(this,A).has(p))return(0,y.warn)("Optional content group not found: ".concat(p)),!0;if(!u(this,A).get(p).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const p of d.ids){if(!u(this,A).has(p))return(0,y.warn)("Optional content group not found: ".concat(p)),!0;if(!u(this,A).get(p).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const p of d.ids){if(!u(this,A).has(p))return(0,y.warn)("Optional content group not found: ".concat(p)),!0;if(u(this,A).get(p).visible)return!1}return!0}return(0,y.warn)("Unknown optional content policy ".concat(d.policy,".")),!0}return(0,y.warn)("Unknown group type ".concat(d.type,".")),!0}setVisibility(d,p=!0){if(!u(this,A).has(d)){(0,y.warn)("Optional content group not found: ".concat(d));return}u(this,A).get(d)._setVisible(r,!!p),ye(this,V,null)}get hasInitialVisibility(){return u(this,N)===null||this.getHash()===u(this,N)}getOrder(){return u(this,A).size?u(this,C)?u(this,C).slice():[...u(this,A).keys()]:null}getGroups(){return u(this,A).size>0?(0,y.objectFromMap)(u(this,A)):null}getGroup(d){return u(this,A).get(d)||null}getHash(){if(u(this,V)!==null)return u(this,V);const d=new S.MurmurHash3_64;for(const[p,o]of u(this,A))d.update("".concat(p,":").concat(o.visible));return ye(this,V,d.hexdigest())}}V=new WeakMap,A=new WeakMap,N=new WeakMap,C=new WeakMap,b=new WeakSet,Gr=function(d){const p=d.length;if(p<2)return!0;const o=d[0];for(let M=1;M<p;M++){const m=d[M];let f;if(Array.isArray(m))f=ce(this,b,Gr).call(this,m);else if(u(this,A).has(m))f=u(this,A).get(m).visible;else return(0,y.warn)("Optional content group not found: ".concat(m)),!0;switch(o){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return o==="And"},x.OptionalContentConfig=Z}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFDataTransportStream=void 0;var y=n(1),S=n(6);class r{constructor({length:V,initialData:A,progressiveDone:N=!1,contentDispositionFilename:C=null,disableRange:b=!1,disableStream:h=!1},i){if((0,y.assert)(i,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=N,this._contentDispositionFilename=C,(A==null?void 0:A.length)>0){const d=A instanceof Uint8Array&&A.byteLength===A.buffer.byteLength?A.buffer:new Uint8Array(A).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=i,this._isStreamingSupported=!h,this._isRangeSupported=!b,this._contentLength=V,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),this._pdfDataRangeTransport.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),this._pdfDataRangeTransport.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:V,chunk:A}){const N=A instanceof Uint8Array&&A.byteLength===A.buffer.byteLength?A.buffer:new Uint8Array(A).buffer;if(V===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(N):this._queuedChunks.push(N);else{const C=this._rangeReaders.some(function(b){return b._begin!==V?!1:(b._enqueue(N),!0)});(0,y.assert)(C,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var V,A;return(A=(V=this._fullRequestReader)==null?void 0:V._loaded)!=null?A:0}_onProgress(V){var A,N,C,b;V.total===void 0?(N=(A=this._rangeReaders[0])==null?void 0:A.onProgress)==null||N.call(A,{loaded:V.loaded}):(b=(C=this._fullRequestReader)==null?void 0:C.onProgress)==null||b.call(C,{loaded:V.loaded,total:V.total})}_onProgressiveDone(){var V;(V=this._fullRequestReader)==null||V.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(V){const A=this._rangeReaders.indexOf(V);A>=0&&this._rangeReaders.splice(A,1)}getFullReader(){(0,y.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const V=this._queuedChunks;return this._queuedChunks=null,new j(this,V,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(V,A){if(A<=this._progressiveDataLength)return null;const N=new Z(this,V,A);return this._pdfDataRangeTransport.requestDataRange(V,A),this._rangeReaders.push(N),N}cancelAllRequests(V){var A;(A=this._fullRequestReader)==null||A.cancel(V);for(const N of this._rangeReaders.slice(0))N.cancel(V);this._pdfDataRangeTransport.abort()}}x.PDFDataTransportStream=r;class j{constructor(V,A,N=!1,C=null){this._stream=V,this._done=N||!1,this._filename=(0,S.isPdfFile)(C)?C:null,this._queuedChunks=A||[],this._loaded=0;for(const b of this._queuedChunks)this._loaded+=b.byteLength;this._requests=[],this._headersReady=Promise.resolve(),V._fullRequestReader=this,this.onProgress=null}_enqueue(V){this._done||(this._requests.length>0?this._requests.shift().resolve({value:V,done:!1}):this._queuedChunks.push(V),this._loaded+=V.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const V=new y.PromiseCapability;return this._requests.push(V),V.promise}cancel(V){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Z{constructor(V,A,N){this._stream=V,this._begin=A,this._end=N,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(V){if(!this._done){if(this._requests.length===0)this._queuedChunk=V;else{this._requests.shift().resolve({value:V,done:!1});for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const A=this._queuedChunk;return this._queuedChunk=null,{value:A,done:!1}}if(this._done)return{value:void 0,done:!0};const V=new y.PromiseCapability;return this._requests.push(V),V.promise}cancel(V){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFFetchStream=void 0;var y=n(1),S=n(20);function r(N,C,b){return{method:"GET",headers:N,signal:b.signal,mode:"cors",credentials:C?"include":"same-origin",redirect:"follow"}}function j(N){const C=new Headers;for(const b in N){const h=N[b];h!==void 0&&C.append(b,h)}return C}function Z(N){return N instanceof Uint8Array?N.buffer:N instanceof ArrayBuffer?N:((0,y.warn)("getArrayBuffer - unexpected data format: ".concat(N)),new Uint8Array(N).buffer)}class X{constructor(C){this.source=C,this.isHttp=/^https?:/i.test(C.url),this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var C,b;return(b=(C=this._fullRequestReader)==null?void 0:C._loaded)!=null?b:0}getFullReader(){return(0,y.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new V(this),this._fullRequestReader}getRangeReader(C,b){if(b<=this._progressiveDataLength)return null;const h=new A(this,C,b);return this._rangeRequestReaders.push(h),h}cancelAllRequests(C){var b;(b=this._fullRequestReader)==null||b.cancel(C);for(const h of this._rangeRequestReaders.slice(0))h.cancel(C)}}x.PDFFetchStream=X;class V{constructor(C){this._stream=C,this._reader=null,this._loaded=0,this._filename=null;const b=C.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=new y.PromiseCapability,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=j(this._stream.httpHeaders);const h=b.url;fetch(h,r(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!(0,S.validateResponseStatus)(i.status))throw(0,S.createResponseStatusError)(i.status,h);this._reader=i.body.getReader(),this._headersCapability.resolve();const d=M=>i.headers.get(M),{allowRangeRequests:p,suggestedLength:o}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=o||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new y.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var h;await this._headersCapability.promise;const{value:C,done:b}=await this._reader.read();return b?{value:C,done:b}:(this._loaded+=C.byteLength,(h=this.onProgress)==null||h.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Z(C),done:!1})}cancel(C){var b;(b=this._reader)==null||b.cancel(C),this._abortController.abort()}}class A{constructor(C,b,h){this._stream=C,this._reader=null,this._loaded=0;const i=C.source;this._withCredentials=i.withCredentials||!1,this._readCapability=new y.PromiseCapability,this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=j(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(b,"-").concat(h-1));const d=i.url;fetch(d,r(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,S.validateResponseStatus)(p.status))throw(0,S.createResponseStatusError)(p.status,d);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var h;await this._readCapability.promise;const{value:C,done:b}=await this._reader.read();return b?{value:C,done:b}:(this._loaded+=C.byteLength,(h=this.onProgress)==null||h.call(this,{loaded:this._loaded}),{value:Z(C),done:!1})}cancel(C){var b;(b=this._reader)==null||b.cancel(C),this._abortController.abort()}}}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.createResponseStatusError=X,x.extractFilenameFromHeader=Z,x.validateRangeRequestCapabilities=j,x.validateResponseStatus=V;var y=n(1),S=n(21),r=n(6);function j({getResponseHeader:A,isHttp:N,rangeChunkSize:C,disableRange:b}){const h={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(A("Content-Length"),10);return!Number.isInteger(i)||(h.suggestedLength=i,i<=2*C)||b||!N||A("Accept-Ranges")!=="bytes"||(A("Content-Encoding")||"identity")!=="identity"||(h.allowRangeRequests=!0),h}function Z(A){const N=A("Content-Disposition");if(N){let C=(0,S.getFilenameFromContentDispositionHeader)(N);if(C.includes("%"))try{C=decodeURIComponent(C)}catch(b){}if((0,r.isPdfFile)(C))return C}return null}function X(A,N){return A===404||A===0&&N.startsWith("file:")?new y.MissingPDFException('Missing PDF "'+N+'".'):new y.UnexpectedResponseException("Unexpected server response (".concat(A,') while retrieving PDF "').concat(N,'".'),A)}function V(A){return A===200||A===206}}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getFilenameFromContentDispositionHeader=S;var y=n(1);function S(r){let j=!0,Z=X("filename\\*","i").exec(r);if(Z){Z=Z[1];let i=C(Z);return i=unescape(i),i=b(i),i=h(i),A(i)}if(Z=N(r),Z){const i=h(Z);return A(i)}if(Z=X("filename","i").exec(r),Z){Z=Z[1];let i=C(Z);return i=h(i),A(i)}function X(i,d){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function V(i,d){if(i){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const p=new TextDecoder(i,{fatal:!0}),o=(0,y.stringToBytes)(d);d=p.decode(o),j=!1}catch(p){}}return d}function A(i){return j&&/[\x80-\xff]/.test(i)&&(i=V("utf-8",i),j&&(i=V("iso-8859-1",i))),i}function N(i){const d=[];let p;const o=X("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=o.exec(i))!==null;){let[,m,f,_]=p;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[f,_]}const M=[];for(let m=0;m<d.length&&m in d;++m){let[f,_]=d[m];_=C(_),f&&(_=unescape(_),m===0&&(_=b(_))),M.push(_)}return M.join("")}function C(i){if(i.startsWith('"')){const d=i.slice(1).split('\\"');for(let p=0;p<d.length;++p){const o=d[p].indexOf('"');o!==-1&&(d[p]=d[p].slice(0,o),d.length=p+1),d[p]=d[p].replaceAll(/\\(.)/g,"$1")}i=d.join('"')}return i}function b(i){const d=i.indexOf("'");if(d===-1)return i;const p=i.slice(0,d),M=i.slice(d+1).replace(/^[^']*'/,"");return V(p,M)}function h(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,p,o,M){if(o==="q"||o==="Q")return M=M.replaceAll("_"," "),M=M.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,f){return String.fromCharCode(parseInt(f,16))}),V(p,M);try{M=atob(M)}catch(m){}return V(p,M)})}return""}}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNetworkStream=void 0;var y=n(1),S=n(20);const r=200,j=206;function Z(C){const b=C.response;return typeof b!="string"?b:(0,y.stringToBytes)(b).buffer}class X{constructor(b,h={}){this.url=b,this.isHttp=/^https?:/i.test(b),this.httpHeaders=this.isHttp&&h.httpHeaders||Object.create(null),this.withCredentials=h.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(b,h,i){const d={begin:b,end:h};for(const p in i)d[p]=i[p];return this.request(d)}requestFull(b){return this.request(b)}request(b){const h=new XMLHttpRequest,i=this.currXhrId++,d=this.pendingRequests[i]={xhr:h};h.open("GET",this.url),h.withCredentials=this.withCredentials;for(const p in this.httpHeaders){const o=this.httpHeaders[p];o!==void 0&&h.setRequestHeader(p,o)}return this.isHttp&&"begin"in b&&"end"in b?(h.setRequestHeader("Range","bytes=".concat(b.begin,"-").concat(b.end-1)),d.expectedStatus=j):d.expectedStatus=r,h.responseType="arraybuffer",b.onError&&(h.onerror=function(p){b.onError(h.status)}),h.onreadystatechange=this.onStateChange.bind(this,i),h.onprogress=this.onProgress.bind(this,i),d.onHeadersReceived=b.onHeadersReceived,d.onDone=b.onDone,d.onError=b.onError,d.onProgress=b.onProgress,h.send(null),i}onProgress(b,h){var d;const i=this.pendingRequests[b];i&&((d=i.onProgress)==null||d.call(i,h))}onStateChange(b,h){var m,f,_;const i=this.pendingRequests[b];if(!i)return;const d=i.xhr;if(d.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),d.readyState!==4||!(b in this.pendingRequests))return;if(delete this.pendingRequests[b],d.status===0&&this.isHttp){(m=i.onError)==null||m.call(i,d.status);return}const p=d.status||r;if(!(p===r&&i.expectedStatus===j)&&p!==i.expectedStatus){(f=i.onError)==null||f.call(i,d.status);return}const M=Z(d);if(p===j){const c=d.getResponseHeader("Content-Range"),a=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);i.onDone({begin:parseInt(a[1],10),chunk:M})}else M?i.onDone({begin:0,chunk:M}):(_=i.onError)==null||_.call(i,d.status)}getRequestXhr(b){return this.pendingRequests[b].xhr}isPendingRequest(b){return b in this.pendingRequests}abortRequest(b){const h=this.pendingRequests[b].xhr;delete this.pendingRequests[b],h.abort()}}class V{constructor(b){this._source=b,this._manager=new X(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(b){const h=this._rangeRequestReaders.indexOf(b);h>=0&&this._rangeRequestReaders.splice(h,1)}getFullReader(){return(0,y.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new A(this._manager,this._source),this._fullRequestReader}getRangeReader(b,h){const i=new N(this._manager,b,h);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(b){var h;(h=this._fullRequestReader)==null||h.cancel(b);for(const i of this._rangeRequestReaders.slice(0))i.cancel(b)}}x.PDFNetworkStream=V;class A{constructor(b,h){this._manager=b;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=h.url,this._fullRequestId=b.requestFull(i),this._headersReceivedCapability=new y.PromiseCapability,this._disableRange=h.disableRange||!1,this._contentLength=h.length,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const b=this._fullRequestId,h=this._manager.getRequestXhr(b),i=o=>h.getResponseHeader(o),{allowRangeRequests:d,suggestedLength:p}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=p||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(b),this._headersReceivedCapability.resolve()}_onDone(b){if(b&&(this._requests.length>0?this._requests.shift().resolve({value:b.chunk,done:!1}):this._cachedChunks.push(b.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(b){this._storedError=(0,S.createResponseStatusError)(b,this._url),this._headersReceivedCapability.reject(this._storedError);for(const h of this._requests)h.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(b){var h;(h=this.onProgress)==null||h.call(this,{loaded:b.loaded,total:b.lengthComputable?b.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new y.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0,this._headersReceivedCapability.reject(b);for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class N{constructor(b,h,i){this._manager=b;const d={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._requestId=b.requestRange(h,i,d),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var b;(b=this.onClosed)==null||b.call(this,this)}_onDone(b){const h=b.chunk;this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunk=h,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(b){this._storedError=(0,S.createResponseStatusError)(b,this._url);for(const h of this._requests)h.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(b){var h;this.isStreamingSupported||(h=this.onProgress)==null||h.call(this,{loaded:b.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const h=this._queuedChunk;return this._queuedChunk=null,{value:h,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new y.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNodeStream=void 0;var y=n(1),S=n(20);const r=/^file:\/\/\/[a-zA-Z]:\//;function j(i){const d=require$$5,p=d.parse(i);return p.protocol==="file:"||p.host?p:/^[a-z]:[/\\]/i.test(i)?d.parse("file:///".concat(i)):(p.host||(p.protocol="file:"),p)}class Z{constructor(d){this.source=d,this.url=j(d.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var d,p;return(p=(d=this._fullRequestReader)==null?void 0:d._loaded)!=null?p:0}getFullReader(){return(0,y.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new N(this),this._fullRequestReader}getRangeReader(d,p){if(p<=this._progressiveDataLength)return null;const o=this.isFsUrl?new h(this,d,p):new C(this,d,p);return this._rangeRequestReaders.push(o),o}cancelAllRequests(d){var p;(p=this._fullRequestReader)==null||p.cancel(d);for(const o of this._rangeRequestReaders.slice(0))o.cancel(d)}}x.PDFNodeStream=Z;class X{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null;const p=d.source;this._contentLength=p.length,this._loaded=0,this._filename=null,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._readableStream=null,this._readCapability=new y.PromiseCapability,this._headersCapability=new y.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const d=this._readableStream.read();return d===null?(this._readCapability=new y.PromiseCapability,this.read()):(this._loaded+=d.length,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(d).buffer,done:!1})}cancel(d){if(!this._readableStream){this._error(d);return}this._readableStream.destroy(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",p=>{this._error(p)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new y.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class V{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new y.PromiseCapability;const p=d.source;this._isStreamingSupported=!p.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const d=this._readableStream.read();return d===null?(this._readCapability=new y.PromiseCapability,this.read()):(this._loaded+=d.length,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded}),{value:new Uint8Array(d).buffer,done:!1})}cancel(d){if(!this._readableStream){this._error(d);return}this._readableStream.destroy(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",p=>{this._error(p)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function A(i,d){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:d}}class N extends X{constructor(d){super(d);const p=o=>{if(o.statusCode===404){const _=new y.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=_,this._headersCapability.reject(_);return}this._headersCapability.resolve(),this._setReadableStream(o);const M=_=>this._readableStream.headers[_.toLowerCase()],{allowRangeRequests:m,suggestedLength:f}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:d.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=f||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(M)};if(this._request=null,this._url.protocol==="http:"){const o=require$$5;this._request=o.request(A(this._url,d.httpHeaders),p)}else{const o=require$$5;this._request=o.request(A(this._url,d.httpHeaders),p)}this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class C extends V{constructor(d,p,o){super(d),this._httpHeaders={};for(const m in d.httpHeaders){const f=d.httpHeaders[m];f!==void 0&&(this._httpHeaders[m]=f)}this._httpHeaders.Range="bytes=".concat(p,"-").concat(o-1);const M=m=>{if(m.statusCode===404){const f=new y.MissingPDFException('Missing PDF "'.concat(this._url,'".'));this._storedError=f;return}this._setReadableStream(m)};if(this._request=null,this._url.protocol==="http:"){const m=require$$5;this._request=m.request(A(this._url,this._httpHeaders),M)}else{const m=require$$5;this._request=m.request(A(this._url,this._httpHeaders),M)}this._request.on("error",m=>{this._storedError=m}),this._request.end()}}class b extends X{constructor(d){super(d);let p=decodeURIComponent(this._url.path);r.test(this._url.href)&&(p=p.replace(/^\//,""));const o=require$$5;o.lstat(p,(M,m)=>{if(M){M.code==="ENOENT"&&(M=new y.MissingPDFException('Missing PDF "'.concat(p,'".'))),this._storedError=M,this._headersCapability.reject(M);return}this._contentLength=m.size,this._setReadableStream(o.createReadStream(p)),this._headersCapability.resolve()})}}class h extends V{constructor(d,p,o){super(d);let M=decodeURIComponent(this._url.path);r.test(this._url.href)&&(M=M.replace(/^\//,""));const m=require$$5;this._setReadableStream(m.createReadStream(M,{start:p,end:o-1}))}}}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SVGGraphics=void 0;var y=n(6),S=n(1);const r={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},j="http://www.w3.org/XML/1998/namespace",Z="http://www.w3.org/1999/xlink",X=["butt","round","square"],V=["miter","round","bevel"],A=function(m,f="",_=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!_)return URL.createObjectURL(new Blob([m],{type:f}));const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="data:".concat(f,";base64,");for(let g=0,k=m.length;g<k;g+=3){const t=m[g]&255,s=m[g+1]&255,w=m[g+2]&255,B=t>>2,P=(t&3)<<4|s>>4,D=g+1<k?(s&15)<<2|w>>6:64,T=g+2<k?w&63:64;a+=c[B]+c[P]+c[D]+c[T]}return a},N=(function(){const m=new Uint8Array([137,80,78,71,13,10,26,10]),f=12,_=new Int32Array(256);for(let w=0;w<256;w++){let B=w;for(let P=0;P<8;P++)B=B&1?3988292384^B>>1&2147483647:B>>1&2147483647;_[w]=B}function c(w,B,P){let D=-1;for(let T=B;T<P;T++){const H=(D^w[T])&255,F=_[H];D=D>>>8^F}return D^-1}function a(w,B,P,D){let T=D;const H=B.length;P[T]=H>>24&255,P[T+1]=H>>16&255,P[T+2]=H>>8&255,P[T+3]=H&255,T+=4,P[T]=w.charCodeAt(0)&255,P[T+1]=w.charCodeAt(1)&255,P[T+2]=w.charCodeAt(2)&255,P[T+3]=w.charCodeAt(3)&255,T+=4,P.set(B,T),T+=B.length;const F=c(P,D+4,T);P[T]=F>>24&255,P[T+1]=F>>16&255,P[T+2]=F>>8&255,P[T+3]=F&255}function g(w,B,P){let D=1,T=0;for(let H=B;H<P;++H)D=(D+(w[H]&255))%65521,T=(T+D)%65521;return T<<16|D}function k(w){if(!S.isNodeJS)return t(w);try{const B=parseInt(process.versions.node)>=8?w:Buffer.from(w),P=require$$5.deflateSync(B,{level:9});return P instanceof Uint8Array?P:new Uint8Array(P)}catch(B){(0,S.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+B)}return t(w)}function t(w){let B=w.length;const P=65535,D=Math.ceil(B/P),T=new Uint8Array(2+B+D*5+4);let H=0;T[H++]=120,T[H++]=156;let F=0;for(;B>P;)T[H++]=0,T[H++]=255,T[H++]=255,T[H++]=0,T[H++]=0,T.set(w.subarray(F,F+P),H),H+=P,F+=P,B-=P;T[H++]=1,T[H++]=B&255,T[H++]=B>>8&255,T[H++]=~B&65535&255,T[H++]=(~B&65535)>>8&255,T.set(w.subarray(F),H),H+=w.length-F;const W=g(w,0,w.length);return T[H++]=W>>24&255,T[H++]=W>>16&255,T[H++]=W>>8&255,T[H++]=W&255,T}function s(w,B,P,D){const T=w.width,H=w.height;let F,W,J;const R=w.data;switch(B){case S.ImageKind.GRAYSCALE_1BPP:W=0,F=1,J=T+7>>3;break;case S.ImageKind.RGB_24BPP:W=2,F=8,J=T*3;break;case S.ImageKind.RGBA_32BPP:W=6,F=8,J=T*4;break;default:throw new Error("invalid format")}const l=new Uint8Array((1+J)*H);let v=0,L=0;for(let Se=0;Se<H;++Se)l[v++]=0,l.set(R.subarray(L,L+J),v),L+=J,v+=J;if(B===S.ImageKind.GRAYSCALE_1BPP&&D){v=0;for(let Se=0;Se<H;Se++){v++;for(let xe=0;xe<J;xe++)l[v++]^=255}}const G=new Uint8Array([T>>24&255,T>>16&255,T>>8&255,T&255,H>>24&255,H>>16&255,H>>8&255,H&255,F,W,0,0,0]),z=k(l),U=m.length+f*3+G.length+z.length,ee=new Uint8Array(U);let fe=0;return ee.set(m,fe),fe+=m.length,a("IHDR",G,ee,fe),fe+=f+G.length,a("IDATA",z,ee,fe),fe+=f+z.length,a("IEND",new Uint8Array(0),ee,fe),A(ee,"image/png",P)}return function(B,P,D){const T=B.kind===void 0?S.ImageKind.GRAYSCALE_1BPP:B.kind;return s(B,T,P,D)}})();class C{constructor(){this.fontSizeScale=1,this.fontWeight=r.fontWeight,this.fontSize=0,this.textMatrix=S.IDENTITY_MATRIX,this.fontMatrix=S.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=S.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=r.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(f,_){this.x=f,this.y=_}}function b(m){let f=[];const _=[];for(const c of m){if(c.fn==="save"){f.push({fnId:92,fn:"group",items:[]}),_.push(f),f=f.at(-1).items;continue}c.fn==="restore"?f=_.pop():f.push(c)}return f}function h(m){if(Number.isInteger(m))return m.toString();const f=m.toFixed(10);let _=f.length-1;if(f[_]!=="0")return f;do _--;while(f[_]==="0");return f.substring(0,f[_]==="."?_:_+1)}function i(m){if(m[4]===0&&m[5]===0){if(m[1]===0&&m[2]===0)return m[0]===1&&m[3]===1?"":"scale(".concat(h(m[0])," ").concat(h(m[3]),")");if(m[0]===m[3]&&m[1]===-m[2]){const f=Math.acos(m[0])*180/Math.PI;return"rotate(".concat(h(f),")")}}else if(m[0]===1&&m[1]===0&&m[2]===0&&m[3]===1)return"translate(".concat(h(m[4])," ").concat(h(m[5]),")");return"matrix(".concat(h(m[0])," ").concat(h(m[1])," ").concat(h(m[2])," ").concat(h(m[3])," ").concat(h(m[4])," ")+"".concat(h(m[5]),")")}let d=0,p=0,o=0;class M{constructor(f,_,c=!1){(0,y.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new y.DOMSVGFactory,this.current=new C,this.transformMatrix=S.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=f,this.objs=_,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!c,this._operatorIdMapping=[];for(const a in S.OPS)this._operatorIdMapping[S.OPS[a]]=a}getObject(f,_=null){return typeof f=="string"?f.startsWith("g_")?this.commonObjs.get(f):this.objs.get(f):_}save(){this.transformStack.push(this.transformMatrix);const f=this.current;this.extraStack.push(f),this.current=f.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(f){this.save(),this.executeOpTree(f),this.restore()}loadDependencies(f){const _=f.fnArray,c=f.argsArray;for(let a=0,g=_.length;a<g;a++)if(_[a]===S.OPS.dependency)for(const k of c[a]){const t=k.startsWith("g_")?this.commonObjs:this.objs,s=new Promise(w=>{t.get(k,w)});this.current.dependencies.push(s)}return Promise.all(this.current.dependencies)}transform(f,_,c,a,g,k){const t=[f,_,c,a,g,k];this.transformMatrix=S.Util.transform(this.transformMatrix,t),this.tgrp=null}getSVG(f,_){this.viewport=_;const c=this._initialize(_);return this.loadDependencies(f).then(()=>(this.transformMatrix=S.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(f)),c))}convertOpList(f){const _=this._operatorIdMapping,c=f.argsArray,a=f.fnArray,g=[];for(let k=0,t=a.length;k<t;k++){const s=a[k];g.push({fnId:s,fn:_[s],args:c[k]})}return b(g)}executeOpTree(f){for(const _ of f){const c=_.fn,a=_.fnId,g=_.args;switch(a|0){case S.OPS.beginText:this.beginText();break;case S.OPS.dependency:break;case S.OPS.setLeading:this.setLeading(g);break;case S.OPS.setLeadingMoveText:this.setLeadingMoveText(g[0],g[1]);break;case S.OPS.setFont:this.setFont(g);break;case S.OPS.showText:this.showText(g[0]);break;case S.OPS.showSpacedText:this.showText(g[0]);break;case S.OPS.endText:this.endText();break;case S.OPS.moveText:this.moveText(g[0],g[1]);break;case S.OPS.setCharSpacing:this.setCharSpacing(g[0]);break;case S.OPS.setWordSpacing:this.setWordSpacing(g[0]);break;case S.OPS.setHScale:this.setHScale(g[0]);break;case S.OPS.setTextMatrix:this.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case S.OPS.setTextRise:this.setTextRise(g[0]);break;case S.OPS.setTextRenderingMode:this.setTextRenderingMode(g[0]);break;case S.OPS.setLineWidth:this.setLineWidth(g[0]);break;case S.OPS.setLineJoin:this.setLineJoin(g[0]);break;case S.OPS.setLineCap:this.setLineCap(g[0]);break;case S.OPS.setMiterLimit:this.setMiterLimit(g[0]);break;case S.OPS.setFillRGBColor:this.setFillRGBColor(g[0],g[1],g[2]);break;case S.OPS.setStrokeRGBColor:this.setStrokeRGBColor(g[0],g[1],g[2]);break;case S.OPS.setStrokeColorN:this.setStrokeColorN(g);break;case S.OPS.setFillColorN:this.setFillColorN(g);break;case S.OPS.shadingFill:this.shadingFill(g[0]);break;case S.OPS.setDash:this.setDash(g[0],g[1]);break;case S.OPS.setRenderingIntent:this.setRenderingIntent(g[0]);break;case S.OPS.setFlatness:this.setFlatness(g[0]);break;case S.OPS.setGState:this.setGState(g[0]);break;case S.OPS.fill:this.fill();break;case S.OPS.eoFill:this.eoFill();break;case S.OPS.stroke:this.stroke();break;case S.OPS.fillStroke:this.fillStroke();break;case S.OPS.eoFillStroke:this.eoFillStroke();break;case S.OPS.clip:this.clip("nonzero");break;case S.OPS.eoClip:this.clip("evenodd");break;case S.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case S.OPS.paintImageXObject:this.paintImageXObject(g[0]);break;case S.OPS.paintInlineImageXObject:this.paintInlineImageXObject(g[0]);break;case S.OPS.paintImageMaskXObject:this.paintImageMaskXObject(g[0]);break;case S.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(g[0],g[1]);break;case S.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case S.OPS.closePath:this.closePath();break;case S.OPS.closeStroke:this.closeStroke();break;case S.OPS.closeFillStroke:this.closeFillStroke();break;case S.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case S.OPS.nextLine:this.nextLine();break;case S.OPS.transform:this.transform(g[0],g[1],g[2],g[3],g[4],g[5]);break;case S.OPS.constructPath:this.constructPath(g[0],g[1]);break;case S.OPS.endPath:this.endPath();break;case 92:this.group(_.items);break;default:(0,S.warn)("Unimplemented operator ".concat(c));break}}}setWordSpacing(f){this.current.wordSpacing=f}setCharSpacing(f){this.current.charSpacing=f}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(f,_,c,a,g,k){const t=this.current;t.textMatrix=t.lineMatrix=[f,_,c,a,g,k],t.textMatrixScale=Math.hypot(f,_),t.x=t.lineX=0,t.y=t.lineY=0,t.xcoords=[],t.ycoords=[],t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(h(t.fontSize),"px")),t.tspan.setAttributeNS(null,"y",h(-t.y)),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtElement.append(t.tspan)}beginText(){const f=this.current;f.x=f.lineX=0,f.y=f.lineY=0,f.textMatrix=S.IDENTITY_MATRIX,f.lineMatrix=S.IDENTITY_MATRIX,f.textMatrixScale=1,f.tspan=this.svgFactory.createElement("svg:tspan"),f.txtElement=this.svgFactory.createElement("svg:text"),f.txtgrp=this.svgFactory.createElement("svg:g"),f.xcoords=[],f.ycoords=[]}moveText(f,_){const c=this.current;c.x=c.lineX+=f,c.y=c.lineY+=_,c.xcoords=[],c.ycoords=[],c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size","".concat(h(c.fontSize),"px")),c.tspan.setAttributeNS(null,"y",h(-c.y))}showText(f){const _=this.current,c=_.font,a=_.fontSize;if(a===0)return;const g=_.fontSizeScale,k=_.charSpacing,t=_.wordSpacing,s=_.fontDirection,w=_.textHScale*s,B=c.vertical,P=B?1:-1,D=c.defaultVMetrics,T=a*_.fontMatrix[0];let H=0;for(const J of f){if(J===null){H+=s*t;continue}else if(typeof J=="number"){H+=P*J*a/1e3;continue}const R=(J.isSpace?t:0)+k,l=J.fontChar;let v,L,G=J.width;if(B){let U;const ee=J.vmetric||D;U=J.vmetric?ee[1]:G*.5,U=-U*T;const fe=ee[2]*T;G=ee?-ee[0]:G,v=U/g,L=(H+fe)/g}else v=H/g,L=0;(J.isInFont||c.missingFile)&&(_.xcoords.push(_.x+v),B&&_.ycoords.push(-_.y+L),_.tspan.textContent+=l);const z=B?G*T-R*s:G*T+R*s;H+=z}_.tspan.setAttributeNS(null,"x",_.xcoords.map(h).join(" ")),B?_.tspan.setAttributeNS(null,"y",_.ycoords.map(h).join(" ")):_.tspan.setAttributeNS(null,"y",h(-_.y)),B?_.y-=H:_.x+=H*w,_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size","".concat(h(_.fontSize),"px")),_.fontStyle!==r.fontStyle&&_.tspan.setAttributeNS(null,"font-style",_.fontStyle),_.fontWeight!==r.fontWeight&&_.tspan.setAttributeNS(null,"font-weight",_.fontWeight);const F=_.textRenderingMode&S.TextRenderingMode.FILL_STROKE_MASK;if(F===S.TextRenderingMode.FILL||F===S.TextRenderingMode.FILL_STROKE?(_.fillColor!==r.fillColor&&_.tspan.setAttributeNS(null,"fill",_.fillColor),_.fillAlpha<1&&_.tspan.setAttributeNS(null,"fill-opacity",_.fillAlpha)):_.textRenderingMode===S.TextRenderingMode.ADD_TO_PATH?_.tspan.setAttributeNS(null,"fill","transparent"):_.tspan.setAttributeNS(null,"fill","none"),F===S.TextRenderingMode.STROKE||F===S.TextRenderingMode.FILL_STROKE){const J=1/(_.textMatrixScale||1);this._setStrokeAttributes(_.tspan,J)}let W=_.textMatrix;_.textRise!==0&&(W=W.slice(),W[5]+=_.textRise),_.txtElement.setAttributeNS(null,"transform","".concat(i(W)," scale(").concat(h(w),", -1)")),_.txtElement.setAttributeNS(j,"xml:space","preserve"),_.txtElement.append(_.tspan),_.txtgrp.append(_.txtElement),this._ensureTransformGroup().append(_.txtElement)}setLeadingMoveText(f,_){this.setLeading(-_),this.moveText(f,_)}addFontStyle(f){if(!f.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const _=A(f.data,f.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(f.loadedName,'";')+" src: url(".concat(_,"); }\n")}setFont(f){const _=this.current,c=this.commonObjs.get(f[0]);let a=f[1];_.font=c,this.embedFonts&&!c.missingFile&&!this.embeddedFonts[c.loadedName]&&(this.addFontStyle(c),this.embeddedFonts[c.loadedName]=c),_.fontMatrix=c.fontMatrix||S.FONT_IDENTITY_MATRIX;let g="normal";c.black?g="900":c.bold&&(g="bold");const k=c.italic?"italic":"normal";a<0?(a=-a,_.fontDirection=-1):_.fontDirection=1,_.fontSize=a,_.fontFamily=c.loadedName,_.fontWeight=g,_.fontStyle=k,_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"y",h(-_.y)),_.xcoords=[],_.ycoords=[]}endText(){var _;const f=this.current;f.textRenderingMode&S.TextRenderingMode.ADD_TO_PATH_FLAG&&((_=f.txtElement)!=null&&_.hasChildNodes())&&(f.element=f.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(f){f>0&&(this.current.lineWidth=f)}setLineCap(f){this.current.lineCap=X[f]}setLineJoin(f){this.current.lineJoin=V[f]}setMiterLimit(f){this.current.miterLimit=f}setStrokeAlpha(f){this.current.strokeAlpha=f}setStrokeRGBColor(f,_,c){this.current.strokeColor=S.Util.makeHexColor(f,_,c)}setFillAlpha(f){this.current.fillAlpha=f}setFillRGBColor(f,_,c){this.current.fillColor=S.Util.makeHexColor(f,_,c),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(f){this.current.strokeColor=this._makeColorN_Pattern(f)}setFillColorN(f){this.current.fillColor=this._makeColorN_Pattern(f)}shadingFill(f){const{width:_,height:c}=this.viewport,a=S.Util.inverseTransform(this.transformMatrix),[g,k,t,s]=S.Util.getAxialAlignedBoundingBox([0,0,_,c],a),w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x",g),w.setAttributeNS(null,"y",k),w.setAttributeNS(null,"width",t-g),w.setAttributeNS(null,"height",s-k),w.setAttributeNS(null,"fill",this._makeShadingPattern(f)),this.current.fillAlpha<1&&w.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(w)}_makeColorN_Pattern(f){return f[0]==="TilingPattern"?this._makeTilingPattern(f):this._makeShadingPattern(f)}_makeTilingPattern(f){const _=f[1],c=f[2],a=f[3]||S.IDENTITY_MATRIX,[g,k,t,s]=f[4],w=f[5],B=f[6],P=f[7],D="shading".concat(o++),[T,H,F,W]=S.Util.normalizeRect([...S.Util.applyTransform([g,k],a),...S.Util.applyTransform([t,s],a)]),[J,R]=S.Util.singularValueDecompose2dScale(a),l=w*J,v=B*R,L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",D),L.setAttributeNS(null,"patternUnits","userSpaceOnUse"),L.setAttributeNS(null,"width",l),L.setAttributeNS(null,"height",v),L.setAttributeNS(null,"x","".concat(T)),L.setAttributeNS(null,"y","".concat(H));const G=this.svg,z=this.transformMatrix,U=this.current.fillColor,ee=this.current.strokeColor,fe=this.svgFactory.create(F-T,W-H);if(this.svg=fe,this.transformMatrix=a,P===2){const Se=S.Util.makeHexColor(..._);this.current.fillColor=Se,this.current.strokeColor=Se}return this.executeOpTree(this.convertOpList(c)),this.svg=G,this.transformMatrix=z,this.current.fillColor=U,this.current.strokeColor=ee,L.append(fe.childNodes[0]),this.defs.append(L),"url(#".concat(D,")")}_makeShadingPattern(f){switch(typeof f=="string"&&(f=this.objs.get(f)),f[0]){case"RadialAxial":const _="shading".concat(o++),c=f[3];let a;switch(f[1]){case"axial":const g=f[4],k=f[5];a=this.svgFactory.createElement("svg:linearGradient"),a.setAttributeNS(null,"id",_),a.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),a.setAttributeNS(null,"x1",g[0]),a.setAttributeNS(null,"y1",g[1]),a.setAttributeNS(null,"x2",k[0]),a.setAttributeNS(null,"y2",k[1]);break;case"radial":const t=f[4],s=f[5],w=f[6],B=f[7];a=this.svgFactory.createElement("svg:radialGradient"),a.setAttributeNS(null,"id",_),a.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),a.setAttributeNS(null,"cx",s[0]),a.setAttributeNS(null,"cy",s[1]),a.setAttributeNS(null,"r",B),a.setAttributeNS(null,"fx",t[0]),a.setAttributeNS(null,"fy",t[1]),a.setAttributeNS(null,"fr",w);break;default:throw new Error("Unknown RadialAxial type: ".concat(f[1]))}for(const g of c){const k=this.svgFactory.createElement("svg:stop");k.setAttributeNS(null,"offset",g[0]),k.setAttributeNS(null,"stop-color",g[1]),a.append(k)}return this.defs.append(a),"url(#".concat(_,")");case"Mesh":return(0,S.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(f[0]))}}setDash(f,_){this.current.dashArray=f,this.current.dashPhase=_}constructPath(f,_){const c=this.current;let a=c.x,g=c.y,k=[],t=0;for(const s of f)switch(s|0){case S.OPS.rectangle:a=_[t++],g=_[t++];const w=_[t++],B=_[t++],P=a+w,D=g+B;k.push("M",h(a),h(g),"L",h(P),h(g),"L",h(P),h(D),"L",h(a),h(D),"Z");break;case S.OPS.moveTo:a=_[t++],g=_[t++],k.push("M",h(a),h(g));break;case S.OPS.lineTo:a=_[t++],g=_[t++],k.push("L",h(a),h(g));break;case S.OPS.curveTo:a=_[t+4],g=_[t+5],k.push("C",h(_[t]),h(_[t+1]),h(_[t+2]),h(_[t+3]),h(a),h(g)),t+=6;break;case S.OPS.curveTo2:k.push("C",h(a),h(g),h(_[t]),h(_[t+1]),h(_[t+2]),h(_[t+3])),a=_[t+2],g=_[t+3],t+=4;break;case S.OPS.curveTo3:a=_[t+2],g=_[t+3],k.push("C",h(_[t]),h(_[t+1]),h(a),h(g),h(a),h(g)),t+=4;break;case S.OPS.closePath:k.push("Z");break}k=k.join(" "),c.path&&f.length>0&&f[0]!==S.OPS.rectangle&&f[0]!==S.OPS.moveTo?k=c.path.getAttributeNS(null,"d")+k:(c.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(c.path)),c.path.setAttributeNS(null,"d",k),c.path.setAttributeNS(null,"fill","none"),c.element=c.path,c.setCurrentPoint(a,g)}endPath(){const f=this.current;if(f.path=null,!this.pendingClip)return;if(!f.element){this.pendingClip=null;return}const _="clippath".concat(d++),c=this.svgFactory.createElement("svg:clipPath");c.setAttributeNS(null,"id",_),c.setAttributeNS(null,"transform",i(this.transformMatrix));const a=f.element.cloneNode(!0);if(this.pendingClip==="evenodd"?a.setAttributeNS(null,"clip-rule","evenodd"):a.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,c.append(a),this.defs.append(c),f.activeClipUrl){f.clipGroup=null;for(const g of this.extraStack)g.clipGroup=null;c.setAttributeNS(null,"clip-path",f.activeClipUrl)}f.activeClipUrl="url(#".concat(_,")"),this.tgrp=null}clip(f){this.pendingClip=f}closePath(){const f=this.current;if(f.path){const _="".concat(f.path.getAttributeNS(null,"d"),"Z");f.path.setAttributeNS(null,"d",_)}}setLeading(f){this.current.leading=-f}setTextRise(f){this.current.textRise=f}setTextRenderingMode(f){this.current.textRenderingMode=f}setHScale(f){this.current.textHScale=f/100}setRenderingIntent(f){}setFlatness(f){}setGState(f){for(const[_,c]of f)switch(_){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,S.warn)("Unimplemented graphic state operator ".concat(_));break}}fill(){const f=this.current;f.element&&(f.element.setAttributeNS(null,"fill",f.fillColor),f.element.setAttributeNS(null,"fill-opacity",f.fillAlpha),this.endPath())}stroke(){const f=this.current;f.element&&(this._setStrokeAttributes(f.element),f.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(f,_=1){const c=this.current;let a=c.dashArray;_!==1&&a.length>0&&(a=a.map(function(g){return _*g})),f.setAttributeNS(null,"stroke",c.strokeColor),f.setAttributeNS(null,"stroke-opacity",c.strokeAlpha),f.setAttributeNS(null,"stroke-miterlimit",h(c.miterLimit)),f.setAttributeNS(null,"stroke-linecap",c.lineCap),f.setAttributeNS(null,"stroke-linejoin",c.lineJoin),f.setAttributeNS(null,"stroke-width",h(_*c.lineWidth)+"px"),f.setAttributeNS(null,"stroke-dasharray",a.map(h).join(" ")),f.setAttributeNS(null,"stroke-dashoffset",h(_*c.dashPhase)+"px")}eoFill(){var f;(f=this.current.element)==null||f.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var f;(f=this.current.element)==null||f.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width","1px"),f.setAttributeNS(null,"height","1px"),f.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(f)}paintImageXObject(f){const _=this.getObject(f);if(!_){(0,S.warn)("Dependent image with object ID ".concat(f," is not ready yet"));return}this.paintInlineImageXObject(_)}paintInlineImageXObject(f,_){const c=f.width,a=f.height,g=N(f,this.forceDataSchema,!!_),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",h(c)),k.setAttributeNS(null,"height",h(a)),this.current.element=k,this.clip("nonzero");const t=this.svgFactory.createElement("svg:image");t.setAttributeNS(Z,"xlink:href",g),t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y",h(-a)),t.setAttributeNS(null,"width",h(c)+"px"),t.setAttributeNS(null,"height",h(a)+"px"),t.setAttributeNS(null,"transform","scale(".concat(h(1/c)," ").concat(h(-1/a),")")),_?_.append(t):this._ensureTransformGroup().append(t)}paintImageMaskXObject(f){const _=this.getObject(f.data,f);if(_.bitmap){(0,S.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const c=this.current,a=_.width,g=_.height,k=c.fillColor;c.maskId="mask".concat(p++);const t=this.svgFactory.createElement("svg:mask");t.setAttributeNS(null,"id",c.maskId);const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",h(a)),s.setAttributeNS(null,"height",h(g)),s.setAttributeNS(null,"fill",k),s.setAttributeNS(null,"mask","url(#".concat(c.maskId,")")),this.defs.append(t),this._ensureTransformGroup().append(s),this.paintInlineImageXObject(_,t)}paintFormXObjectBegin(f,_){if(Array.isArray(f)&&f.length===6&&this.transform(f[0],f[1],f[2],f[3],f[4],f[5]),_){const c=_[2]-_[0],a=_[3]-_[1],g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x",_[0]),g.setAttributeNS(null,"y",_[1]),g.setAttributeNS(null,"width",h(c)),g.setAttributeNS(null,"height",h(a)),this.current.element=g,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(f){const _=this.svgFactory.create(f.width,f.height),c=this.svgFactory.createElement("svg:defs");_.append(c),this.defs=c;const a=this.svgFactory.createElement("svg:g");return a.setAttributeNS(null,"transform",i(f.transform)),_.append(a),this.svg=a,_}_ensureClipGroup(){if(!this.current.clipGroup){const f=this.svgFactory.createElement("svg:g");f.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(f),this.current.clipGroup=f}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}x.SVGGraphics=M}),((e,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaText=void 0;class n{static textContent(S){const r=[],j={items:r,styles:Object.create(null)};function Z(X){var N;if(!X)return;let V=null;const A=X.name;if(A==="#text")V=X.value;else if(n.shouldBuildText(A))(N=X==null?void 0:X.attributes)!=null&&N.textContent?V=X.attributes.textContent:X.value&&(V=X.value);else return;if(V!==null&&r.push({str:V}),!!X.children)for(const C of X.children)Z(C)}return Z(S),j}static shouldBuildText(S){return!(S==="textarea"||S==="input"||S==="option"||S==="select")}}x.XfaText=n}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TextLayerRenderTask=void 0,x.renderTextLayer=i,x.updateTextLayer=d;var y=n(1),S=n(6);const r=1e5,j=30,Z=.8,X=new Map;function V(p,o){let M;if(o&&y.FeatureTest.isOffscreenCanvasSupported)M=new OffscreenCanvas(p,p).getContext("2d",{alpha:!1});else{const m=document.createElement("canvas");m.width=m.height=p,M=m.getContext("2d",{alpha:!1})}return M}function A(p,o){const M=X.get(p);if(M)return M;const m=V(j,o);m.font="".concat(j,"px ").concat(p);const f=m.measureText("");let _=f.fontBoundingBoxAscent,c=Math.abs(f.fontBoundingBoxDescent);if(_){const g=_/(_+c);return X.set(p,g),m.canvas.width=m.canvas.height=0,g}m.strokeStyle="red",m.clearRect(0,0,j,j),m.strokeText("g",0,0);let a=m.getImageData(0,0,j,j).data;c=0;for(let g=a.length-1-3;g>=0;g-=4)if(a[g]>0){c=Math.ceil(g/4/j);break}m.clearRect(0,0,j,j),m.strokeText("A",0,j),a=m.getImageData(0,0,j,j).data,_=0;for(let g=0,k=a.length;g<k;g+=4)if(a[g]>0){_=j-Math.floor(g/4/j);break}if(m.canvas.width=m.canvas.height=0,_){const g=_/(_+c);return X.set(p,g),g}return X.set(p,Z),Z}function N(p,o,M){const m=document.createElement("span"),f={angle:0,canvasWidth:0,hasText:o.str!=="",hasEOL:o.hasEOL,fontSize:0};p._textDivs.push(m);const _=y.Util.transform(p._transform,o.transform);let c=Math.atan2(_[1],_[0]);const a=M[o.fontName];a.vertical&&(c+=Math.PI/2);const g=Math.hypot(_[2],_[3]),k=g*A(a.fontFamily,p._isOffscreenCanvasSupported);let t,s;c===0?(t=_[4],s=_[5]-k):(t=_[4]+k*Math.sin(c),s=_[5]-k*Math.cos(c));const w="calc(var(--scale-factor)*",B=m.style;p._container===p._rootContainer?(B.left="".concat((100*t/p._pageWidth).toFixed(2),"%"),B.top="".concat((100*s/p._pageHeight).toFixed(2),"%")):(B.left="".concat(w).concat(t.toFixed(2),"px)"),B.top="".concat(w).concat(s.toFixed(2),"px)")),B.fontSize="".concat(w).concat(g.toFixed(2),"px)"),B.fontFamily=a.fontFamily,f.fontSize=g,m.setAttribute("role","presentation"),m.textContent=o.str,m.dir=o.dir,p._fontInspectorEnabled&&(m.dataset.fontName=o.fontName),c!==0&&(f.angle=c*(180/Math.PI));let P=!1;if(o.str.length>1)P=!0;else if(o.str!==" "&&o.transform[0]!==o.transform[3]){const D=Math.abs(o.transform[0]),T=Math.abs(o.transform[3]);D!==T&&Math.max(D,T)/Math.min(D,T)>1.5&&(P=!0)}P&&(f.canvasWidth=a.vertical?o.height:o.width),p._textDivProperties.set(m,f),p._isReadableStream&&p._layoutText(m)}function C(p){const{div:o,scale:M,properties:m,ctx:f,prevFontSize:_,prevFontFamily:c}=p,{style:a}=o;let g="";if(m.canvasWidth!==0&&m.hasText){const{fontFamily:k}=a,{canvasWidth:t,fontSize:s}=m;(_!==s||c!==k)&&(f.font="".concat(s*M,"px ").concat(k),p.prevFontSize=s,p.prevFontFamily=k);const{width:w}=f.measureText(o.textContent);w>0&&(g="scaleX(".concat(t*M/w,")"))}m.angle!==0&&(g="rotate(".concat(m.angle,"deg) ").concat(g)),g.length>0&&(a.transform=g)}function b(p){if(p._canceled)return;const o=p._textDivs,M=p._capability;if(o.length>r){M.resolve();return}if(!p._isReadableStream)for(const f of o)p._layoutText(f);M.resolve()}class h{constructor({textContentSource:o,container:M,viewport:m,textDivs:f,textDivProperties:_,textContentItemsStr:c,isOffscreenCanvasSupported:a}){var w;this._textContentSource=o,this._isReadableStream=o instanceof ReadableStream,this._container=this._rootContainer=M,this._textDivs=f||[],this._textContentItemsStr=c||[],this._isOffscreenCanvasSupported=a,this._fontInspectorEnabled=!!((w=globalThis.FontInspector)!=null&&w.enabled),this._reader=null,this._textDivProperties=_||new WeakMap,this._canceled=!1,this._capability=new y.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:m.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:V(0,a)};const{pageWidth:g,pageHeight:k,pageX:t,pageY:s}=m.rawDims;this._transform=[1,0,0,-1,-t,s+k],this._pageWidth=g,this._pageHeight=k,(0,S.setLayerDimensions)(M,m),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new y.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new y.AbortException("TextLayer task cancelled."))}_processItems(o,M){for(const m of o){if(m.str===void 0){if(m.type==="beginMarkedContentProps"||m.type==="beginMarkedContent"){const f=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),m.id!==null&&this._container.setAttribute("id","".concat(m.id)),f.append(this._container)}else m.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(m.str),N(this,m,M)}}_layoutText(o){const M=this._layoutTextParams.properties=this._textDivProperties.get(o);if(this._layoutTextParams.div=o,C(this._layoutTextParams),M.hasText&&this._container.append(o),M.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),this._container.append(m)}}_render(){const o=new y.PromiseCapability;let M=Object.create(null);if(this._isReadableStream){const m=()=>{this._reader.read().then(({value:f,done:_})=>{if(_){o.resolve();return}Object.assign(M,f.styles),this._processItems(f.items,M),m()},o.reject)};this._reader=this._textContentSource.getReader(),m()}else if(this._textContentSource){const{items:m,styles:f}=this._textContentSource;this._processItems(m,f),o.resolve()}else throw new Error('No "textContentSource" parameter specified.');o.promise.then(()=>{M=null,b(this)},this._capability.reject)}}x.TextLayerRenderTask=h;function i(p){!p.textContentSource&&(p.textContent||p.textContentStream)&&((0,S.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),p.textContentSource=p.textContent||p.textContentStream);const{container:o,viewport:M}=p,m=getComputedStyle(o),f=m.getPropertyValue("visibility"),_=parseFloat(m.getPropertyValue("--scale-factor"));f==="visible"&&(!_||Math.abs(_-M.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const c=new h(p);return c._render(),c}function d({container:p,viewport:o,textDivs:M,textDivProperties:m,isOffscreenCanvasSupported:f,mustRotate:_=!0,mustRescale:c=!0}){if(_&&(0,S.setLayerDimensions)(p,{rotation:o.rotation}),c){const a=V(0,f),k={prevFontSize:null,prevFontFamily:null,div:null,scale:o.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:a};for(const t of M)k.properties=m.get(t),k.div=t,C(k)}}}),((e,x,n)=>{var A,N,C,b,h,i,d,p,o,M,m,Xr,cr,Kr,Yr;Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationEditorLayer=void 0;var y=n(1),S=n(4),r=n(28),j=n(33),Z=n(6),X=n(34);const g=class g{constructor({uiManager:t,pageIndex:s,div:w,accessibilityManager:B,annotationLayer:P,viewport:D,l10n:T}){Ee(this,m);Ee(this,A);Ee(this,N,!1);Ee(this,C,null);Ee(this,b,this.pointerup.bind(this));Ee(this,h,this.pointerdown.bind(this));Ee(this,i,new Map);Ee(this,d,!1);Ee(this,p,!1);Ee(this,o,!1);Ee(this,M);const H=[r.FreeTextEditor,j.InkEditor,X.StampEditor];if(!g._initialized){g._initialized=!0;for(const F of H)F.initialize(T)}t.registerEditorTypes(H),ye(this,M,t),this.pageIndex=s,this.div=w,ye(this,A,B),ye(this,C,P),this.viewport=D,u(this,M).addLayer(this)}get isEmpty(){return u(this,i).size===0}updateToolbar(t){u(this,M).updateToolbar(t)}updateMode(t=u(this,M).getMode()){ce(this,m,Yr).call(this),t===y.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),t!==y.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",t===y.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",t===y.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",t===y.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(t){if(!t&&u(this,M).getMode()!==y.AnnotationEditorType.INK)return;if(!t){for(const w of u(this,i).values())if(w.isEmpty()){w.setInBackground();return}}ce(this,m,cr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){u(this,M).setEditingState(t)}addCommands(t){u(this,M).addCommands(t)}enable(){this.div.style.pointerEvents="auto";const t=new Set;for(const w of u(this,i).values())w.enableEditing(),w.annotationElementId&&t.add(w.annotationElementId);if(!u(this,C))return;const s=u(this,C).getEditableAnnotations();for(const w of s){if(w.hide(),u(this,M).isDeletedAnnotationElement(w.data.id)||t.has(w.data.id))continue;const B=this.deserialize(w);B&&(this.addOrRebuild(B),B.enableEditing())}}disable(){var s;ye(this,o,!0),this.div.style.pointerEvents="none";const t=new Set;for(const w of u(this,i).values()){if(w.disableEditing(),!w.annotationElementId||w.serialize()!==null){t.add(w.annotationElementId);continue}(s=this.getEditableAnnotation(w.annotationElementId))==null||s.show(),w.remove()}if(u(this,C)){const w=u(this,C).getEditableAnnotations();for(const B of w){const{id:P}=B.data;t.has(P)||u(this,M).isDeletedAnnotationElement(P)||B.show()}}ce(this,m,Yr).call(this),this.isEmpty&&(this.div.hidden=!0),ye(this,o,!1)}getEditableAnnotation(t){var s;return((s=u(this,C))==null?void 0:s.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,M).getActive()!==t&&u(this,M).setActiveEditor(t)}enableClick(){this.div.addEventListener("pointerdown",u(this,h)),this.div.addEventListener("pointerup",u(this,b))}disableClick(){this.div.removeEventListener("pointerdown",u(this,h)),this.div.removeEventListener("pointerup",u(this,b))}attach(t){u(this,i).set(t.id,t);const{annotationElementId:s}=t;s&&u(this,M).isDeletedAnnotationElement(s)&&u(this,M).removeDeletedAnnotationElement(t)}detach(t){var s;u(this,i).delete(t.id),(s=u(this,A))==null||s.removePointerInTextLayer(t.contentDiv),!u(this,o)&&t.annotationElementId&&u(this,M).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,M).removeEditor(t),t.div.contains(document.activeElement)&&setTimeout(()=>{u(this,M).focusMainContainer()},0),t.div.remove(),t.isAttachedToDOM=!1,u(this,p)||this.addInkEditorIfNeeded(!1)}changeParent(t){var s;t.parent!==this&&(t.annotationElementId&&(u(this,M).addDeletedAnnotationElement(t.annotationElementId),S.AnnotationEditor.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(s=t.parent)==null||s.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(this.changeParent(t),u(this,M).addEditor(t),this.attach(t),!t.isAttachedToDOM){const s=t.render();this.div.append(s),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),u(this,M).addToAnnotationStorage(t)}moveEditorInDOM(t){var w;if(!t.isAttachedToDOM)return;const{activeElement:s}=document;t.div.contains(s)&&(t._focusEventsAllowed=!1,setTimeout(()=>{t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0}),s.focus())},0)),t._structTreeParentId=(w=u(this,A))==null?void 0:w.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?t.rebuild():this.add(t)}addUndoableEditor(t){const s=()=>t._uiManager.rebuild(t),w=()=>{t.remove()};this.addCommands({cmd:s,undo:w,mustExec:!1})}getNextId(){return u(this,M).getId()}pasteEditor(t,s){u(this,M).updateToolbar(t),u(this,M).updateMode(t);const{offsetX:w,offsetY:B}=ce(this,m,Kr).call(this),P=this.getNextId(),D=ce(this,m,Xr).call(this,{parent:this,id:P,x:w,y:B,uiManager:u(this,M),isCentered:!0,...s});D&&this.add(D)}deserialize(t){var s;switch((s=t.annotationType)!=null?s:t.annotationEditorType){case y.AnnotationEditorType.FREETEXT:return r.FreeTextEditor.deserialize(t,this,u(this,M));case y.AnnotationEditorType.INK:return j.InkEditor.deserialize(t,this,u(this,M));case y.AnnotationEditorType.STAMP:return X.StampEditor.deserialize(t,this,u(this,M))}return null}addNewEditor(){ce(this,m,cr).call(this,ce(this,m,Kr).call(this),!0)}setSelected(t){u(this,M).setSelected(t)}toggleSelected(t){u(this,M).toggleSelected(t)}isSelected(t){return u(this,M).isSelected(t)}unselect(t){u(this,M).unselect(t)}pointerup(t){const{isMac:s}=y.FeatureTest.platform;if(!(t.button!==0||t.ctrlKey&&s)&&t.target===this.div&&u(this,d)){if(ye(this,d,!1),!u(this,N)){ye(this,N,!0);return}if(u(this,M).getMode()===y.AnnotationEditorType.STAMP){u(this,M).unselectAll();return}ce(this,m,cr).call(this,t,!1)}}pointerdown(t){if(u(this,d)){ye(this,d,!1);return}const{isMac:s}=y.FeatureTest.platform;if(t.button!==0||t.ctrlKey&&s||t.target!==this.div)return;ye(this,d,!0);const w=u(this,M).getActive();ye(this,N,!w||w.isEmpty())}findNewParent(t,s,w){const B=u(this,M).findParent(s,w);return B===null||B===this?!1:(B.changeParent(t),!0)}destroy(){var t,s;((t=u(this,M).getActive())==null?void 0:t.parent)===this&&(u(this,M).commitOrRemove(),u(this,M).setActiveEditor(null));for(const w of u(this,i).values())(s=u(this,A))==null||s.removePointerInTextLayer(w.contentDiv),w.setParent(null),w.isAttachedToDOM=!1,w.div.remove();this.div=null,u(this,i).clear(),u(this,M).removeLayer(this)}render({viewport:t}){this.viewport=t,(0,Z.setLayerDimensions)(this.div,t);for(const s of u(this,M).getEditors(this.pageIndex))this.add(s);this.updateMode()}update({viewport:t}){u(this,M).commitOrRemove(),this.viewport=t,(0,Z.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:t,pageHeight:s}=this.viewport.rawDims;return[t,s]}};A=new WeakMap,N=new WeakMap,C=new WeakMap,b=new WeakMap,h=new WeakMap,i=new WeakMap,d=new WeakMap,p=new WeakMap,o=new WeakMap,M=new WeakMap,m=new WeakSet,Xr=function(t){switch(u(this,M).getMode()){case y.AnnotationEditorType.FREETEXT:return new r.FreeTextEditor(t);case y.AnnotationEditorType.INK:return new j.InkEditor(t);case y.AnnotationEditorType.STAMP:return new X.StampEditor(t)}return null},cr=function(t,s){const w=this.getNextId(),B=ce(this,m,Xr).call(this,{parent:this,id:w,x:t.offsetX,y:t.offsetY,uiManager:u(this,M),isCentered:s});return B&&this.add(B),B},Kr=function(){const{x:t,y:s,width:w,height:B}=this.div.getBoundingClientRect(),P=Math.max(0,t),D=Math.max(0,s),T=Math.min(window.innerWidth,t+w),H=Math.min(window.innerHeight,s+B),F=(P+T)/2-t,W=(D+H)/2-s,[J,R]=this.viewport.rotation%180===0?[F,W]:[W,F];return{offsetX:J,offsetY:R}},Yr=function(){ye(this,p,!0);for(const t of u(this,i).values())t.isEmpty()&&t.remove();ye(this,p,!1)},Gt(g,"_initialized",!1);let V=g;x.AnnotationEditorLayer=V}),((e,x,n)=>{var X,V,A,N,C,b,h,i,d,p,zi,Hi,qi,Gn,Zr,Vi,Jr;Object.defineProperty(x,"__esModule",{value:!0}),x.FreeTextEditor=void 0;var y=n(1),S=n(5),r=n(4),j=n(29);const g=class g extends r.AnnotationEditor{constructor(s){super({...s,name:"freeTextEditor"});Ee(this,p);Ee(this,X,this.editorDivBlur.bind(this));Ee(this,V,this.editorDivFocus.bind(this));Ee(this,A,this.editorDivInput.bind(this));Ee(this,N,this.editorDivKeydown.bind(this));Ee(this,C);Ee(this,b,"");Ee(this,h,"".concat(this.id,"-editor"));Ee(this,i);Ee(this,d,null);ye(this,C,s.color||g._defaultColor||r.AnnotationEditor._defaultLineColor),ye(this,i,s.fontSize||g._defaultFontSize)}static get _keyboardManager(){const s=g.prototype,w=D=>D.isEmpty(),B=S.AnnotationEditorUIManager.TRANSLATE_SMALL,P=S.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,y.shadow)(this,"_keyboardManager",new S.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],s.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],s._translateEmpty,{args:[-B,0],checker:w}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],s._translateEmpty,{args:[-P,0],checker:w}],[["ArrowRight","mac+ArrowRight"],s._translateEmpty,{args:[B,0],checker:w}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],s._translateEmpty,{args:[P,0],checker:w}],[["ArrowUp","mac+ArrowUp"],s._translateEmpty,{args:[0,-B],checker:w}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],s._translateEmpty,{args:[0,-P],checker:w}],[["ArrowDown","mac+ArrowDown"],s._translateEmpty,{args:[0,B],checker:w}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],s._translateEmpty,{args:[0,P],checker:w}]]))}static initialize(s){r.AnnotationEditor.initialize(s,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const w=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(w.getPropertyValue("--freetext-padding"))}static updateDefaultParams(s,w){switch(s){case y.AnnotationEditorParamsType.FREETEXT_SIZE:g._defaultFontSize=w;break;case y.AnnotationEditorParamsType.FREETEXT_COLOR:g._defaultColor=w;break}}updateParams(s,w){switch(s){case y.AnnotationEditorParamsType.FREETEXT_SIZE:ce(this,p,zi).call(this,w);break;case y.AnnotationEditorParamsType.FREETEXT_COLOR:ce(this,p,Hi).call(this,w);break}}static get defaultPropertiesToUpdate(){return[[y.AnnotationEditorParamsType.FREETEXT_SIZE,g._defaultFontSize],[y.AnnotationEditorParamsType.FREETEXT_COLOR,g._defaultColor||r.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[y.AnnotationEditorParamsType.FREETEXT_SIZE,u(this,i)],[y.AnnotationEditorParamsType.FREETEXT_COLOR,u(this,C)]]}_translateEmpty(s,w){this._uiManager.translateSelectedEditors(s,w,!0)}getInitialTranslation(){const s=this.parentScale;return[-g._internalPadding*s,-(g._internalPadding+u(this,i))*s]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(y.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",u(this,N)),this.editorDiv.addEventListener("focus",u(this,V)),this.editorDiv.addEventListener("blur",u(this,X)),this.editorDiv.addEventListener("input",u(this,A)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,h)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",u(this,N)),this.editorDiv.removeEventListener("focus",u(this,V)),this.editorDiv.removeEventListener("blur",u(this,X)),this.editorDiv.removeEventListener("input",u(this,A)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),s.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var s;if(this.width){ce(this,p,Jr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const s=u(this,b),w=ye(this,b,ce(this,p,qi).call(this).trimEnd());if(s===w)return;const B=P=>{if(ye(this,b,P),!P){this.remove();return}ce(this,p,Zr).call(this),this._uiManager.rebuild(this),ce(this,p,Gn).call(this)};this.addCommands({cmd:()=>{B(w)},undo:()=>{B(s)},mustExec:!1}),ce(this,p,Gn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(s){this.enterInEditMode()}keydown(s){s.target===this.div&&s.key==="Enter"&&(this.enterInEditMode(),s.preventDefault())}editorDivKeydown(s){g._keyboardManager.exec(this,s)}editorDivFocus(s){this.isEditing=!0}editorDivBlur(s){this.isEditing=!1}editorDivInput(s){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let s,w;this.width&&(s=this.x,w=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,h)),this.enableEditing(),r.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(P=>{var D;return(D=this.editorDiv)==null?void 0:D.setAttribute("aria-label",P)}),r.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(P=>{var D;return(D=this.editorDiv)==null?void 0:D.setAttribute("default-content",P)}),this.editorDiv.contentEditable=!0;const{style:B}=this.editorDiv;if(B.fontSize="calc(".concat(u(this,i),"px * var(--scale-factor))"),B.color=u(this,C),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,S.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[P,D]=this.parentDimensions;if(this.annotationElementId){const{position:T}=u(this,d);let[H,F]=this.getInitialTranslation();[H,F]=this.pageTranslationToScreen(H,F);const[W,J]=this.pageDimensions,[R,l]=this.pageTranslation;let v,L;switch(this.rotation){case 0:v=s+(T[0]-R)/W,L=w+this.height-(T[1]-l)/J;break;case 90:v=s+(T[0]-R)/W,L=w-(T[1]-l)/J,[H,F]=[F,-H];break;case 180:v=s-this.width+(T[0]-R)/W,L=w-(T[1]-l)/J,[H,F]=[-H,-F];break;case 270:v=s+(T[0]-R-this.height*J)/W,L=w+(T[1]-l-this.width*W)/J,[H,F]=[-F,H];break}this.setAt(v*P,L*D,H,F)}else this.setAt(s*P,w*D,this.width*P,this.height*D);ce(this,p,Zr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(s,w,B){let P=null;if(s instanceof j.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:T,fontColor:H},rect:F,rotation:W,id:J},textContent:R,textPosition:l,parent:{page:{pageNumber:v}}}=s;if(!R||R.length===0)return null;P=s={annotationType:y.AnnotationEditorType.FREETEXT,color:Array.from(H),fontSize:T,value:R.join("\n"),position:l,pageIndex:v-1,rect:F,rotation:W,id:J,deleted:!1}}const D=super.deserialize(s,w,B);return ye(D,i,s.fontSize),ye(D,C,y.Util.makeHexColor(...s.color)),ye(D,b,s.value),D.annotationElementId=s.id||null,ye(D,d,P),D}serialize(s=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const w=g._internalPadding*this.parentScale,B=this.getRect(w,w),P=r.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,C)),D={annotationType:y.AnnotationEditorType.FREETEXT,color:P,fontSize:u(this,i),value:u(this,b),pageIndex:this.pageIndex,rect:B,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return s?D:this.annotationElementId&&!ce(this,p,Vi).call(this,D)?null:(D.id=this.annotationElementId,D)}};X=new WeakMap,V=new WeakMap,A=new WeakMap,N=new WeakMap,C=new WeakMap,b=new WeakMap,h=new WeakMap,i=new WeakMap,d=new WeakMap,p=new WeakSet,zi=function(s){const w=P=>{this.editorDiv.style.fontSize="calc(".concat(P,"px * var(--scale-factor))"),this.translate(0,-(P-u(this,i))*this.parentScale),ye(this,i,P),ce(this,p,Gn).call(this)},B=u(this,i);this.addCommands({cmd:()=>{w(s)},undo:()=>{w(B)},mustExec:!0,type:y.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Hi=function(s){const w=u(this,C);this.addCommands({cmd:()=>{ye(this,C,this.editorDiv.style.color=s)},undo:()=>{ye(this,C,this.editorDiv.style.color=w)},mustExec:!0,type:y.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},qi=function(){const s=this.editorDiv.getElementsByTagName("div");if(s.length===0)return this.editorDiv.innerText;const w=[];for(const B of s)w.push(B.innerText.replace(/\r\n?|\n/,""));return w.join("\n")},Gn=function(){const[s,w]=this.parentDimensions;let B;if(this.isAttachedToDOM)B=this.div.getBoundingClientRect();else{const{currentLayer:P,div:D}=this,T=D.style.display;D.style.display="hidden",P.div.append(this.div),B=D.getBoundingClientRect(),D.remove(),D.style.display=T}this.rotation%180===this.parentRotation%180?(this.width=B.width/s,this.height=B.height/w):(this.width=B.height/s,this.height=B.width/w),this.fixAndSetPosition()},Zr=function(){if(this.editorDiv.replaceChildren(),!!u(this,b))for(const s of u(this,b).split("\n")){const w=document.createElement("div");w.append(s?document.createTextNode(s):document.createElement("br")),this.editorDiv.append(w)}},Vi=function(s){const{value:w,fontSize:B,color:P,rect:D,pageIndex:T}=u(this,d);return s.value!==w||s.fontSize!==B||s.rect.some((H,F)=>Math.abs(H-D[F])>=1)||s.color.some((H,F)=>H!==P[F])||s.pageIndex!==T},Jr=function(s=!1){if(!this.annotationElementId)return;if(ce(this,p,Gn).call(this),!s&&(this.width===0||this.height===0)){setTimeout(()=>ce(this,p,Jr).call(this,!0),0);return}const w=g._internalPadding*this.parentScale;u(this,d).rect=this.getRect(w,w)},Gt(g,"_freeTextDefaultContent",""),Gt(g,"_internalPadding",0),Gt(g,"_defaultColor",null),Gt(g,"_defaultFontSize",10),Gt(g,"_type","freetext");let Z=g;x.FreeTextEditor=Z}),((e,x,n)=>{var L,z,Mn,Wi,fe,Se,xe,Ae,Me,Te,de,he,I,q,re,ie,ue,Ce,Pe,se,Be,Ie,Ui,ur,Qr,$r,$e,at,yt,Le,pe,me,Ke,ei,st,Q,Re,He,Gi,ti;Object.defineProperty(x,"__esModule",{value:!0}),x.StampAnnotationElement=x.InkAnnotationElement=x.FreeTextAnnotationElement=x.AnnotationLayer=void 0;var y=n(1),S=n(6),r=n(3),j=n(30),Z=n(31),X=n(32);const V=1e3,A=9,N=new WeakSet;function C(Xe){return{width:Xe[2]-Xe[0],height:Xe[3]-Xe[1]}}class b{static create(Y){switch(Y.data.annotationType){case y.AnnotationType.LINK:return new i(Y);case y.AnnotationType.TEXT:return new d(Y);case y.AnnotationType.WIDGET:switch(Y.data.fieldType){case"Tx":return new o(Y);case"Btn":return Y.data.radioButton?new f(Y):Y.data.checkBox?new m(Y):new _(Y);case"Ch":return new c(Y);case"Sig":return new M(Y)}return new p(Y);case y.AnnotationType.POPUP:return new a(Y);case y.AnnotationType.FREETEXT:return new k(Y);case y.AnnotationType.LINE:return new t(Y);case y.AnnotationType.SQUARE:return new s(Y);case y.AnnotationType.CIRCLE:return new w(Y);case y.AnnotationType.POLYLINE:return new B(Y);case y.AnnotationType.CARET:return new D(Y);case y.AnnotationType.INK:return new T(Y);case y.AnnotationType.POLYGON:return new P(Y);case y.AnnotationType.HIGHLIGHT:return new H(Y);case y.AnnotationType.UNDERLINE:return new F(Y);case y.AnnotationType.SQUIGGLY:return new W(Y);case y.AnnotationType.STRIKEOUT:return new J(Y);case y.AnnotationType.STAMP:return new R(Y);case y.AnnotationType.FILEATTACHMENT:return new l(Y);default:return new h(Y)}}}const G=class G{constructor(Y,{isRenderable:K=!1,ignoreBorder:ae=!1,createQuadrilaterals:we=!1}={}){Ee(this,L,!1);this.isRenderable=K,this.data=Y.data,this.layer=Y.layer,this.linkService=Y.linkService,this.downloadManager=Y.downloadManager,this.imageResourcesPath=Y.imageResourcesPath,this.renderForms=Y.renderForms,this.svgFactory=Y.svgFactory,this.annotationStorage=Y.annotationStorage,this.enableScripting=Y.enableScripting,this.hasJSActions=Y.hasJSActions,this._fieldObjects=Y.fieldObjects,this.parent=Y.parent,K&&(this.container=this._createContainer(ae)),we&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Y,contentsObj:K,richText:ae}){return!!(Y!=null&&Y.str||K!=null&&K.str||ae!=null&&ae.str)}get hasPopupData(){return G._hasPopupData(this.data)}_createContainer(Y){const{data:K,parent:{page:ae,viewport:we}}=this,ke=document.createElement("section");ke.setAttribute("data-annotation-id",K.id),this instanceof p||(ke.tabIndex=V),ke.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ke.setAttribute("aria-haspopup","dialog"),K.noRotate&&ke.classList.add("norotate");const{pageWidth:Fe,pageHeight:Ne,pageX:et,pageY:Ze}=we.rawDims;if(!K.rect||this instanceof a){const{rotation:ft}=K;return!K.hasOwnCanvas&&ft!==0&&this.setRotation(ft,ke),ke}const{width:Ue,height:xt}=C(K.rect),nt=y.Util.normalizeRect([K.rect[0],ae.view[3]-K.rect[1]+ae.view[1],K.rect[2],ae.view[3]-K.rect[3]+ae.view[1]]);if(!Y&&K.borderStyle.width>0){ke.style.borderWidth="".concat(K.borderStyle.width,"px");const ft=K.borderStyle.horizontalCornerRadius,At=K.borderStyle.verticalCornerRadius;if(ft>0||At>0){const zt="calc(".concat(ft,"px * var(--scale-factor)) / calc(").concat(At,"px * var(--scale-factor))");ke.style.borderRadius=zt}else if(this instanceof f){const zt="calc(".concat(Ue,"px * var(--scale-factor)) / calc(").concat(xt,"px * var(--scale-factor))");ke.style.borderRadius=zt}switch(K.borderStyle.style){case y.AnnotationBorderStyleType.SOLID:ke.style.borderStyle="solid";break;case y.AnnotationBorderStyleType.DASHED:ke.style.borderStyle="dashed";break;case y.AnnotationBorderStyleType.BEVELED:(0,y.warn)("Unimplemented border style: beveled");break;case y.AnnotationBorderStyleType.INSET:(0,y.warn)("Unimplemented border style: inset");break;case y.AnnotationBorderStyleType.UNDERLINE:ke.style.borderBottomStyle="solid";break}const Tt=K.borderColor||null;Tt?(ye(this,L,!0),ke.style.borderColor=y.Util.makeHexColor(Tt[0]|0,Tt[1]|0,Tt[2]|0)):ke.style.borderWidth=0}ke.style.left="".concat(100*(nt[0]-et)/Fe,"%"),ke.style.top="".concat(100*(nt[1]-Ze)/Ne,"%");const{rotation:ot}=K;return K.hasOwnCanvas||ot===0?(ke.style.width="".concat(100*Ue/Fe,"%"),ke.style.height="".concat(100*xt/Ne,"%")):this.setRotation(ot,ke),ke}setRotation(Y,K=this.container){if(!this.data.rect)return;const{pageWidth:ae,pageHeight:we}=this.parent.viewport.rawDims,{width:ke,height:Fe}=C(this.data.rect);let Ne,et;Y%180===0?(Ne=100*ke/ae,et=100*Fe/we):(Ne=100*Fe/ae,et=100*ke/we),K.style.width="".concat(Ne,"%"),K.style.height="".concat(et,"%"),K.setAttribute("data-main-rotation",(360-Y)%360)}get _commonActions(){const Y=(K,ae,we)=>{const ke=we.detail[K],Fe=ke[0],Ne=ke.slice(1);we.target.style[ae]=j.ColorConverters["".concat(Fe,"_HTML")](Ne),this.annotationStorage.setValue(this.data.id,{[ae]:j.ColorConverters["".concat(Fe,"_rgb")](Ne)})};return(0,y.shadow)(this,"_commonActions",{display:K=>{const{display:ae}=K.detail,we=ae%2===1;this.container.style.visibility=we?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:we,noPrint:ae===1||ae===2})},print:K=>{this.annotationStorage.setValue(this.data.id,{noPrint:!K.detail.print})},hidden:K=>{const{hidden:ae}=K.detail;this.container.style.visibility=ae?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ae,noView:ae})},focus:K=>{setTimeout(()=>K.target.focus({preventScroll:!1}),0)},userName:K=>{K.target.title=K.detail.userName},readonly:K=>{K.target.disabled=K.detail.readonly},required:K=>{this._setRequired(K.target,K.detail.required)},bgColor:K=>{Y("bgColor","backgroundColor",K)},fillColor:K=>{Y("fillColor","backgroundColor",K)},fgColor:K=>{Y("fgColor","color",K)},textColor:K=>{Y("textColor","color",K)},borderColor:K=>{Y("borderColor","borderColor",K)},strokeColor:K=>{Y("strokeColor","borderColor",K)},rotation:K=>{const ae=K.detail.rotation;this.setRotation(ae),this.annotationStorage.setValue(this.data.id,{rotation:ae})}})}_dispatchEventFromSandbox(Y,K){const ae=this._commonActions;for(const we of Object.keys(K.detail)){const ke=Y[we]||ae[we];ke==null||ke(K)}}_setDefaultPropertiesFromJS(Y){if(!this.enableScripting)return;const K=this.annotationStorage.getRawValue(this.data.id);if(!K)return;const ae=this._commonActions;for(const[we,ke]of Object.entries(K)){const Fe=ae[we];if(Fe){const Ne={detail:{[we]:ke},target:Y};Fe(Ne),delete K[we]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Y}=this.data;if(!Y)return;const[K,ae,we,ke]=this.data.rect;if(Y.length===1){const[,{x:At,y:Tt},{x:zt,y:an}]=Y[0];if(we===At&&ke===Tt&&K===zt&&ae===an)return}const{style:Fe}=this.container;let Ne;if(u(this,L)){const{borderColor:At,borderWidth:Tt}=Fe;Fe.borderWidth=0,Ne=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(At,'" stroke-width="').concat(Tt,'">')],this.container.classList.add("hasBorder")}const et=we-K,Ze=ke-ae,{svgFactory:Ue}=this,xt=Ue.createElement("svg");xt.classList.add("quadrilateralsContainer"),xt.setAttribute("width",0),xt.setAttribute("height",0);const nt=Ue.createElement("defs");xt.append(nt);const ot=Ue.createElement("clipPath"),ft="clippath_".concat(this.data.id);ot.setAttribute("id",ft),ot.setAttribute("clipPathUnits","objectBoundingBox"),nt.append(ot);for(const[,{x:At,y:Tt},{x:zt,y:an}]of Y){const Jt=Ue.createElement("rect"),gn=(zt-K)/et,bn=(ke-Tt)/Ze,_n=(At-zt)/et,Yn=(Tt-an)/Ze;Jt.setAttribute("x",gn),Jt.setAttribute("y",bn),Jt.setAttribute("width",_n),Jt.setAttribute("height",Yn),ot.append(Jt),Ne==null||Ne.push('<rect vector-effect="non-scaling-stroke" x="'.concat(gn,'" y="').concat(bn,'" width="').concat(_n,'" height="').concat(Yn,'"/>'))}u(this,L)&&(Ne.push("</g></svg>')"),Fe.backgroundImage=Ne.join("")),this.container.append(xt),this.container.style.clipPath="url(#".concat(ft,")")}_createPopup(){const{container:Y,data:K}=this;Y.setAttribute("aria-haspopup","dialog");const ae=new a({data:{color:K.color,titleObj:K.titleObj,modificationDate:K.modificationDate,contentsObj:K.contentsObj,richText:K.richText,parentRect:K.rect,borderStyle:0,id:"popup_".concat(K.id),rotation:K.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ae.render())}render(){(0,y.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Y,K=null){const ae=[];if(this._fieldObjects){const we=this._fieldObjects[Y];if(we)for(const{page:ke,id:Fe,exportValues:Ne}of we){if(ke===-1||Fe===K)continue;const et=typeof Ne=="string"?Ne:null,Ze=document.querySelector('[data-element-id="'.concat(Fe,'"]'));if(Ze&&!N.has(Ze)){(0,y.warn)("_getElementsByName - element not allowed: ".concat(Fe));continue}ae.push({id:Fe,exportValue:et,domElement:Ze})}return ae}for(const we of document.getElementsByName(Y)){const{exportValue:ke}=we,Fe=we.getAttribute("data-element-id");Fe!==K&&N.has(we)&&ae.push({id:Fe,exportValue:ke,domElement:we})}return ae}show(){var Y;this.container&&(this.container.hidden=!1),(Y=this.popup)==null||Y.maybeShow()}hide(){var Y;this.container&&(this.container.hidden=!0),(Y=this.popup)==null||Y.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Y=this.getElementsToTriggerPopup();if(Array.isArray(Y))for(const K of Y)K.classList.add("highlightArea");else Y.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Y,data:{id:K}}=this;this.container.addEventListener("dblclick",()=>{var ae;(ae=this.linkService.eventBus)==null||ae.dispatch("switchannotationeditormode",{source:this,mode:Y,editId:K})})}};L=new WeakMap;let h=G;class i extends h{constructor(K,ae=null){super(K,{isRenderable:!0,ignoreBorder:!!(ae!=null&&ae.ignoreBorder),createQuadrilaterals:!0});Ee(this,z);this.isTooltipOnly=K.data.isTooltipOnly}render(){const{data:K,linkService:ae}=this,we=document.createElement("a");we.setAttribute("data-element-id",K.id);let ke=!1;return K.url?(ae.addLinkAttributes(we,K.url,K.newWindow),ke=!0):K.action?(this._bindNamedAction(we,K.action),ke=!0):K.attachment?(this._bindAttachment(we,K.attachment),ke=!0):K.setOCGState?(ce(this,z,Wi).call(this,we,K.setOCGState),ke=!0):K.dest?(this._bindLink(we,K.dest),ke=!0):(K.actions&&(K.actions.Action||K.actions["Mouse Up"]||K.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(we,K),ke=!0),K.resetForm?(this._bindResetFormAction(we,K.resetForm),ke=!0):this.isTooltipOnly&&!ke&&(this._bindLink(we,""),ke=!0)),this.container.classList.add("linkAnnotation"),ke&&this.container.append(we),this.container}_bindLink(K,ae){K.href=this.linkService.getDestinationHash(ae),K.onclick=()=>(ae&&this.linkService.goToDestination(ae),!1),(ae||ae==="")&&ce(this,z,Mn).call(this)}_bindNamedAction(K,ae){K.href=this.linkService.getAnchorUrl(""),K.onclick=()=>(this.linkService.executeNamedAction(ae),!1),ce(this,z,Mn).call(this)}_bindAttachment(K,ae){K.href=this.linkService.getAnchorUrl(""),K.onclick=()=>{var we;return(we=this.downloadManager)==null||we.openOrDownloadData(this.container,ae.content,ae.filename),!1},ce(this,z,Mn).call(this)}_bindJSAction(K,ae){K.href=this.linkService.getAnchorUrl("");const we=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ke of Object.keys(ae.actions)){const Fe=we.get(ke);Fe&&(K[Fe]=()=>{var Ne;return(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae.id,name:ke}}),!1})}K.onclick||(K.onclick=()=>!1),ce(this,z,Mn).call(this)}_bindResetFormAction(K,ae){const we=K.onclick;if(we||(K.href=this.linkService.getAnchorUrl("")),ce(this,z,Mn).call(this),!this._fieldObjects){(0,y.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),we||(K.onclick=()=>!1);return}K.onclick=()=>{var xt;we==null||we();const{fields:ke,refs:Fe,include:Ne}=ae,et=[];if(ke.length!==0||Fe.length!==0){const nt=new Set(Fe);for(const ot of ke){const ft=this._fieldObjects[ot]||[];for(const{id:At}of ft)nt.add(At)}for(const ot of Object.values(this._fieldObjects))for(const ft of ot)nt.has(ft.id)===Ne&&et.push(ft)}else for(const nt of Object.values(this._fieldObjects))et.push(...nt);const Ze=this.annotationStorage,Ue=[];for(const nt of et){const{id:ot}=nt;switch(Ue.push(ot),nt.type){case"text":{const At=nt.defaultValue||"";Ze.setValue(ot,{value:At});break}case"checkbox":case"radiobutton":{const At=nt.defaultValue===nt.exportValues;Ze.setValue(ot,{value:At});break}case"combobox":case"listbox":{const At=nt.defaultValue||"";Ze.setValue(ot,{value:At});break}default:continue}const ft=document.querySelector('[data-element-id="'.concat(ot,'"]'));if(ft){if(!N.has(ft)){(0,y.warn)("_bindResetFormAction - element not allowed: ".concat(ot));continue}}else continue;ft.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ue,name:"ResetForm"}})),!1}}}z=new WeakSet,Mn=function(){this.container.setAttribute("data-internal-link","")},Wi=function(K,ae){K.href=this.linkService.getAnchorUrl(""),K.onclick=()=>(this.linkService.executeSetOCGState(ae),!1),ce(this,z,Mn).call(this)};class d extends h{constructor(Y){super(Y,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Y=document.createElement("img");return Y.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Y.alt="[{{type}} Annotation]",Y.dataset.l10nId="text_annotation_type",Y.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Y),this.container}}class p extends h{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Y){var K;this.data.hasOwnCanvas&&(((K=Y.previousSibling)==null?void 0:K.nodeName)==="CANVAS"&&(Y.previousSibling.hidden=!0),Y.hidden=!1)}_getKeyModifier(Y){const{isWin:K,isMac:ae}=y.FeatureTest.platform;return K&&Y.ctrlKey||ae&&Y.metaKey}_setEventListener(Y,K,ae,we,ke){ae.includes("mouse")?Y.addEventListener(ae,Fe=>{var Ne;(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:we,value:ke(Fe),shift:Fe.shiftKey,modifier:this._getKeyModifier(Fe)}})}):Y.addEventListener(ae,Fe=>{var Ne;if(ae==="blur"){if(!K.focused||!Fe.relatedTarget)return;K.focused=!1}else if(ae==="focus"){if(K.focused)return;K.focused=!0}ke&&((Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:we,value:ke(Fe)}}))})}_setEventListeners(Y,K,ae,we){var ke,Fe,Ne;for(const[et,Ze]of ae)(Ze==="Action"||(ke=this.data.actions)!=null&&ke[Ze])&&((Ze==="Focus"||Ze==="Blur")&&(K||(K={focused:!1})),this._setEventListener(Y,K,et,Ze,we),Ze==="Focus"&&!((Fe=this.data.actions)!=null&&Fe.Blur)?this._setEventListener(Y,K,"blur","Blur",null):Ze==="Blur"&&!((Ne=this.data.actions)!=null&&Ne.Focus)&&this._setEventListener(Y,K,"focus","Focus",null))}_setBackgroundColor(Y){const K=this.data.backgroundColor||null;Y.style.backgroundColor=K===null?"transparent":y.Util.makeHexColor(K[0],K[1],K[2])}_setTextStyle(Y){const K=["left","center","right"],{fontColor:ae}=this.data.defaultAppearanceData,we=this.data.defaultAppearanceData.fontSize||A,ke=Y.style;let Fe;const Ne=2,et=Ze=>Math.round(10*Ze)/10;if(this.data.multiLine){const Ze=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne),Ue=Math.round(Ze/(y.LINE_FACTOR*we))||1,xt=Ze/Ue;Fe=Math.min(we,et(xt/y.LINE_FACTOR))}else{const Ze=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne);Fe=Math.min(we,et(Ze/y.LINE_FACTOR))}ke.fontSize="calc(".concat(Fe,"px * var(--scale-factor))"),ke.color=y.Util.makeHexColor(ae[0],ae[1],ae[2]),this.data.textAlignment!==null&&(ke.textAlign=K[this.data.textAlignment])}_setRequired(Y,K){K?Y.setAttribute("required",!0):Y.removeAttribute("required"),Y.setAttribute("aria-required",K)}}class o extends p{constructor(Y){const K=Y.renderForms||!Y.data.hasAppearance&&!!Y.data.fieldValue;super(Y,{isRenderable:K})}setPropertyOnSiblings(Y,K,ae,we){const ke=this.annotationStorage;for(const Fe of this._getElementsByName(Y.name,Y.id))Fe.domElement&&(Fe.domElement[K]=ae),ke.setValue(Fe.id,{[we]:ae})}render(){var we,ke;const Y=this.annotationStorage,K=this.data.id;this.container.classList.add("textWidgetAnnotation");let ae=null;if(this.renderForms){const Fe=Y.getValue(K,{value:this.data.fieldValue});let Ne=Fe.value||"";const et=Y.getValue(K,{charLimit:this.data.maxLen}).charLimit;et&&Ne.length>et&&(Ne=Ne.slice(0,et));let Ze=Fe.formattedValue||((we=this.data.textContent)==null?void 0:we.join("\n"))||null;Ze&&this.data.comb&&(Ze=Ze.replaceAll(/\s+/g,""));const Ue={userValue:Ne,formattedValue:Ze,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ae=document.createElement("textarea"),ae.textContent=Ze!=null?Ze:Ne,this.data.doNotScroll&&(ae.style.overflowY="hidden")):(ae=document.createElement("input"),ae.type="text",ae.setAttribute("value",Ze!=null?Ze:Ne),this.data.doNotScroll&&(ae.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ae.hidden=!0),N.add(ae),ae.setAttribute("data-element-id",K),ae.disabled=this.data.readOnly,ae.name=this.data.fieldName,ae.tabIndex=V,this._setRequired(ae,this.data.required),et&&(ae.maxLength=et),ae.addEventListener("input",nt=>{Y.setValue(K,{value:nt.target.value}),this.setPropertyOnSiblings(ae,"value",nt.target.value,"value"),Ue.formattedValue=null}),ae.addEventListener("resetform",nt=>{var ft;const ot=(ft=this.data.defaultFieldValue)!=null?ft:"";ae.value=Ue.userValue=ot,Ue.formattedValue=null});let xt=nt=>{const{formattedValue:ot}=Ue;ot!=null&&(nt.target.value=ot),nt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ae.addEventListener("focus",ot=>{if(Ue.focused)return;const{target:ft}=ot;Ue.userValue&&(ft.value=Ue.userValue),Ue.lastCommittedValue=ft.value,Ue.commitKey=1,Ue.focused=!0}),ae.addEventListener("updatefromsandbox",ot=>{this.showElementAndHideCanvas(ot.target);const ft={value(At){var Tt;Ue.userValue=(Tt=At.detail.value)!=null?Tt:"",Y.setValue(K,{value:Ue.userValue.toString()}),At.target.value=Ue.userValue},formattedValue(At){const{formattedValue:Tt}=At.detail;Ue.formattedValue=Tt,Tt!=null&&At.target!==document.activeElement&&(At.target.value=Tt),Y.setValue(K,{formattedValue:Tt})},selRange(At){At.target.setSelectionRange(...At.detail.selRange)},charLimit:At=>{var Jt;const{charLimit:Tt}=At.detail,{target:zt}=At;if(Tt===0){zt.removeAttribute("maxLength");return}zt.setAttribute("maxLength",Tt);let an=Ue.userValue;!an||an.length<=Tt||(an=an.slice(0,Tt),zt.value=Ue.userValue=an,Y.setValue(K,{value:an}),(Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:an,willCommit:!0,commitKey:1,selStart:zt.selectionStart,selEnd:zt.selectionEnd}}))}};this._dispatchEventFromSandbox(ft,ot)}),ae.addEventListener("keydown",ot=>{var Tt;Ue.commitKey=1;let ft=-1;if(ot.key==="Escape"?ft=0:ot.key==="Enter"&&!this.data.multiLine?ft=2:ot.key==="Tab"&&(Ue.commitKey=3),ft===-1)return;const{value:At}=ot.target;Ue.lastCommittedValue!==At&&(Ue.lastCommittedValue=At,Ue.userValue=At,(Tt=this.linkService.eventBus)==null||Tt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:At,willCommit:!0,commitKey:ft,selStart:ot.target.selectionStart,selEnd:ot.target.selectionEnd}}))});const nt=xt;xt=null,ae.addEventListener("blur",ot=>{var At;if(!Ue.focused||!ot.relatedTarget)return;Ue.focused=!1;const{value:ft}=ot.target;Ue.userValue=ft,Ue.lastCommittedValue!==ft&&((At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:ft,willCommit:!0,commitKey:Ue.commitKey,selStart:ot.target.selectionStart,selEnd:ot.target.selectionEnd}})),nt(ot)}),(ke=this.data.actions)!=null&&ke.Keystroke&&ae.addEventListener("beforeinput",ot=>{var bn;Ue.lastCommittedValue=null;const{data:ft,target:At}=ot,{value:Tt,selectionStart:zt,selectionEnd:an}=At;let Jt=zt,gn=an;switch(ot.inputType){case"deleteWordBackward":{const _n=Tt.substring(0,zt).match(/\w*[^\w]*$/);_n&&(Jt-=_n[0].length);break}case"deleteWordForward":{const _n=Tt.substring(zt).match(/^[^\w]*\w*/);_n&&(gn+=_n[0].length);break}case"deleteContentBackward":zt===an&&(Jt-=1);break;case"deleteContentForward":zt===an&&(gn+=1);break}ot.preventDefault(),(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Tt,change:ft||"",willCommit:!1,selStart:Jt,selEnd:gn}})}),this._setEventListeners(ae,Ue,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ot=>ot.target.value)}if(xt&&ae.addEventListener("blur",xt),this.data.comb){const ot=(this.data.rect[2]-this.data.rect[0])/et;ae.classList.add("comb"),ae.style.letterSpacing="calc(".concat(ot,"px * var(--scale-factor) - 1ch)")}}else ae=document.createElement("div"),ae.textContent=this.data.fieldValue,ae.style.verticalAlign="middle",ae.style.display="table-cell";return this._setTextStyle(ae),this._setBackgroundColor(ae),this._setDefaultPropertiesFromJS(ae),this.container.append(ae),this.container}}class M extends p{constructor(Y){super(Y,{isRenderable:!!Y.data.hasOwnCanvas})}}class m extends p{constructor(Y){super(Y,{isRenderable:Y.renderForms})}render(){const Y=this.annotationStorage,K=this.data,ae=K.id;let we=Y.getValue(ae,{value:K.exportValue===K.fieldValue}).value;typeof we=="string"&&(we=we!=="Off",Y.setValue(ae,{value:we})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ke=document.createElement("input");return N.add(ke),ke.setAttribute("data-element-id",ae),ke.disabled=K.readOnly,this._setRequired(ke,this.data.required),ke.type="checkbox",ke.name=K.fieldName,we&&ke.setAttribute("checked",!0),ke.setAttribute("exportValue",K.exportValue),ke.tabIndex=V,ke.addEventListener("change",Fe=>{const{name:Ne,checked:et}=Fe.target;for(const Ze of this._getElementsByName(Ne,ae)){const Ue=et&&Ze.exportValue===K.exportValue;Ze.domElement&&(Ze.domElement.checked=Ue),Y.setValue(Ze.id,{value:Ue})}Y.setValue(ae,{value:et})}),ke.addEventListener("resetform",Fe=>{const Ne=K.defaultFieldValue||"Off";Fe.target.checked=Ne===K.exportValue}),this.enableScripting&&this.hasJSActions&&(ke.addEventListener("updatefromsandbox",Fe=>{const Ne={value(et){et.target.checked=et.detail.value!=="Off",Y.setValue(ae,{value:et.target.checked})}};this._dispatchEventFromSandbox(Ne,Fe)}),this._setEventListeners(ke,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Fe=>Fe.target.checked)),this._setBackgroundColor(ke),this._setDefaultPropertiesFromJS(ke),this.container.append(ke),this.container}}class f extends p{constructor(Y){super(Y,{isRenderable:Y.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Y=this.annotationStorage,K=this.data,ae=K.id;let we=Y.getValue(ae,{value:K.fieldValue===K.buttonValue}).value;typeof we=="string"&&(we=we!==K.buttonValue,Y.setValue(ae,{value:we}));const ke=document.createElement("input");if(N.add(ke),ke.setAttribute("data-element-id",ae),ke.disabled=K.readOnly,this._setRequired(ke,this.data.required),ke.type="radio",ke.name=K.fieldName,we&&ke.setAttribute("checked",!0),ke.tabIndex=V,ke.addEventListener("change",Fe=>{const{name:Ne,checked:et}=Fe.target;for(const Ze of this._getElementsByName(Ne,ae))Y.setValue(Ze.id,{value:!1});Y.setValue(ae,{value:et})}),ke.addEventListener("resetform",Fe=>{const Ne=K.defaultFieldValue;Fe.target.checked=Ne!=null&&Ne===K.buttonValue}),this.enableScripting&&this.hasJSActions){const Fe=K.buttonValue;ke.addEventListener("updatefromsandbox",Ne=>{const et={value:Ze=>{const Ue=Fe===Ze.detail.value;for(const xt of this._getElementsByName(Ze.target.name)){const nt=Ue&&xt.id===ae;xt.domElement&&(xt.domElement.checked=nt),Y.setValue(xt.id,{value:nt})}}};this._dispatchEventFromSandbox(et,Ne)}),this._setEventListeners(ke,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ne=>Ne.target.checked)}return this._setBackgroundColor(ke),this._setDefaultPropertiesFromJS(ke),this.container.append(ke),this.container}}class _ extends i{constructor(Y){super(Y,{ignoreBorder:Y.data.hasAppearance})}render(){const Y=super.render();Y.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Y.title=this.data.alternativeText);const K=Y.lastChild;return this.enableScripting&&this.hasJSActions&&K&&(this._setDefaultPropertiesFromJS(K),K.addEventListener("updatefromsandbox",ae=>{this._dispatchEventFromSandbox({},ae)})),Y}}class c extends p{constructor(Y){super(Y,{isRenderable:Y.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Y=this.annotationStorage,K=this.data.id,ae=Y.getValue(K,{value:this.data.fieldValue}),we=document.createElement("select");N.add(we),we.setAttribute("data-element-id",K),we.disabled=this.data.readOnly,this._setRequired(we,this.data.required),we.name=this.data.fieldName,we.tabIndex=V;let ke=this.data.combo&&this.data.options.length>0;this.data.combo||(we.size=this.data.options.length,this.data.multiSelect&&(we.multiple=!0)),we.addEventListener("resetform",Ue=>{const xt=this.data.defaultFieldValue;for(const nt of we.options)nt.selected=nt.value===xt});for(const Ue of this.data.options){const xt=document.createElement("option");xt.textContent=Ue.displayValue,xt.value=Ue.exportValue,ae.value.includes(Ue.exportValue)&&(xt.setAttribute("selected",!0),ke=!1),we.append(xt)}let Fe=null;if(ke){const Ue=document.createElement("option");Ue.value=" ",Ue.setAttribute("hidden",!0),Ue.setAttribute("selected",!0),we.prepend(Ue),Fe=()=>{Ue.remove(),we.removeEventListener("input",Fe),Fe=null},we.addEventListener("input",Fe)}const Ne=Ue=>{const xt=Ue?"value":"textContent",{options:nt,multiple:ot}=we;return ot?Array.prototype.filter.call(nt,ft=>ft.selected).map(ft=>ft[xt]):nt.selectedIndex===-1?null:nt[nt.selectedIndex][xt]};let et=Ne(!1);const Ze=Ue=>{const xt=Ue.target.options;return Array.prototype.map.call(xt,nt=>({displayValue:nt.textContent,exportValue:nt.value}))};return this.enableScripting&&this.hasJSActions?(we.addEventListener("updatefromsandbox",Ue=>{const xt={value(nt){Fe==null||Fe();const ot=nt.detail.value,ft=new Set(Array.isArray(ot)?ot:[ot]);for(const At of we.options)At.selected=ft.has(At.value);Y.setValue(K,{value:Ne(!0)}),et=Ne(!1)},multipleSelection(nt){we.multiple=!0},remove(nt){const ot=we.options,ft=nt.detail.remove;ot[ft].selected=!1,we.remove(ft),ot.length>0&&Array.prototype.findIndex.call(ot,Tt=>Tt.selected)===-1&&(ot[0].selected=!0),Y.setValue(K,{value:Ne(!0),items:Ze(nt)}),et=Ne(!1)},clear(nt){for(;we.length!==0;)we.remove(0);Y.setValue(K,{value:null,items:[]}),et=Ne(!1)},insert(nt){const{index:ot,displayValue:ft,exportValue:At}=nt.detail.insert,Tt=we.children[ot],zt=document.createElement("option");zt.textContent=ft,zt.value=At,Tt?Tt.before(zt):we.append(zt),Y.setValue(K,{value:Ne(!0),items:Ze(nt)}),et=Ne(!1)},items(nt){const{items:ot}=nt.detail;for(;we.length!==0;)we.remove(0);for(const ft of ot){const{displayValue:At,exportValue:Tt}=ft,zt=document.createElement("option");zt.textContent=At,zt.value=Tt,we.append(zt)}we.options.length>0&&(we.options[0].selected=!0),Y.setValue(K,{value:Ne(!0),items:Ze(nt)}),et=Ne(!1)},indices(nt){const ot=new Set(nt.detail.indices);for(const ft of nt.target.options)ft.selected=ot.has(ft.index);Y.setValue(K,{value:Ne(!0)}),et=Ne(!1)},editable(nt){nt.target.disabled=!nt.detail.editable}};this._dispatchEventFromSandbox(xt,Ue)}),we.addEventListener("input",Ue=>{var nt;const xt=Ne(!0);Y.setValue(K,{value:xt}),Ue.preventDefault(),(nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:et,changeEx:xt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(we,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ue=>Ue.target.value)):we.addEventListener("input",function(Ue){Y.setValue(K,{value:Ne(!0)})}),this.data.combo&&this._setTextStyle(we),this._setBackgroundColor(we),this._setDefaultPropertiesFromJS(we),this.container.append(we),this.container}}class a extends h{constructor(Y){const{data:K,elements:ae}=Y;super(Y,{isRenderable:h._hasPopupData(K)}),this.elements=ae}render(){this.container.classList.add("popupAnnotation");const Y=new g({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),K=[];for(const ae of this.elements)ae.popup=Y,K.push(ae.data.id),ae.addHighlightArea();return this.container.setAttribute("aria-controls",K.map(ae=>"".concat(y.AnnotationPrefix).concat(ae)).join(",")),this.container}}class g{constructor({container:Y,color:K,elements:ae,titleObj:we,modificationDate:ke,contentsObj:Fe,richText:Ne,parent:et,rect:Ze,parentRect:Ue,open:xt}){Ee(this,Ie);Ee(this,fe,null);Ee(this,Se,ce(this,Ie,Ui).bind(this));Ee(this,xe,ce(this,Ie,$r).bind(this));Ee(this,Ae,ce(this,Ie,Qr).bind(this));Ee(this,Me,ce(this,Ie,ur).bind(this));Ee(this,Te,null);Ee(this,de,null);Ee(this,he,null);Ee(this,I,null);Ee(this,q,null);Ee(this,re,null);Ee(this,ie,!1);Ee(this,ue,null);Ee(this,Ce,null);Ee(this,Pe,null);Ee(this,se,null);Ee(this,Be,!1);var ot;ye(this,de,Y),ye(this,se,we),ye(this,he,Fe),ye(this,Pe,Ne),ye(this,q,et),ye(this,Te,K),ye(this,Ce,Ze),ye(this,re,Ue),ye(this,I,ae);const nt=S.PDFDateString.toDateObject(ke);nt&&ye(this,fe,et.l10n.get("annotation_date_string",{date:nt.toLocaleDateString(),time:nt.toLocaleTimeString()})),this.trigger=ae.flatMap(ft=>ft.getElementsToTriggerPopup());for(const ft of this.trigger)ft.addEventListener("click",u(this,Me)),ft.addEventListener("mouseenter",u(this,Ae)),ft.addEventListener("mouseleave",u(this,xe)),ft.classList.add("popupTriggerArea");for(const ft of ae)(ot=ft.container)==null||ot.addEventListener("keydown",u(this,Se));u(this,de).hidden=!0,xt&&ce(this,Ie,ur).call(this)}render(){if(u(this,ue))return;const{page:{view:Y},viewport:{rawDims:{pageWidth:K,pageHeight:ae,pageX:we,pageY:ke}}}=u(this,q),Fe=ye(this,ue,document.createElement("div"));if(Fe.className="popup",u(this,Te)){const Jt=Fe.style.outlineColor=y.Util.makeHexColor(...u(this,Te));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Fe.style.backgroundColor="color-mix(in srgb, ".concat(Jt," 30%, white)"):Fe.style.backgroundColor=y.Util.makeHexColor(...u(this,Te).map(bn=>Math.floor(.7*(255-bn)+bn)))}const Ne=document.createElement("span");Ne.className="header";const et=document.createElement("h1");if(Ne.append(et),{dir:et.dir,str:et.textContent}=u(this,se),Fe.append(Ne),u(this,fe)){const Jt=document.createElement("span");Jt.classList.add("popupDate"),u(this,fe).then(gn=>{Jt.textContent=gn}),Ne.append(Jt)}const Ze=u(this,he),Ue=u(this,Pe);if(Ue!=null&&Ue.str&&(!(Ze!=null&&Ze.str)||Ze.str===Ue.str))X.XfaLayer.render({xfaHtml:Ue.html,intent:"richText",div:Fe}),Fe.lastChild.classList.add("richText","popupContent");else{const Jt=this._formatContents(Ze);Fe.append(Jt)}let xt=!!u(this,re),nt=xt?u(this,re):u(this,Ce);for(const Jt of u(this,I))if(!nt||y.Util.intersect(Jt.data.rect,nt)!==null){nt=Jt.data.rect,xt=!0;break}const ot=y.Util.normalizeRect([nt[0],Y[3]-nt[1]+Y[1],nt[2],Y[3]-nt[3]+Y[1]]),At=xt?nt[2]-nt[0]+5:0,Tt=ot[0]+At,zt=ot[1],{style:an}=u(this,de);an.left="".concat(100*(Tt-we)/K,"%"),an.top="".concat(100*(zt-ke)/ae,"%"),u(this,de).append(Fe)}_formatContents({str:Y,dir:K}){const ae=document.createElement("p");ae.classList.add("popupContent"),ae.dir=K;const we=Y.split(/(?:\r\n?|\n)/);for(let ke=0,Fe=we.length;ke<Fe;++ke){const Ne=we[ke];ae.append(document.createTextNode(Ne)),ke<Fe-1&&ae.append(document.createElement("br"))}return ae}forceHide(){ye(this,Be,this.isVisible),u(this,Be)&&(u(this,de).hidden=!0)}maybeShow(){u(this,Be)&&(ye(this,Be,!1),u(this,de).hidden=!1)}get isVisible(){return u(this,de).hidden===!1}}fe=new WeakMap,Se=new WeakMap,xe=new WeakMap,Ae=new WeakMap,Me=new WeakMap,Te=new WeakMap,de=new WeakMap,he=new WeakMap,I=new WeakMap,q=new WeakMap,re=new WeakMap,ie=new WeakMap,ue=new WeakMap,Ce=new WeakMap,Pe=new WeakMap,se=new WeakMap,Be=new WeakMap,Ie=new WeakSet,Ui=function(Y){Y.altKey||Y.shiftKey||Y.ctrlKey||Y.metaKey||(Y.key==="Enter"||Y.key==="Escape"&&u(this,ie))&&ce(this,Ie,ur).call(this)},ur=function(){ye(this,ie,!u(this,ie)),u(this,ie)?(ce(this,Ie,Qr).call(this),u(this,de).addEventListener("click",u(this,Me)),u(this,de).addEventListener("keydown",u(this,Se))):(ce(this,Ie,$r).call(this),u(this,de).removeEventListener("click",u(this,Me)),u(this,de).removeEventListener("keydown",u(this,Se)))},Qr=function(){u(this,ue)||this.render(),this.isVisible?u(this,ie)&&u(this,de).classList.add("focused"):(u(this,de).hidden=!1,u(this,de).style.zIndex=parseInt(u(this,de).style.zIndex)+1e3)},$r=function(){u(this,de).classList.remove("focused"),!(u(this,ie)||!this.isVisible)&&(u(this,de).hidden=!0,u(this,de).style.zIndex=parseInt(u(this,de).style.zIndex)-1e3)};class k extends h{constructor(Y){super(Y,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Y.data.textContent,this.textPosition=Y.data.textPosition,this.annotationEditorType=y.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Y=document.createElement("div");Y.classList.add("annotationTextContent"),Y.setAttribute("role","comment");for(const K of this.textContent){const ae=document.createElement("span");ae.textContent=K,Y.append(ae)}this.container.append(Y)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}x.FreeTextAnnotationElement=k;class t extends h{constructor(K){super(K,{isRenderable:!0,ignoreBorder:!0});Ee(this,$e,null)}render(){this.container.classList.add("lineAnnotation");const K=this.data,{width:ae,height:we}=C(K.rect),ke=this.svgFactory.create(ae,we,!0),Fe=ye(this,$e,this.svgFactory.createElement("svg:line"));return Fe.setAttribute("x1",K.rect[2]-K.lineCoordinates[0]),Fe.setAttribute("y1",K.rect[3]-K.lineCoordinates[1]),Fe.setAttribute("x2",K.rect[2]-K.lineCoordinates[2]),Fe.setAttribute("y2",K.rect[3]-K.lineCoordinates[3]),Fe.setAttribute("stroke-width",K.borderStyle.width||1),Fe.setAttribute("stroke","transparent"),Fe.setAttribute("fill","transparent"),ke.append(Fe),this.container.append(ke),!K.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,$e)}addHighlightArea(){this.container.classList.add("highlightArea")}}$e=new WeakMap;class s extends h{constructor(K){super(K,{isRenderable:!0,ignoreBorder:!0});Ee(this,at,null)}render(){this.container.classList.add("squareAnnotation");const K=this.data,{width:ae,height:we}=C(K.rect),ke=this.svgFactory.create(ae,we,!0),Fe=K.borderStyle.width,Ne=ye(this,at,this.svgFactory.createElement("svg:rect"));return Ne.setAttribute("x",Fe/2),Ne.setAttribute("y",Fe/2),Ne.setAttribute("width",ae-Fe),Ne.setAttribute("height",we-Fe),Ne.setAttribute("stroke-width",Fe||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),ke.append(Ne),this.container.append(ke),!K.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,at)}addHighlightArea(){this.container.classList.add("highlightArea")}}at=new WeakMap;class w extends h{constructor(K){super(K,{isRenderable:!0,ignoreBorder:!0});Ee(this,yt,null)}render(){this.container.classList.add("circleAnnotation");const K=this.data,{width:ae,height:we}=C(K.rect),ke=this.svgFactory.create(ae,we,!0),Fe=K.borderStyle.width,Ne=ye(this,yt,this.svgFactory.createElement("svg:ellipse"));return Ne.setAttribute("cx",ae/2),Ne.setAttribute("cy",we/2),Ne.setAttribute("rx",ae/2-Fe/2),Ne.setAttribute("ry",we/2-Fe/2),Ne.setAttribute("stroke-width",Fe||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),ke.append(Ne),this.container.append(ke),!K.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}yt=new WeakMap;class B extends h{constructor(K){super(K,{isRenderable:!0,ignoreBorder:!0});Ee(this,Le,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const K=this.data,{width:ae,height:we}=C(K.rect),ke=this.svgFactory.create(ae,we,!0);let Fe=[];for(const et of K.vertices){const Ze=et.x-K.rect[0],Ue=K.rect[3]-et.y;Fe.push(Ze+","+Ue)}Fe=Fe.join(" ");const Ne=ye(this,Le,this.svgFactory.createElement(this.svgElementName));return Ne.setAttribute("points",Fe),Ne.setAttribute("stroke-width",K.borderStyle.width||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),ke.append(Ne),this.container.append(ke),!K.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Le)}addHighlightArea(){this.container.classList.add("highlightArea")}}Le=new WeakMap;class P extends B{constructor(Y){super(Y),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class D extends h{constructor(Y){super(Y,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class T extends h{constructor(K){super(K,{isRenderable:!0,ignoreBorder:!0});Ee(this,pe,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=y.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const K=this.data,{width:ae,height:we}=C(K.rect),ke=this.svgFactory.create(ae,we,!0);for(const Fe of K.inkLists){let Ne=[];for(const Ze of Fe){const Ue=Ze.x-K.rect[0],xt=K.rect[3]-Ze.y;Ne.push("".concat(Ue,",").concat(xt))}Ne=Ne.join(" ");const et=this.svgFactory.createElement(this.svgElementName);u(this,pe).push(et),et.setAttribute("points",Ne),et.setAttribute("stroke-width",K.borderStyle.width||1),et.setAttribute("stroke","transparent"),et.setAttribute("fill","transparent"),!K.popupRef&&this.hasPopupData&&this._createPopup(),ke.append(et)}return this.container.append(ke),this.container}getElementsToTriggerPopup(){return u(this,pe)}addHighlightArea(){this.container.classList.add("highlightArea")}}pe=new WeakMap,x.InkAnnotationElement=T;class H extends h{constructor(Y){super(Y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class F extends h{constructor(Y){super(Y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class W extends h{constructor(Y){super(Y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class J extends h{constructor(Y){super(Y,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class R extends h{constructor(Y){super(Y,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}x.StampAnnotationElement=R;class l extends h{constructor(K){var ke;super(K,{isRenderable:!0});Ee(this,Ke);Ee(this,me,null);const{filename:ae,content:we}=this.data.file;this.filename=(0,S.getFilenameFromUrl)(ae,!0),this.content=we,(ke=this.linkService.eventBus)==null||ke.dispatch("fileattachmentannotation",{source:this,filename:ae,content:we})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:K,data:ae}=this;let we;ae.hasAppearance||ae.fillAlpha===0?we=document.createElement("div"):(we=document.createElement("img"),we.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(ae.name)?"paperclip":"pushpin",".svg"),ae.fillAlpha&&ae.fillAlpha<1&&(we.style="filter: opacity(".concat(Math.round(ae.fillAlpha*100),"%);"))),we.addEventListener("dblclick",ce(this,Ke,ei).bind(this)),ye(this,me,we);const{isMac:ke}=y.FeatureTest.platform;return K.addEventListener("keydown",Fe=>{Fe.key==="Enter"&&(ke?Fe.metaKey:Fe.ctrlKey)&&ce(this,Ke,ei).call(this)}),!ae.popupRef&&this.hasPopupData?this._createPopup():we.classList.add("popupTriggerArea"),K.append(we),K}getElementsToTriggerPopup(){return u(this,me)}addHighlightArea(){this.container.classList.add("highlightArea")}}me=new WeakMap,Ke=new WeakSet,ei=function(){var K;(K=this.downloadManager)==null||K.openOrDownloadData(this.container,this.content,this.filename)};class v{constructor({div:Y,accessibilityManager:K,annotationCanvasMap:ae,l10n:we,page:ke,viewport:Fe}){Ee(this,He);Ee(this,st,null);Ee(this,Q,null);Ee(this,Re,new Map);this.div=Y,ye(this,st,K),ye(this,Q,ae),this.l10n=we,this.page=ke,this.viewport=Fe,this.zIndex=0,this.l10n||(this.l10n=Z.NullL10n)}async render(Y){const{annotations:K}=Y,ae=this.div;(0,S.setLayerDimensions)(ae,this.viewport);const we=new Map,ke={data:null,layer:ae,linkService:Y.linkService,downloadManager:Y.downloadManager,imageResourcesPath:Y.imageResourcesPath||"",renderForms:Y.renderForms!==!1,svgFactory:new S.DOMSVGFactory,annotationStorage:Y.annotationStorage||new r.AnnotationStorage,enableScripting:Y.enableScripting===!0,hasJSActions:Y.hasJSActions,fieldObjects:Y.fieldObjects,parent:this,elements:null};for(const Fe of K){if(Fe.noHTML)continue;const Ne=Fe.annotationType===y.AnnotationType.POPUP;if(Ne){const Ue=we.get(Fe.id);if(!Ue)continue;ke.elements=Ue}else{const{width:Ue,height:xt}=C(Fe.rect);if(Ue<=0||xt<=0)continue}ke.data=Fe;const et=b.create(ke);if(!et.isRenderable)continue;if(!Ne&&Fe.popupRef){const Ue=we.get(Fe.popupRef);Ue?Ue.push(et):we.set(Fe.popupRef,[et])}et.annotationEditorType>0&&u(this,Re).set(et.data.id,et);const Ze=et.render();Fe.hidden&&(Ze.style.visibility="hidden"),ce(this,He,Gi).call(this,Ze,Fe.id)}ce(this,He,ti).call(this),await this.l10n.translate(ae)}update({viewport:Y}){const K=this.div;this.viewport=Y,(0,S.setLayerDimensions)(K,{rotation:Y.rotation}),ce(this,He,ti).call(this),K.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Re).values())}getEditableAnnotation(Y){return u(this,Re).get(Y)}}st=new WeakMap,Q=new WeakMap,Re=new WeakMap,He=new WeakSet,Gi=function(Y,K){var we;const ae=Y.firstChild||Y;ae.id="".concat(y.AnnotationPrefix).concat(K),this.div.append(Y),(we=u(this,st))==null||we.moveElementInDOM(this.div,Y,ae,!1)},ti=function(){if(!u(this,Q))return;const Y=this.div;for(const[K,ae]of u(this,Q)){const we=Y.querySelector('[data-annotation-id="'.concat(K,'"]'));if(!we)continue;const{firstChild:ke}=we;ke?ke.nodeName==="CANVAS"?ke.replaceWith(ae):ke.before(ae):we.append(ae)}u(this,Q).clear()},x.AnnotationLayer=v}),((e,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ColorConverters=void 0;function n(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function y(r){return Math.max(0,Math.min(255,255*r))}class S{static CMYK_G([j,Z,X,V]){return["G",1-Math.min(1,.3*j+.59*X+.11*Z+V)]}static G_CMYK([j]){return["CMYK",0,0,0,1-j]}static G_RGB([j]){return["RGB",j,j,j]}static G_rgb([j]){return j=y(j),[j,j,j]}static G_HTML([j]){const Z=n(j);return"#".concat(Z).concat(Z).concat(Z)}static RGB_G([j,Z,X]){return["G",.3*j+.59*Z+.11*X]}static RGB_rgb(j){return j.map(y)}static RGB_HTML(j){return"#".concat(j.map(n).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([j,Z,X,V]){return["RGB",1-Math.min(1,j+V),1-Math.min(1,X+V),1-Math.min(1,Z+V)]}static CMYK_rgb([j,Z,X,V]){return[y(1-Math.min(1,j+V)),y(1-Math.min(1,X+V)),y(1-Math.min(1,Z+V))]}static CMYK_HTML(j){const Z=this.CMYK_RGB(j).slice(1);return this.RGB_HTML(Z)}static RGB_CMYK([j,Z,X]){const V=1-j,A=1-Z,N=1-X,C=Math.min(V,A,N);return["CMYK",V,A,N,C]}}x.ColorConverters=S}),((e,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NullL10n=void 0,x.getL10nFallback=y;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function y(j,Z){switch(j){case"find_match_count":j="find_match_count[".concat(Z.total===1?"one":"other","]");break;case"find_match_count_limit":j="find_match_count_limit[".concat(Z.limit===1?"one":"other","]");break}return n[j]||""}function S(j,Z){return Z?j.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(X,V)=>V in Z?Z[V]:"{{"+V+"}}"):j}const r={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(j,Z=null,X=y(j,Z)){return S(X,Z)},async translate(j){}};x.NullL10n=r}),((e,x,n)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaLayer=void 0;var y=n(25);class S{static setupStorage(j,Z,X,V,A){const N=V.getValue(Z,{value:null});switch(X.name){case"textarea":if(N.value!==null&&(j.textContent=N.value),A==="print")break;j.addEventListener("input",C=>{V.setValue(Z,{value:C.target.value})});break;case"input":if(X.attributes.type==="radio"||X.attributes.type==="checkbox"){if(N.value===X.attributes.xfaOn?j.setAttribute("checked",!0):N.value===X.attributes.xfaOff&&j.removeAttribute("checked"),A==="print")break;j.addEventListener("change",C=>{V.setValue(Z,{value:C.target.checked?C.target.getAttribute("xfaOn"):C.target.getAttribute("xfaOff")})})}else{if(N.value!==null&&j.setAttribute("value",N.value),A==="print")break;j.addEventListener("input",C=>{V.setValue(Z,{value:C.target.value})})}break;case"select":if(N.value!==null){j.setAttribute("value",N.value);for(const C of X.children)C.attributes.value===N.value?C.attributes.selected=!0:C.attributes.hasOwnProperty("selected")&&delete C.attributes.selected}j.addEventListener("input",C=>{const b=C.target.options,h=b.selectedIndex===-1?"":b[b.selectedIndex].value;V.setValue(Z,{value:h})});break}}static setAttributes({html:j,element:Z,storage:X=null,intent:V,linkService:A}){const{attributes:N}=Z,C=j instanceof HTMLAnchorElement;N.type==="radio"&&(N.name="".concat(N.name,"-").concat(V));for(const[b,h]of Object.entries(N))if(h!=null)switch(b){case"class":h.length&&j.setAttribute(b,h.join(" "));break;case"dataId":break;case"id":j.setAttribute("data-element-id",h);break;case"style":Object.assign(j.style,h);break;case"textContent":j.textContent=h;break;default:(!C||b!=="href"&&b!=="newWindow")&&j.setAttribute(b,h)}C&&A.addLinkAttributes(j,N.href,N.newWindow),X&&N.dataId&&this.setupStorage(j,N.dataId,Z,X)}static render(j){var i;const Z=j.annotationStorage,X=j.linkService,V=j.xfaHtml,A=j.intent||"display",N=document.createElement(V.name);V.attributes&&this.setAttributes({html:N,element:V,intent:A,linkService:X});const C=[[V,-1,N]],b=j.div;if(b.append(N),j.viewport){const d="matrix(".concat(j.viewport.transform.join(","),")");b.style.transform=d}A!=="richText"&&b.setAttribute("class","xfaLayer xfaFont");const h=[];for(;C.length>0;){const[d,p,o]=C.at(-1);if(p+1===d.children.length){C.pop();continue}const M=d.children[++C.at(-1)[1]];if(M===null)continue;const{name:m}=M;if(m==="#text"){const _=document.createTextNode(M.value);h.push(_),o.append(_);continue}const f=(i=M==null?void 0:M.attributes)!=null&&i.xmlns?document.createElementNS(M.attributes.xmlns,m):document.createElement(m);if(o.append(f),M.attributes&&this.setAttributes({html:f,element:M,storage:Z,intent:A,linkService:X}),M.children&&M.children.length>0)C.push([M,-1,f]);else if(M.value){const _=document.createTextNode(M.value);y.XfaText.shouldBuildText(m)&&h.push(_),f.append(_)}}for(const d of b.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:h}}static update(j){const Z="matrix(".concat(j.viewport.transform.join(","),")");j.div.style.transform=Z,j.div.hidden=!1}}x.XfaLayer=S}),((e,x,n)=>{var V,A,N,C,b,h,i,d,p,o,M,m,f,_,c,Xi,Ki,Yi,Zi,ni,Ji,ri,Qi,$i,ea,ta,na,yn,ii,dr,hr,Nn,ai,fr,z,ra,oi,ia,aa,si,pr,jn;Object.defineProperty(x,"__esModule",{value:!0}),x.InkEditor=void 0;var y=n(1),S=n(4),r=n(29),j=n(6),Z=n(5);const Te=class Te extends S.AnnotationEditor{constructor(I){super({...I,name:"inkEditor"});Ee(this,c);Ee(this,V,0);Ee(this,A,0);Ee(this,N,this.canvasPointermove.bind(this));Ee(this,C,this.canvasPointerleave.bind(this));Ee(this,b,this.canvasPointerup.bind(this));Ee(this,h,this.canvasPointerdown.bind(this));Ee(this,i,new Path2D);Ee(this,d,!1);Ee(this,p,!1);Ee(this,o,!1);Ee(this,M,null);Ee(this,m,0);Ee(this,f,0);Ee(this,_,null);this.color=I.color||null,this.thickness=I.thickness||null,this.opacity=I.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(I){S.AnnotationEditor.initialize(I,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(I,q){switch(I){case y.AnnotationEditorParamsType.INK_THICKNESS:Te._defaultThickness=q;break;case y.AnnotationEditorParamsType.INK_COLOR:Te._defaultColor=q;break;case y.AnnotationEditorParamsType.INK_OPACITY:Te._defaultOpacity=q/100;break}}updateParams(I,q){switch(I){case y.AnnotationEditorParamsType.INK_THICKNESS:ce(this,c,Xi).call(this,q);break;case y.AnnotationEditorParamsType.INK_COLOR:ce(this,c,Ki).call(this,q);break;case y.AnnotationEditorParamsType.INK_OPACITY:ce(this,c,Yi).call(this,q);break}}static get defaultPropertiesToUpdate(){return[[y.AnnotationEditorParamsType.INK_THICKNESS,Te._defaultThickness],[y.AnnotationEditorParamsType.INK_COLOR,Te._defaultColor||S.AnnotationEditor._defaultLineColor],[y.AnnotationEditorParamsType.INK_OPACITY,Math.round(Te._defaultOpacity*100)]]}get propertiesToUpdate(){var I;return[[y.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Te._defaultThickness],[y.AnnotationEditorParamsType.INK_COLOR,this.color||Te._defaultColor||S.AnnotationEditor._defaultLineColor],[y.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((I=this.opacity)!=null?I:Te._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ce(this,c,dr).call(this),ce(this,c,hr).call(this)),this.isAttachedToDOM||(this.parent.add(this),ce(this,c,Nn).call(this)),ce(this,c,jn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,M).disconnect(),ye(this,M,null),super.remove())}setParent(I){!this.parent&&I?this._uiManager.removeShouldRescale(this):this.parent&&I===null&&this._uiManager.addShouldRescale(this),super.setParent(I)}onScaleChanging(){const[I,q]=this.parentDimensions,re=this.width*I,ie=this.height*q;this.setDimensions(re,ie)}enableEditMode(){u(this,d)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",u(this,h)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",u(this,h)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,d)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ye(this,d,!0),this.div.classList.add("disabled"),ce(this,c,jn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(I){this._focusEventsAllowed&&(super.focusin(I),this.enableEditMode())}canvasPointerdown(I){I.button!==0||!this.isInEditMode()||u(this,d)||(this.setInForeground(),I.preventDefault(),I.type!=="mouse"&&this.div.focus(),ce(this,c,Ji).call(this,I.offsetX,I.offsetY))}canvasPointermove(I){I.preventDefault(),ce(this,c,ri).call(this,I.offsetX,I.offsetY)}canvasPointerup(I){I.preventDefault(),ce(this,c,ii).call(this,I)}canvasPointerleave(I){ce(this,c,ii).call(this,I)}get isResizable(){return!this.isEmpty()&&u(this,d)}render(){if(this.div)return this.div;let I,q;this.width&&(I=this.x,q=this.y),super.render(),S.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Pe=>{var se;return(se=this.div)==null?void 0:se.setAttribute("aria-label",Pe)});const[re,ie,ue,Ce]=ce(this,c,Zi).call(this);if(this.setAt(re,ie,0,0),this.setDims(ue,Ce),ce(this,c,dr).call(this),this.width){const[Pe,se]=this.parentDimensions;this.setAspectRatio(this.width*Pe,this.height*se),this.setAt(I*Pe,q*se,this.width*Pe,this.height*se),ye(this,o,!0),ce(this,c,Nn).call(this),this.setDims(this.width*Pe,this.height*se),ce(this,c,yn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ce(this,c,hr).call(this),this.div}setDimensions(I,q){const re=Math.round(I),ie=Math.round(q);if(u(this,m)===re&&u(this,f)===ie)return;ye(this,m,re),ye(this,f,ie),this.canvas.style.visibility="hidden";const[ue,Ce]=this.parentDimensions;this.width=I/ue,this.height=q/Ce,this.fixAndSetPosition(),u(this,d)&&ce(this,c,ai).call(this,I,q),ce(this,c,Nn).call(this),ce(this,c,yn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(I,q,re){var $e,at,yt;if(I instanceof r.InkAnnotationElement)return null;const ie=super.deserialize(I,q,re);ie.thickness=I.thickness,ie.color=y.Util.makeHexColor(...I.color),ie.opacity=I.opacity;const[ue,Ce]=ie.pageDimensions,Pe=ie.width*ue,se=ie.height*Ce,Be=ie.parentScale,Ie=I.thickness/2;ye(ie,d,!0),ye(ie,m,Math.round(Pe)),ye(ie,f,Math.round(se));const{paths:it,rect:Ye,rotation:pt}=I;for(let{bezier:Le}of it){Le=ce($e=Te,z,ia).call($e,Le,Ye,pt);const pe=[];ie.paths.push(pe);let me=Be*(Le[0]-Ie),Ke=Be*(Le[1]-Ie);for(let st=2,Q=Le.length;st<Q;st+=6){const Re=Be*(Le[st]-Ie),He=Be*(Le[st+1]-Ie),Qe=Be*(Le[st+2]-Ie),tt=Be*(Le[st+3]-Ie),Xe=Be*(Le[st+4]-Ie),Y=Be*(Le[st+5]-Ie);pe.push([[me,Ke],[Re,He],[Qe,tt],[Xe,Y]]),me=Xe,Ke=Y}const Je=ce(this,z,ra).call(this,pe);ie.bezierPath2D.push(Je)}const ze=ce(at=ie,c,si).call(at);return ye(ie,A,Math.max(S.AnnotationEditor.MIN_SIZE,ze[2]-ze[0])),ye(ie,V,Math.max(S.AnnotationEditor.MIN_SIZE,ze[3]-ze[1])),ce(yt=ie,c,ai).call(yt,Pe,se),ie}serialize(){if(this.isEmpty())return null;const I=this.getRect(0,0),q=S.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:y.AnnotationEditorType.INK,color:q,thickness:this.thickness,opacity:this.opacity,paths:ce(this,c,aa).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,I),pageIndex:this.pageIndex,rect:I,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};V=new WeakMap,A=new WeakMap,N=new WeakMap,C=new WeakMap,b=new WeakMap,h=new WeakMap,i=new WeakMap,d=new WeakMap,p=new WeakMap,o=new WeakMap,M=new WeakMap,m=new WeakMap,f=new WeakMap,_=new WeakMap,c=new WeakSet,Xi=function(I){const q=this.thickness;this.addCommands({cmd:()=>{this.thickness=I,ce(this,c,jn).call(this)},undo:()=>{this.thickness=q,ce(this,c,jn).call(this)},mustExec:!0,type:y.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ki=function(I){const q=this.color;this.addCommands({cmd:()=>{this.color=I,ce(this,c,yn).call(this)},undo:()=>{this.color=q,ce(this,c,yn).call(this)},mustExec:!0,type:y.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Yi=function(I){I/=100;const q=this.opacity;this.addCommands({cmd:()=>{this.opacity=I,ce(this,c,yn).call(this)},undo:()=>{this.opacity=q,ce(this,c,yn).call(this)},mustExec:!0,type:y.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Zi=function(){const{parentRotation:I,parentDimensions:[q,re]}=this;switch(I){case 90:return[0,re,re,q];case 180:return[q,re,q,re];case 270:return[q,0,re,q];default:return[0,0,q,re]}},ni=function(){const{ctx:I,color:q,opacity:re,thickness:ie,parentScale:ue,scaleFactor:Ce}=this;I.lineWidth=ie*ue/Ce,I.lineCap="round",I.lineJoin="round",I.miterLimit=10,I.strokeStyle="".concat(q).concat((0,Z.opacityToHex)(re))},Ji=function(I,q){var re;this.canvas.addEventListener("contextmenu",j.noContextMenu),this.canvas.addEventListener("pointerleave",u(this,C)),this.canvas.addEventListener("pointermove",u(this,N)),this.canvas.addEventListener("pointerup",u(this,b)),this.canvas.removeEventListener("pointerdown",u(this,h)),this.isEditing=!0,u(this,o)||(ye(this,o,!0),ce(this,c,Nn).call(this),this.thickness||(this.thickness=Te._defaultThickness),this.color||(this.color=Te._defaultColor||S.AnnotationEditor._defaultLineColor),(re=this.opacity)!=null||(this.opacity=Te._defaultOpacity)),this.currentPath.push([I,q]),ye(this,p,!1),ce(this,c,ni).call(this),ye(this,_,()=>{ce(this,c,ea).call(this),u(this,_)&&window.requestAnimationFrame(u(this,_))}),window.requestAnimationFrame(u(this,_))},ri=function(I,q){const[re,ie]=this.currentPath.at(-1);if(this.currentPath.length>1&&I===re&&q===ie)return;const ue=this.currentPath;let Ce=u(this,i);if(ue.push([I,q]),ye(this,p,!0),ue.length<=2){Ce.moveTo(...ue[0]),Ce.lineTo(I,q);return}ue.length===3&&(ye(this,i,Ce=new Path2D),Ce.moveTo(...ue[0])),ce(this,c,ta).call(this,Ce,...ue.at(-3),...ue.at(-2),I,q)},Qi=function(){if(this.currentPath.length===0)return;const I=this.currentPath.at(-1);u(this,i).lineTo(...I)},$i=function(I,q){ye(this,_,null),I=Math.min(Math.max(I,0),this.canvas.width),q=Math.min(Math.max(q,0),this.canvas.height),ce(this,c,ri).call(this,I,q),ce(this,c,Qi).call(this);let re;if(this.currentPath.length!==1)re=ce(this,c,na).call(this);else{const se=[I,q];re=[[se,se.slice(),se.slice(),se]]}const ie=u(this,i),ue=this.currentPath;this.currentPath=[],ye(this,i,new Path2D);const Ce=()=>{this.allRawPaths.push(ue),this.paths.push(re),this.bezierPath2D.push(ie),this.rebuild()},Pe=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ce(this,c,dr).call(this),ce(this,c,hr).call(this)),ce(this,c,jn).call(this))};this.addCommands({cmd:Ce,undo:Pe,mustExec:!0})},ea=function(){if(!u(this,p))return;ye(this,p,!1);const I=Math.ceil(this.thickness*this.parentScale),q=this.currentPath.slice(-3),re=q.map(Ce=>Ce[0]),ie=q.map(Ce=>Ce[1]);Math.min(...re)-I,Math.max(...re)+I,Math.min(...ie)-I,Math.max(...ie)+I;const{ctx:ue}=this;ue.save(),ue.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ce of this.bezierPath2D)ue.stroke(Ce);ue.stroke(u(this,i)),ue.restore()},ta=function(I,q,re,ie,ue,Ce,Pe){const se=(q+ie)/2,Be=(re+ue)/2,Ie=(ie+Ce)/2,it=(ue+Pe)/2;I.bezierCurveTo(se+2*(ie-se)/3,Be+2*(ue-Be)/3,Ie+2*(ie-Ie)/3,it+2*(ue-it)/3,Ie,it)},na=function(){const I=this.currentPath;if(I.length<=2)return[[I[0],I[0],I.at(-1),I.at(-1)]];const q=[];let re,[ie,ue]=I[0];for(re=1;re<I.length-2;re++){const[Ye,pt]=I[re],[ze,$e]=I[re+1],at=(Ye+ze)/2,yt=(pt+$e)/2,Le=[ie+2*(Ye-ie)/3,ue+2*(pt-ue)/3],pe=[at+2*(Ye-at)/3,yt+2*(pt-yt)/3];q.push([[ie,ue],Le,pe,[at,yt]]),[ie,ue]=[at,yt]}const[Ce,Pe]=I[re],[se,Be]=I[re+1],Ie=[ie+2*(Ce-ie)/3,ue+2*(Pe-ue)/3],it=[se+2*(Ce-se)/3,Be+2*(Pe-Be)/3];return q.push([[ie,ue],Ie,it,[se,Be]]),q},yn=function(){if(this.isEmpty()){ce(this,c,fr).call(this);return}ce(this,c,ni).call(this);const{canvas:I,ctx:q}=this;q.setTransform(1,0,0,1,0,0),q.clearRect(0,0,I.width,I.height),ce(this,c,fr).call(this);for(const re of this.bezierPath2D)q.stroke(re)},ii=function(I){this.canvas.removeEventListener("pointerleave",u(this,C)),this.canvas.removeEventListener("pointermove",u(this,N)),this.canvas.removeEventListener("pointerup",u(this,b)),this.canvas.addEventListener("pointerdown",u(this,h)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",j.noContextMenu)},10),ce(this,c,$i).call(this,I.offsetX,I.offsetY),this.addToAnnotationStorage(),this.setInBackground()},dr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",S.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(I=>{var q;return(q=this.canvas)==null?void 0:q.setAttribute("aria-label",I)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},hr=function(){ye(this,M,new ResizeObserver(I=>{const q=I[0].contentRect;q.width&&q.height&&this.setDimensions(q.width,q.height)})),u(this,M).observe(this.div)},Nn=function(){if(!u(this,o))return;const[I,q]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*I),this.canvas.height=Math.ceil(this.height*q),ce(this,c,fr).call(this)},ai=function(I,q){const re=ce(this,c,pr).call(this),ie=(I-re)/u(this,A),ue=(q-re)/u(this,V);this.scaleFactor=Math.min(ie,ue)},fr=function(){const I=ce(this,c,pr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+I,this.translationY*this.scaleFactor+I)},z=new WeakSet,ra=function(I){const q=new Path2D;for(let re=0,ie=I.length;re<ie;re++){const[ue,Ce,Pe,se]=I[re];re===0&&q.moveTo(...ue),q.bezierCurveTo(Ce[0],Ce[1],Pe[0],Pe[1],se[0],se[1])}return q},oi=function(I,q,re){const[ie,ue,Ce,Pe]=q;switch(re){case 0:for(let se=0,Be=I.length;se<Be;se+=2)I[se]+=ie,I[se+1]=Pe-I[se+1];break;case 90:for(let se=0,Be=I.length;se<Be;se+=2){const Ie=I[se];I[se]=I[se+1]+ie,I[se+1]=Ie+ue}break;case 180:for(let se=0,Be=I.length;se<Be;se+=2)I[se]=Ce-I[se],I[se+1]+=ue;break;case 270:for(let se=0,Be=I.length;se<Be;se+=2){const Ie=I[se];I[se]=Ce-I[se+1],I[se+1]=Pe-Ie}break;default:throw new Error("Invalid rotation")}return I},ia=function(I,q,re){const[ie,ue,Ce,Pe]=q;switch(re){case 0:for(let se=0,Be=I.length;se<Be;se+=2)I[se]-=ie,I[se+1]=Pe-I[se+1];break;case 90:for(let se=0,Be=I.length;se<Be;se+=2){const Ie=I[se];I[se]=I[se+1]-ue,I[se+1]=Ie-ie}break;case 180:for(let se=0,Be=I.length;se<Be;se+=2)I[se]=Ce-I[se],I[se+1]-=ue;break;case 270:for(let se=0,Be=I.length;se<Be;se+=2){const Ie=I[se];I[se]=Pe-I[se+1],I[se+1]=Ce-Ie}break;default:throw new Error("Invalid rotation")}return I},aa=function(I,q,re,ie){var Be,Ie;const ue=[],Ce=this.thickness/2,Pe=I*q+Ce,se=I*re+Ce;for(const it of this.paths){const Ye=[],pt=[];for(let ze=0,$e=it.length;ze<$e;ze++){const[at,yt,Le,pe]=it[ze],me=I*at[0]+Pe,Ke=I*at[1]+se,Je=I*yt[0]+Pe,st=I*yt[1]+se,Q=I*Le[0]+Pe,Re=I*Le[1]+se,He=I*pe[0]+Pe,Qe=I*pe[1]+se;ze===0&&(Ye.push(me,Ke),pt.push(me,Ke)),Ye.push(Je,st,Q,Re,He,Qe),pt.push(Je,st),ze===$e-1&&pt.push(He,Qe)}ue.push({bezier:ce(Be=Te,z,oi).call(Be,Ye,ie,this.rotation),points:ce(Ie=Te,z,oi).call(Ie,pt,ie,this.rotation)})}return ue},si=function(){let I=1/0,q=-1/0,re=1/0,ie=-1/0;for(const ue of this.paths)for(const[Ce,Pe,se,Be]of ue){const Ie=y.Util.bezierBoundingBox(...Ce,...Pe,...se,...Be);I=Math.min(I,Ie[0]),re=Math.min(re,Ie[1]),q=Math.max(q,Ie[2]),ie=Math.max(ie,Ie[3])}return[I,re,q,ie]},pr=function(){return u(this,d)?Math.ceil(this.thickness*this.parentScale):0},jn=function(I=!1){if(this.isEmpty())return;if(!u(this,d)){ce(this,c,yn).call(this);return}const q=ce(this,c,si).call(this),re=ce(this,c,pr).call(this);ye(this,A,Math.max(S.AnnotationEditor.MIN_SIZE,q[2]-q[0])),ye(this,V,Math.max(S.AnnotationEditor.MIN_SIZE,q[3]-q[1]));const ie=Math.ceil(re+u(this,A)*this.scaleFactor),ue=Math.ceil(re+u(this,V)*this.scaleFactor),[Ce,Pe]=this.parentDimensions;this.width=ie/Ce,this.height=ue/Pe,this.setAspectRatio(ie,ue);const se=this.translationX,Be=this.translationY;this.translationX=-q[0],this.translationY=-q[1],ce(this,c,Nn).call(this),ce(this,c,yn).call(this),ye(this,m,ie),ye(this,f,ue),this.setDims(ie,ue);const Ie=I?re/this.scaleFactor/2:0;this.translate(se-this.translationX-Ie,Be-this.translationY-Ie)},Ee(Te,z),Gt(Te,"_defaultColor",null),Gt(Te,"_defaultOpacity",1),Gt(Te,"_defaultThickness",1),Gt(Te,"_type","ink");let X=Te;x.InkEditor=X}),((e,x,n)=>{var X,V,A,N,C,b,h,i,d,p,o,Xn,Kn,mr,li,oa,sa,ci,gr,la;Object.defineProperty(x,"__esModule",{value:!0}),x.StampEditor=void 0;var y=n(1),S=n(4),r=n(6),j=n(29);const s=class s extends S.AnnotationEditor{constructor(P){super({...P,name:"stampEditor"});Ee(this,o);Ee(this,X,null);Ee(this,V,null);Ee(this,A,null);Ee(this,N,null);Ee(this,C,null);Ee(this,b,null);Ee(this,h,null);Ee(this,i,null);Ee(this,d,!1);Ee(this,p,!1);ye(this,N,P.bitmapUrl),ye(this,C,P.bitmapFile)}static initialize(P){S.AnnotationEditor.initialize(P)}static get supportedTypes(){const P=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,y.shadow)(this,"supportedTypes",P.map(D=>"image/".concat(D)))}static get supportedTypesStr(){return(0,y.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(P){return this.supportedTypes.includes(P)}static paste(P,D){D.pasteEditor(y.AnnotationEditorType.STAMP,{bitmapFile:P.getAsFile()})}remove(){var P,D;u(this,V)&&(ye(this,X,null),this._uiManager.imageManager.deleteId(u(this,V)),(P=u(this,b))==null||P.remove(),ye(this,b,null),(D=u(this,h))==null||D.disconnect(),ye(this,h,null)),super.remove()}rebuild(){if(!this.parent){u(this,V)&&ce(this,o,mr).call(this);return}super.rebuild(),this.div!==null&&(u(this,V)&&ce(this,o,mr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,A)||u(this,X)||u(this,N)||u(this,C))}get isResizable(){return!0}render(){if(this.div)return this.div;let P,D;if(this.width&&(P=this.x,D=this.y),super.render(),this.div.hidden=!0,u(this,X)?ce(this,o,li).call(this):ce(this,o,mr).call(this),this.width){const[T,H]=this.parentDimensions;this.setAt(P*T,D*H,this.width*T,this.height*H)}return this.div}static deserialize(P,D,T){if(P instanceof j.StampAnnotationElement)return null;const H=super.deserialize(P,D,T),{rect:F,bitmapUrl:W,bitmapId:J,isSvg:R,accessibilityData:l}=P;J&&T.imageManager.isValidId(J)?ye(H,V,J):ye(H,N,W),ye(H,d,R);const[v,L]=H.pageDimensions;return H.width=(F[2]-F[0])/v,H.height=(F[3]-F[1])/L,l&&(H.altTextData=l),H}serialize(P=!1,D=null){if(this.isEmpty())return null;const T={annotationType:y.AnnotationEditorType.STAMP,bitmapId:u(this,V),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,d),structTreeParentId:this._structTreeParentId};if(P)return T.bitmapUrl=ce(this,o,gr).call(this,!0),T.accessibilityData=this.altTextData,T;const{decorative:H,altText:F}=this.altTextData;if(!H&&F&&(T.accessibilityData={type:"Figure",alt:F}),D===null)return T;D.stamps||(D.stamps=new Map);const W=u(this,d)?(T.rect[2]-T.rect[0])*(T.rect[3]-T.rect[1]):null;if(!D.stamps.has(u(this,V)))D.stamps.set(u(this,V),{area:W,serialized:T}),T.bitmap=ce(this,o,gr).call(this,!1);else if(u(this,d)){const J=D.stamps.get(u(this,V));W>J.area&&(J.area=W,J.serialized.bitmap.close(),J.serialized.bitmap=ce(this,o,gr).call(this,!1))}return T}};X=new WeakMap,V=new WeakMap,A=new WeakMap,N=new WeakMap,C=new WeakMap,b=new WeakMap,h=new WeakMap,i=new WeakMap,d=new WeakMap,p=new WeakMap,o=new WeakSet,Xn=function(P,D=!1){if(!P){this.remove();return}ye(this,X,P.bitmap),D||(ye(this,V,P.id),ye(this,d,P.isSvg)),ce(this,o,li).call(this)},Kn=function(){ye(this,A,null),this._uiManager.enableWaiting(!1),u(this,b)&&this.div.focus()},mr=function(){if(u(this,V)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,V)).then(D=>ce(this,o,Xn).call(this,D,!0)).finally(()=>ce(this,o,Kn).call(this));return}if(u(this,N)){const D=u(this,N);ye(this,N,null),this._uiManager.enableWaiting(!0),ye(this,A,this._uiManager.imageManager.getFromUrl(D).then(T=>ce(this,o,Xn).call(this,T)).finally(()=>ce(this,o,Kn).call(this)));return}if(u(this,C)){const D=u(this,C);ye(this,C,null),this._uiManager.enableWaiting(!0),ye(this,A,this._uiManager.imageManager.getFromFile(D).then(T=>ce(this,o,Xn).call(this,T)).finally(()=>ce(this,o,Kn).call(this)));return}const P=document.createElement("input");P.type="file",P.accept=s.supportedTypesStr,ye(this,A,new Promise(D=>{P.addEventListener("change",async()=>{if(!P.files||P.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const T=await this._uiManager.imageManager.getFromFile(P.files[0]);ce(this,o,Xn).call(this,T)}D()}),P.addEventListener("cancel",()=>{this.remove(),D()})}).finally(()=>ce(this,o,Kn).call(this))),P.click()},li=function(){const{div:P}=this;let{width:D,height:T}=u(this,X);const[H,F]=this.pageDimensions,W=.75;if(this.width)D=this.width*H,T=this.height*F;else if(D>W*H||T>W*F){const v=Math.min(W*H/D,W*F/T);D*=v,T*=v}const[J,R]=this.parentDimensions;this.setDims(D*J/H,T*R/F),this._uiManager.enableWaiting(!1);const l=ye(this,b,document.createElement("canvas"));P.append(l),P.hidden=!1,ce(this,o,ci).call(this,D,T),ce(this,o,la).call(this),u(this,p)||(this.parent.addUndoableEditor(this),ye(this,p,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},oa=function(P,D){var W;const[T,H]=this.parentDimensions;this.width=P/T,this.height=D/H,this.setDims(P,D),(W=this._initialOptions)!=null&&W.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,i)!==null&&clearTimeout(u(this,i)),ye(this,i,setTimeout(()=>{ye(this,i,null),ce(this,o,ci).call(this,P,D)},200))},sa=function(P,D){const{width:T,height:H}=u(this,X);let F=T,W=H,J=u(this,X);for(;F>2*P||W>2*D;){const R=F,l=W;F>2*P&&(F=F>=16384?Math.floor(F/2)-1:Math.ceil(F/2)),W>2*D&&(W=W>=16384?Math.floor(W/2)-1:Math.ceil(W/2));const v=new OffscreenCanvas(F,W);v.getContext("2d").drawImage(J,0,0,R,l,0,0,F,W),J=v.transferToImageBitmap()}return J},ci=function(P,D){P=Math.ceil(P),D=Math.ceil(D);const T=u(this,b);if(!T||T.width===P&&T.height===D)return;T.width=P,T.height=D;const H=u(this,d)?u(this,X):ce(this,o,sa).call(this,P,D),F=T.getContext("2d");F.filter=this._uiManager.hcmFilter,F.drawImage(H,0,0,H.width,H.height,0,0,P,D)},gr=function(P){if(P){if(u(this,d)){const H=this._uiManager.imageManager.getSvgUrl(u(this,V));if(H)return H}const D=document.createElement("canvas");return{width:D.width,height:D.height}=u(this,X),D.getContext("2d").drawImage(u(this,X),0,0),D.toDataURL()}if(u(this,d)){const[D,T]=this.pageDimensions,H=Math.round(this.width*D*r.PixelsPerInch.PDF_TO_CSS_UNITS),F=Math.round(this.height*T*r.PixelsPerInch.PDF_TO_CSS_UNITS),W=new OffscreenCanvas(H,F);return W.getContext("2d").drawImage(u(this,X),0,0,u(this,X).width,u(this,X).height,0,0,H,F),W.transferToImageBitmap()}return structuredClone(u(this,X))},la=function(){ye(this,h,new ResizeObserver(P=>{const D=P[0].contentRect;D.width&&D.height&&ce(this,o,oa).call(this,D.width,D.height)})),u(this,h).observe(this.div)},Gt(s,"_type","stamp");let Z=s;x.StampEditor=Z})],__webpack_module_cache__={};function __w_pdfjs_require__(e){var x=__webpack_module_cache__[e];if(x!==void 0)return x.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return x.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return r.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return x.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return x.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return j.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return Z.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return x.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return x.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return y.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return x.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return X.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return x.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return x.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return x.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return x.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return y.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return x.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return x.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return y.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return x.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return y.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return x.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return x.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return x.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return V.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return x.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return y.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return y.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return y.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return y.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return y.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return y.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return y.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return x.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return S.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return y.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return x.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return S.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var x=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),y=__w_pdfjs_require__(6),S=__w_pdfjs_require__(26),r=__w_pdfjs_require__(27),j=__w_pdfjs_require__(5),Z=__w_pdfjs_require__(29),X=__w_pdfjs_require__(14),V=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf)),pdf.exports}var hasRequiredCore_min;function requireCore_min(){return hasRequiredCore_min||(hasRequiredCore_min=1,(function(e){var x=requireReact(),n=requirePdf();function y(E){var O=Object.create(null);return E&&Object.keys(E).forEach((function($){if($!=="default"){var te=Object.getOwnPropertyDescriptor(E,$);Object.defineProperty(O,$,te.get?te:{enumerable:!0,get:function(){return E[$]}})}})),O.default=E,Object.freeze(O)}var S,r=y(x),j=y(n);e.AnnotationType=void 0,(S=e.AnnotationType||(e.AnnotationType={}))[S.Text=1]="Text",S[S.Link=2]="Link",S[S.FreeText=3]="FreeText",S[S.Line=4]="Line",S[S.Square=5]="Square",S[S.Circle=6]="Circle",S[S.Polygon=7]="Polygon",S[S.Polyline=8]="Polyline",S[S.Highlight=9]="Highlight",S[S.Underline=10]="Underline",S[S.Squiggly=11]="Squiggly",S[S.StrikeOut=12]="StrikeOut",S[S.Stamp=13]="Stamp",S[S.Caret=14]="Caret",S[S.Ink=15]="Ink",S[S.Popup=16]="Popup",S[S.FileAttachment=17]="FileAttachment";var Z=function(E,O){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,te){$.__proto__=te}||function($,te){for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&($[oe]=te[oe])},Z(E,O)};function X(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function $(){this.constructor=E}Z(E,O),E.prototype=O===null?Object.create(O):($.prototype=O.prototype,new $)}var V,A=function(){return A=Object.assign||function(E){for(var O,$=1,te=arguments.length;$<te;$++)for(var oe in O=arguments[$])Object.prototype.hasOwnProperty.call(O,oe)&&(E[oe]=O[oe]);return E},A.apply(this,arguments)};e.TextDirection=void 0,(V=e.TextDirection||(e.TextDirection={})).RightToLeft="RTL",V.LeftToRight="LTR";var N,C=r.createContext({currentTheme:"light",direction:e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),b=function(E){var O=[];return Object.keys(E).forEach((function($){$&&E[$]&&O.push($)})),O.join(" ")},h=typeof window<"u"?r.useLayoutEffect:r.useEffect,i=function(E){var O=r.useRef(null),$=E.once,te=E.threshold,oe=E.onVisibilityChanged;return h((function(){var le=O.current;if(le){var _e=new IntersectionObserver((function(ge){ge.forEach((function(ne){var be=ne.isIntersecting,ve=ne.intersectionRatio;oe({isVisible:be,ratio:ve}),be&&$&&(_e.unobserve(le),_e.disconnect())}))}),{threshold:te||0});return _e.observe(le),function(){_e.unobserve(le),_e.disconnect()}}}),[]),O},d=function(E){var O=E.children,$=E.ignoreDirection,te=$!==void 0&&$,oe=E.size,le=oe===void 0?24:oe,_e=r.useContext(C).direction,ge=!te&&_e===e.TextDirection.RightToLeft,ne="".concat(le||24,"px");return r.createElement("svg",{"aria-hidden":"true",className:b({"rpv-core__icon":!0,"rpv-core__icon--rtl":ge}),focusable:"false",height:ne,viewBox:"0 0 24 24",width:ne},O)},p=function(){return r.createElement(d,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},o=function(E){var O=E.children,$=E.testId,te=E.onClick,oe=r.useContext(C).direction===e.TextDirection.RightToLeft,le=$?{"data-testid":$}:{};return r.createElement("button",A({className:b({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":oe}),type:"button",onClick:te},le),O)},M=function(E){var O=E.size,$=O===void 0?"4rem":O,te=E.testId,oe=r.useState(!1),le=oe[0],_e=oe[1],ge=te?{"data-testid":te}:{},ne=i({onVisibilityChanged:function(be){_e(be.isVisible)}});return r.createElement("div",A({},ge,{className:b({"rpv-core__spinner":!0,"rpv-core__spinner--animating":le}),ref:ne,style:{height:$,width:$}}))},m=function(E){var O=E.ariaLabel,$=O===void 0?"":O,te=E.autoFocus,oe=te!==void 0&&te,le=E.placeholder,_e=le===void 0?"":le,ge=E.testId,ne=E.type,be=ne===void 0?"text":ne,ve=E.value,je=ve===void 0?"":ve,Oe=E.onChange,De=E.onKeyDown,Ge=De===void 0?function(){}:De,We=r.useContext(C).direction,Ve=r.useRef(),Mt=We===e.TextDirection.RightToLeft,mt={ref:Ve,"data-testid":"","aria-label":$,className:b({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Mt}),placeholder:_e,value:je,onChange:function(gt){return Oe(gt.target.value)},onKeyDown:Ge};return ge&&(mt["data-testid"]=ge),h((function(){if(oe){var gt=Ve.current;if(gt){var Et=window.scrollX,lt=window.scrollY;gt.focus(),window.scrollTo(Et,lt)}}}),[]),be==="text"?r.createElement("input",A({type:"text"},mt)):r.createElement("input",A({type:"password"},mt))};(function(E){E[E.ExitFullScreen=0]="ExitFullScreen",E[E.FullScreenChange=1]="FullScreenChange",E[E.FullScreenElement=2]="FullScreenElement",E[E.FullScreenEnabled=3]="FullScreenEnabled",E[E.RequestFullScreen=4]="RequestFullScreen"})(N||(N={}));var f,_={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},c={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},a={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},g=typeof window<"u",k=g&&(N.FullScreenEnabled in document&&_||c.FullScreenEnabled in document&&c||a.FullScreenEnabled in document&&a)||_,t=function(){return g&&k.FullScreenEnabled in document&&document[k.FullScreenEnabled]===!0},s=function(E){return g?E[k.ExitFullScreen]():Promise.resolve({})},w=function(){return g?document[k.FullScreenElement]:null},B=function(E,O){var $=r.useRef(),te=function(){$.current&&clearTimeout($.current)};return r.useEffect((function(){return function(){return te()}}),[]),r.useCallback((function(){for(var oe=[],le=0;le<arguments.length;le++)oe[le]=arguments[le];te(),$.current=setTimeout((function(){E.apply(void 0,oe)}),O)}),[E,O])},P=function(){var E=r.useRef(!1);return r.useEffect((function(){return E.current=!0,function(){E.current=!1}}),[]),E},D=function(E){var O=r.useRef(E);return r.useEffect((function(){O.current=E}),[E]),O.current};(function(E){E.NotRenderedYet="NotRenderedYet",E.Rendering="Rendering",E.Rendered="Rendered"})(f||(f={}));var T,H=-9999,F=function(E){var O=E.doc,$=O.numPages,te=O.loadingTask.docId,oe=r.useMemo((function(){return Array($).fill(null).map((function(ge,ne){return{pageIndex:ne,renderStatus:f.NotRenderedYet,visibility:H}}))}),[te]),le=r.useRef({currentRenderingPage:-1,startRange:0,endRange:$-1,visibilities:oe}),_e=function(ge,ne){le.current.visibilities[ge].visibility=ne};return{getHighestPriorityPage:function(){var ge=le.current.visibilities.slice(le.current.startRange,le.current.endRange+1).filter((function(Oe){return Oe.visibility>H}));if(!ge.length)return-1;for(var ne=ge[0].pageIndex,be=ge[ge.length-1].pageIndex,ve=ge.length,je=0;je<ve;je++){if(ge[je].renderStatus===f.Rendering)return-1;if(ge[je].renderStatus===f.NotRenderedYet)return ge[je].pageIndex}return be+1<$&&le.current.visibilities[be+1].renderStatus!==f.Rendered?be+1:ne-1>=0&&le.current.visibilities[ne-1].renderStatus!==f.Rendered?ne-1:-1},isInRange:function(ge){return ge>=le.current.startRange&&ge<=le.current.endRange},markNotRendered:function(){for(var ge=0;ge<$;ge++)le.current.visibilities[ge].renderStatus=f.NotRenderedYet},markRendered:function(ge){le.current.visibilities[ge].renderStatus=f.Rendered},markRendering:function(ge){le.current.currentRenderingPage!==-1&&le.current.currentRenderingPage!==ge&&le.current.visibilities[le.current.currentRenderingPage].renderStatus===f.Rendering&&(le.current.visibilities[le.current.currentRenderingPage].renderStatus=f.NotRenderedYet),le.current.visibilities[ge].renderStatus=f.Rendering,le.current.currentRenderingPage=ge},setOutOfRange:function(ge){_e(ge,H)},setRange:function(ge,ne){le.current.startRange=ge,le.current.endRange=ne;for(var be=0;be<$;be++)(be<ge||be>ne)&&(le.current.visibilities[be].visibility=H,le.current.visibilities[be].renderStatus=f.NotRenderedYet)},setVisibility:_e}},W={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},J=r.createContext({l10n:W,setL10n:function(){}}),R=0,l=function(){return R++},v=function(E,O,$){var te=function(oe){var le=O.current;if(le){var _e=oe.target;if(_e instanceof Element&&_e.shadowRoot){var ge=oe.composedPath();ge.length>0&&!le.contains(ge[0])&&$()}else le.contains(_e)||$()}};r.useEffect((function(){if(E){var oe={capture:!0};return document.addEventListener("click",te,oe),function(){document.removeEventListener("click",te,oe)}}}),[])},L=function(E){var O=function($){$.key==="Escape"&&E()};r.useEffect((function(){return document.addEventListener("keyup",O),function(){document.removeEventListener("keyup",O)}}),[])},G=function(E){var O=E.ariaControlsSuffix,$=E.children,te=E.closeOnClickOutside,oe=E.closeOnEscape,le=E.onToggle,_e=r.useRef(),ge=r.useContext(C).direction===e.TextDirection.RightToLeft;return r.useEffect((function(){var ne=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=ne}}),[]),L((function(){_e.current&&oe&&le()})),v(te,_e,le),h((function(){var ne=_e.current;if(ne){var be=.75*document.body.clientHeight;ne.getBoundingClientRect().height>=be&&(ne.style.overflow="auto",ne.style.maxHeight="".concat(be,"px"))}}),[]),r.createElement("div",{"aria-modal":"true",className:b({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ge}),id:"rpv-core__modal-body-".concat(O),ref:_e,role:"dialog",tabIndex:-1},$)},z=function(E){var O=E.children;return r.createElement("div",{className:"rpv-core__modal-overlay"},O)};e.ToggleStatus=void 0,(T=e.ToggleStatus||(e.ToggleStatus={})).Close="Close",T.Open="Open",T.Toggle="Toggle";var U,ee=function(E){var O=r.useState(E),$=O[0],te=O[1];return{opened:$,toggle:function(oe){switch(oe){case e.ToggleStatus.Close:te(!1);break;case e.ToggleStatus.Open:te(!0);break;case e.ToggleStatus.Toggle:default:te((function(le){return!le}))}}}},fe=function(E){var O=E.content,$=E.isOpened,te=$!==void 0&&$,oe=E.target,le=ee(te),_e=le.opened,ge=le.toggle;return r.createElement(r.Fragment,null,oe&&oe(ge,_e),_e&&O(ge))};e.Position=void 0,(U=e.Position||(e.Position={})).TopLeft="TOP_LEFT",U.TopCenter="TOP_CENTER",U.TopRight="TOP_RIGHT",U.RightTop="RIGHT_TOP",U.RightCenter="RIGHT_CENTER",U.RightBottom="RIGHT_BOTTOM",U.BottomLeft="BOTTOM_LEFT",U.BottomCenter="BOTTOM_CENTER",U.BottomRight="BOTTOM_RIGHT",U.LeftTop="LEFT_TOP",U.LeftCenter="LEFT_CENTER",U.LeftBottom="LEFT_BOTTOM";var Se,xe,Ae,Me,Te,de,he,I,q=function(E,O,$,te,oe){h((function(){var le=O.current,_e=E.current,ge=$.current;if(_e&&le&&ge){var ne=ge.getBoundingClientRect(),be=(function(Oe,De,Ge,We){var Ve=De.getBoundingClientRect(),Mt=Oe.getBoundingClientRect(),mt=Mt.height,gt=Mt.width,Et=0,lt=0;switch(Ge){case e.Position.TopLeft:Et=Ve.top-mt,lt=Ve.left;break;case e.Position.TopCenter:Et=Ve.top-mt,lt=Ve.left+Ve.width/2-gt/2;break;case e.Position.TopRight:Et=Ve.top-mt,lt=Ve.left+Ve.width-gt;break;case e.Position.RightTop:Et=Ve.top,lt=Ve.left+Ve.width;break;case e.Position.RightCenter:Et=Ve.top+Ve.height/2-mt/2,lt=Ve.left+Ve.width;break;case e.Position.RightBottom:Et=Ve.top+Ve.height-mt,lt=Ve.left+Ve.width;break;case e.Position.BottomLeft:Et=Ve.top+Ve.height,lt=Ve.left;break;case e.Position.BottomCenter:Et=Ve.top+Ve.height,lt=Ve.left+Ve.width/2-gt/2;break;case e.Position.BottomRight:Et=Ve.top+Ve.height,lt=Ve.left+Ve.width-gt;break;case e.Position.LeftTop:Et=Ve.top,lt=Ve.left-gt;break;case e.Position.LeftCenter:Et=Ve.top+Ve.height/2-mt/2,lt=Ve.left-gt;break;case e.Position.LeftBottom:Et=Ve.top+Ve.height-mt,lt=Ve.left-gt}return{left:lt+(We.left||0),top:Et+(We.top||0)}})(_e,le,te,oe),ve=be.top,je=be.left;_e.style.top="".concat(ve-ne.top,"px"),_e.style.left="".concat(je-ne.left,"px")}}),[])},re=function(E){var O,$=E.customClassName,te=E.position;return r.createElement("div",{className:b((O={"rpv-core__arrow":!0,"rpv-core__arrow--tl":te===e.Position.TopLeft,"rpv-core__arrow--tc":te===e.Position.TopCenter,"rpv-core__arrow--tr":te===e.Position.TopRight,"rpv-core__arrow--rt":te===e.Position.RightTop,"rpv-core__arrow--rc":te===e.Position.RightCenter,"rpv-core__arrow--rb":te===e.Position.RightBottom,"rpv-core__arrow--bl":te===e.Position.BottomLeft,"rpv-core__arrow--bc":te===e.Position.BottomCenter,"rpv-core__arrow--br":te===e.Position.BottomRight,"rpv-core__arrow--lt":te===e.Position.LeftTop,"rpv-core__arrow--lc":te===e.Position.LeftCenter,"rpv-core__arrow--lb":te===e.Position.LeftBottom},O["".concat($)]=$!=="",O))})},ie=function(E){var O=E.ariaControlsSuffix,$=E.children,te=E.closeOnClickOutside,oe=E.offset,le=E.position,_e=E.targetRef,ge=E.onClose,ne=r.useRef(),be=r.useRef(),ve=r.useRef(),je=r.useContext(C).direction===e.TextDirection.RightToLeft;v(te,ne,ge),q(ne,_e,ve,le,oe),h((function(){var De=be.current;if(De){var Ge=.75*document.body.clientHeight;De.getBoundingClientRect().height>=Ge&&(De.style.overflow="auto",De.style.maxHeight="".concat(Ge,"px"))}}),[]);var Oe="rpv-core__popover-body-inner-".concat(O);return r.createElement(r.Fragment,null,r.createElement("div",{ref:ve,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{"aria-describedby":Oe,className:b({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":je}),id:"rpv-core__popover-body-".concat(O),ref:ne,role:"dialog",tabIndex:-1},r.createElement(re,{customClassName:"rpv-core__popover-body-arrow",position:le}),r.createElement("div",{id:Oe,ref:be},$)))},ue=function(E){var O=E.closeOnEscape,$=E.onClose,te=r.useRef();return L((function(){te.current&&O&&$()})),r.createElement("div",{className:"rpv-core__popover-overlay",ref:te})},Ce=function(E){var O=E.ariaControlsSuffix,$=E.children,te=E.contentRef,oe=E.offset,le=E.position,_e=E.targetRef,ge=r.useRef(),ne=r.useContext(C).direction===e.TextDirection.RightToLeft;return q(te,_e,ge,le,oe),r.createElement(r.Fragment,null,r.createElement("div",{ref:ge,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:b({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":ne}),id:"rpv-core__tooltip-body-".concat(O),ref:te,role:"tooltip"},r.createElement(re,{customClassName:"rpv-core__tooltip-body-arrow",position:le}),r.createElement("div",{className:"rpv-core__tooltip-body-content"},$)))};e.FullScreenMode=void 0,(Se=e.FullScreenMode||(e.FullScreenMode={})).Normal="Normal",Se.Entering="Entering",Se.Entered="Entered",Se.EnteredCompletely="EnteredCompletely",Se.Exitting="Exitting",Se.Exited="Exited",e.LayerRenderStatus=void 0,(xe=e.LayerRenderStatus||(e.LayerRenderStatus={}))[xe.PreRender=0]="PreRender",xe[xe.DidRender=1]="DidRender",e.PageMode=void 0,(Ae=e.PageMode||(e.PageMode={})).Attachments="UseAttachments",Ae.Bookmarks="UseOutlines",Ae.ContentGroup="UseOC",Ae.Default="UserNone",Ae.FullScreen="FullScreen",Ae.Thumbnails="UseThumbs",e.PasswordStatus=void 0,(Me=e.PasswordStatus||(e.PasswordStatus={})).RequiredPassword="RequiredPassword",Me.WrongPassword="WrongPassword",e.RotateDirection=void 0,(Te=e.RotateDirection||(e.RotateDirection={})).Backward="Backward",Te.Forward="Forward",e.ScrollMode=void 0,(de=e.ScrollMode||(e.ScrollMode={})).Page="Page",de.Horizontal="Horizontal",de.Vertical="Vertical",de.Wrapped="Wrapped",e.SpecialZoomLevel=void 0,(he=e.SpecialZoomLevel||(e.SpecialZoomLevel={})).ActualSize="ActualSize",he.PageFit="PageFit",he.PageWidth="PageWidth",e.ViewMode=void 0,(I=e.ViewMode||(e.ViewMode={})).DualPage="DualPage",I.DualPageWithCover="DualPageWithCover",I.SinglePage="SinglePage";var Pe,se=function(E,O){return E.reduce((function($,te,oe){return oe%O?$[$.length-1].push(te):$.push([te]),$}),[])},Be=function(E,O){switch(O[1].name){case"XYZ":return{bottomOffset:function($,te){return O[3]===null?te:O[3]},leftOffset:function($,te){return O[2]===null?0:O[2]},pageIndex:E,scaleTo:O[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:E,scaleTo:e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:O[2],leftOffset:0,pageIndex:E,scaleTo:e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:E,scaleTo:1}}},Ie=new Map,it=new Map,Ye=function(E,O){return"".concat(E.loadingTask.docId,"___").concat(O.num,"R").concat(O.gen===0?"":O.gen)},pt=function(E,O,$){Ie.set(Ye(E,O),$)},ze=function(E,O){if(!E)return Promise.reject("The document is not loaded yet");var $="".concat(E.loadingTask.docId,"___").concat(O),te=it.get($);return te?Promise.resolve(te):new Promise((function(oe,le){E.getPage(O+1).then((function(_e){it.set($,_e),_e.ref&&pt(E,_e.ref,O),oe(_e)}))}))},$e=function(E,O){return new Promise((function($){new Promise((function(te){typeof O=="string"?E.getDestination(O).then((function(oe){te(oe)})):te(O)})).then((function(te){if(typeof te[0]=="object"&&te[0]!==null){var oe=te[0],le=(function(ge,ne){var be=Ye(ge,ne);return Ie.has(be)?Ie.get(be):null})(E,oe);le===null?E.getPageIndex(oe).then((function(ge){pt(E,oe,ge),$e(E,O).then((function(ne){return $(ne)}))})):$(Be(le,te))}else{var _e=Be(te[0],te);$(_e)}}))}))};(function(E){E[E.Solid=1]="Solid",E[E.Dashed=2]="Dashed",E[E.Beveled=3]="Beveled",E[E.Inset=4]="Inset",E[E.Underline=5]="Underline"})(Pe||(Pe={}));var at,yt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Le=function(E,O,$,te){var oe=parseInt(E,10);return oe>=O&&oe<=$?oe:te},pe=function(E){return E.contentsObj?E.contentsObj.str:E.contents||""},me=function(E){return E.titleObj?E.titleObj.str:E.title||""},Ke=function(E){var O=E.annotation,$=r.useContext(C).direction,te=me(O),oe=pe(O),le=$===e.TextDirection.RightToLeft,_e=r.useRef(),ge="";if(O.modificationDate){var ne=(function(be){var ve=yt.exec(be);if(!ve)return null;var je=parseInt(ve[1],10),Oe=Le(ve[2],1,12,1)-1,De=Le(ve[3],1,31,1),Ge=Le(ve[4],0,23,0),We=Le(ve[5],0,59,0),Ve=Le(ve[6],0,59,0),Mt=ve[7]||"Z",mt=Le(ve[8],0,23,0),gt=Le(ve[9],0,59,0);switch(Mt){case"-":Ge+=mt,We+=gt;break;case"+":Ge-=mt,We-=gt}return new Date(Date.UTC(je,Oe,De,Ge,We,Ve))})(O.modificationDate);ge=ne?"".concat(ne.toLocaleDateString(),", ").concat(ne.toLocaleTimeString()):""}return r.useLayoutEffect((function(){if(_e.current){var be=document.querySelector('[data-annotation-id="'.concat(O.id,'"]'));if(be){var ve=be;return ve.style.zIndex+=1,function(){ve.style.zIndex="".concat(parseInt(ve.style.zIndex,10)-1)}}}}),[]),r.createElement("div",{ref:_e,className:b({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":le}),style:{top:O.annotationType===e.AnnotationType.Popup?"":"100%"}},te&&r.createElement(r.Fragment,null,r.createElement("div",{className:b({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!le,"rpv-core__annotation-popup-title--rtl":le})},te),r.createElement("div",{className:"rpv-core__annotation-popup-date"},ge)),oe&&r.createElement("div",{className:"rpv-core__annotation-popup-content"},oe.split("\n").map((function(be,ve){return r.createElement(r.Fragment,{key:ve},be,r.createElement("br",null))}))))};(function(E){E.Click="Click",E.Hover="Hover"})(at||(at={}));var Je,st=function(E){var O,$=E.annotation,te=E.children,oe=E.ignoreBorder,le=E.hasPopup,_e=E.isRenderable,ge=E.page,ne=E.viewport,be=$.rect,ve=(function(){var bt=ee(!1),Ot=bt.opened,Dt=bt.toggle,Nt=r.useState(at.Hover),jt=Nt[0],Ht=Nt[1];return{opened:Ot,closeOnHover:function(){jt===at.Hover&&Dt(e.ToggleStatus.Close)},openOnHover:function(){jt===at.Hover&&Dt(e.ToggleStatus.Open)},toggleOnClick:function(){switch(jt){case at.Click:Ot&&Ht(at.Hover),Dt(e.ToggleStatus.Toggle);break;case at.Hover:Ht(at.Click),Dt(e.ToggleStatus.Open)}}}})(),je=ve.closeOnHover,Oe=ve.opened,De=ve.openOnHover,Ge=ve.toggleOnClick,We=(O=[be[0],ge.view[3]+ge.view[1]-be[1],be[2],ge.view[3]+ge.view[1]-be[3]],[Math.min(O[0],O[2]),Math.min(O[1],O[3]),Math.max(O[0],O[2]),Math.max(O[1],O[3])]),Ve=be[2]-be[0],Mt=be[3]-be[1],mt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!oe&&$.borderStyle.width>0){switch($.borderStyle.style){case Pe.Dashed:mt.borderStyle="dashed";break;case Pe.Solid:mt.borderStyle="solid";break;case Pe.Underline:mt=Object.assign({borderBottomStyle:"solid"},mt);case Pe.Beveled:case Pe.Inset:}var gt=$.borderStyle.width;mt.borderWidth="".concat(gt,"px"),$.borderStyle.style!==Pe.Underline&&(Ve-=2*gt,Mt-=2*gt);var Et=$.borderStyle,lt=Et.horizontalCornerRadius,St=Et.verticalCornerRadius;(lt>0||St>0)&&(mt.borderRadius="".concat(lt,"px / ").concat(St,"px")),$.color?mt.borderColor="rgb(".concat(0|$.color[0],", ").concat(0|$.color[1],", ").concat(0|$.color[2],")"):mt.borderWidth="0"}return r.createElement(r.Fragment,null,_e&&te({popup:{opened:Oe,closeOnHover:je,openOnHover:De,toggleOnClick:Ge},slot:{attrs:{style:Object.assign({height:"".concat(Mt,"px"),left:"".concat(We[0],"px"),top:"".concat(We[1],"px"),transform:"matrix(".concat(ne.transform.join(","),")"),transformOrigin:"-".concat(We[0],"px -").concat(We[1],"px"),width:"".concat(Ve,"px")},mt)},children:r.createElement(r.Fragment,null,le&&Oe&&r.createElement(Ke,{annotation:$}))}}))},Q=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e);return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":O.id,onClick:ne.popup.toggleOnClick,onMouseEnter:ne.popup.openOnHover,onMouseLeave:ne.popup.closeOnHover}),ne.slot.children)}))},Re=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e),ne=O.rect,be=ne[2]-ne[0],ve=ne[3]-ne[1],je=O.borderStyle.width;return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(Oe){return r.createElement("div",A({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":O.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),r.createElement("svg",{height:"".concat(ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ve),width:"".concat(be,"px")},r.createElement("circle",{cy:ve/2,fill:"none",rx:be/2-je/2,ry:ve/2-je/2,stroke:"transparent",strokeWidth:je||1})),Oe.slot.children)}))},He=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=me(O),le=pe(O),_e=!(O.hasPopup!==!1||!oe&&!le),ge=function(){var ne,be,ve,je,Oe=O.file;Oe&&(ne=Oe.filename,be=Oe.content,ve=typeof be=="string"?"":URL.createObjectURL(new Blob([be],{type:""})),(je=document.createElement("a")).style.display="none",je.href=ve||ne,je.setAttribute("download",(function(De){var Ge=De.split("/").pop();return Ge?Ge.split("#")[0].split("?")[0]:De})(ne)),document.body.appendChild(je),je.click(),document.body.removeChild(je),ve&&URL.revokeObjectURL(ve))};return r.createElement(st,{annotation:O,hasPopup:_e,ignoreBorder:!0,isRenderable:!0,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":O.id,onClick:ne.popup.toggleOnClick,onDoubleClick:ge,onMouseEnter:ne.popup.openOnHover,onMouseLeave:ne.popup.closeOnHover}),ne.slot.children)}))},Qe=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e);return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":O.id,onClick:ne.popup.toggleOnClick,onMouseEnter:ne.popup.openOnHover,onMouseLeave:ne.popup.closeOnHover}),ne.slot.children)}))},tt=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=me(O),le=pe(O),_e=!(!oe&&!le),ge=!O.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(O.parentType)!==-1;return h((function(){if(O.parentId){var ne=document.querySelector('[data-annotation-id="'.concat(O.parentId,'"]')),be=document.querySelector('[data-annotation-id="'.concat(O.id,'"]'));if(ne&&be){var ve=parseFloat(ne.style.left),je=parseFloat(ne.style.top)+parseFloat(ne.style.height);be.style.left="".concat(ve,"px"),be.style.top="".concat(je,"px"),be.style.transformOrigin="-".concat(ve,"px -").concat(je,"px")}}}),[]),r.createElement(st,{annotation:O,hasPopup:ge,ignoreBorder:!1,isRenderable:_e,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":O.id}),r.createElement(Ke,{annotation:O}))}))},Xe=function(E){var O=E.annotation,$=E.childAnnotation,te=E.page,oe=E.viewport,le=O.hasPopup===!1,_e=me(O),ge=pe(O),ne=!!(O.hasPopup||_e||ge);if(O.quadPoints&&O.quadPoints.length>0){var be=O.quadPoints.map((function(ve){return Object.assign({},O,{rect:[ve[2].x,ve[2].y,ve[1].x,ve[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,be.map((function(ve,je){return r.createElement(Xe,{key:je,annotation:ve,childAnnotation:$,page:te,viewport:oe})})))}return r.createElement(st,{annotation:O,hasPopup:le,ignoreBorder:!0,isRenderable:ne,page:te,viewport:oe},(function(ve){return r.createElement(r.Fragment,null,r.createElement("div",A({},ve.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":O.id,onClick:ve.popup.toggleOnClick,onMouseEnter:ve.popup.openOnHover,onMouseLeave:ve.popup.closeOnHover}),ve.slot.children),$&&$.annotationType===e.AnnotationType.Popup&&ve.popup.opened&&r.createElement(tt,{annotation:$,page:te,viewport:oe}))}))},Y=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e),ne=O.rect,be=ne[2]-ne[0],ve=ne[3]-ne[1],je=O.borderStyle.width;return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(Oe){return r.createElement("div",A({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":O.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),O.inkLists&&O.inkLists.length&&r.createElement("svg",{height:"".concat(ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ve),width:"".concat(be,"px")},O.inkLists.map((function(De,Ge){return r.createElement("polyline",{key:Ge,fill:"none",stroke:"transparent",strokeWidth:je||1,points:De.map((function(We){return"".concat(We.x-ne[0],",").concat(ne[3]-We.y)})).join(" ")})}))),Oe.slot.children)}))},K=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e),ne=O.rect,be=ne[2]-ne[0],ve=ne[3]-ne[1],je=O.borderStyle.width;return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(Oe){return r.createElement("div",A({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":O.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),r.createElement("svg",{height:"".concat(ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ve),width:"".concat(be,"px")},r.createElement("line",{stroke:"transparent",strokeWidth:je||1,x1:ne[2]-O.lineCoordinates[0],x2:ne[2]-O.lineCoordinates[2],y1:ne[3]-O.lineCoordinates[1],y2:ne[3]-O.lineCoordinates[3]})),Oe.slot.children)}))},ae=/^([^\w]*)(javascript|data|vbscript)/im,we=/&#(\w+)(^\w|;)?/g,ke=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Fe=/^([^:]+):/gm,Ne=function(E,O){var $,te=($=E||"",$.replace(we,(function(ge,ne){return String.fromCharCode(ne)}))).replace(ke,"").trim();if(!te)return O;var oe=te[0];if(oe==="."||oe==="/")return te;var le=te.match(Fe);if(!le)return te;var _e=le[0];return ae.test(_e)?O:te},et=function(E){var O,$=E.annotation,te=E.annotationContainerRef,oe=E.doc,le=E.outlines,_e=E.page,ge=E.pageIndex,ne=E.scale,be=E.viewport,ve=E.onExecuteNamedAction,je=E.onJumpFromLinkAnnotation,Oe=E.onJumpToDest,De=r.useRef(),Ge=le&&le.length&&$.dest&&typeof $.dest=="string"?(O=le.find((function(mt){return mt.dest===$.dest})))===null||O===void 0?void 0:O.title:"",We=!!($.url||$.dest||$.action||$.unsafeUrl),Ve={};if($.url||$.unsafeUrl){var Mt=Ne($.url||$.unsafeUrl,"");Mt?Ve={"data-target":"external",href:Mt,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":"",title:Mt}:We=!1}else Ve={href:"","data-annotation-link":$.id,onClick:function(mt){mt.preventDefault(),$.action?ve($.action):$e(oe,$.dest).then((function(gt){var Et=De.current,lt=te.current;if(Et&&lt){var St=Et.getBoundingClientRect();lt.style.setProperty("height","100%"),lt.style.setProperty("width","100%");var bt=lt.getBoundingClientRect();lt.style.removeProperty("height"),lt.style.removeProperty("width");var Ot=(St.left-bt.left)/ne,Dt=(bt.bottom-St.bottom+St.height)/ne;je({bottomOffset:Dt,label:Ge,leftOffset:Ot,pageIndex:ge})}Oe(gt)}))}};return Ge&&(Ve=Object.assign({},Ve,{title:Ge,"aria-label":Ge})),r.createElement(st,{annotation:$,hasPopup:!1,ignoreBorder:!1,isRenderable:We,page:_e,viewport:be},(function(mt){return r.createElement("div",A({},mt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":$.id,"data-testid":"core__annotation--link-".concat($.id)}),r.createElement("a",A({ref:De},Ve)))}))},Ze=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e),ne=O.rect,be=ne[2]-ne[0],ve=ne[3]-ne[1],je=O.borderStyle.width;return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(Oe){return r.createElement("div",A({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":O.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),O.vertices&&O.vertices.length&&r.createElement("svg",{height:"".concat(ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ve),width:"".concat(be,"px")},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:je||1,points:O.vertices.map((function(De){return"".concat(De.x-ne[0],",").concat(ne[3]-De.y)})).join(" ")})),Oe.slot.children)}))},Ue=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e),ne=O.rect,be=ne[2]-ne[0],ve=ne[3]-ne[1],je=O.borderStyle.width;return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(Oe){return r.createElement("div",A({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":O.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),O.vertices&&O.vertices.length&&r.createElement("svg",{height:"".concat(ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ve),width:"".concat(be,"px")},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:je||1,points:O.vertices.map((function(De){return"".concat(De.x-ne[0],",").concat(ne[3]-De.y)})).join(" ")})),Oe.slot.children)}))},xt=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e),ne=O.rect,be=ne[2]-ne[0],ve=ne[3]-ne[1],je=O.borderStyle.width;return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(Oe){return r.createElement("div",A({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":O.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),r.createElement("svg",{height:"".concat(ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(be," ").concat(ve),width:"".concat(be,"px")},r.createElement("rect",{height:ve-je,fill:"none",stroke:"transparent",strokeWidth:je||1,x:je/2,y:je/2,width:be-je})),Oe.slot.children)}))},nt=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e);return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":O.id,onClick:ne.popup.toggleOnClick,onMouseEnter:ne.popup.openOnHover,onMouseLeave:ne.popup.closeOnHover}),ne.slot.children)}))},ot=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e);return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":O.id,onClick:ne.popup.toggleOnClick,onMouseEnter:ne.popup.openOnHover,onMouseLeave:ne.popup.closeOnHover}),ne.slot.children)}))},ft=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e);return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":O.id,onClick:ne.popup.toggleOnClick,onMouseEnter:ne.popup.openOnHover,onMouseLeave:ne.popup.closeOnHover}),ne.slot.children)}))},At=function(){return r.createElement(d,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Tt=function(){return r.createElement(d,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},zt=function(){return r.createElement(d,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},an=function(){return r.createElement(d,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},Jt=function(){return r.createElement(d,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},gn=function(){return r.createElement(d,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},bn=function(E){var O=E.annotation,$=E.childAnnotation,te=E.page,oe=E.viewport,le=O.hasPopup===!1,_e=me(O),ge=pe(O),ne=!!(O.hasPopup||_e||ge),be=O.name?O.name.toLowerCase():"";return r.createElement(st,{annotation:O,hasPopup:le,ignoreBorder:!1,isRenderable:ne,page:te,viewport:oe},(function(ve){return r.createElement(r.Fragment,null,r.createElement("div",A({},ve.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":O.id,onClick:ve.popup.toggleOnClick,onMouseEnter:ve.popup.openOnHover,onMouseLeave:ve.popup.closeOnHover}),be&&r.createElement("div",{className:"rpv-core__annotation-text-icon"},be==="check"&&r.createElement(p,null),be==="comment"&&r.createElement(At,null),be==="help"&&r.createElement(Tt,null),be==="insert"&&r.createElement(gn,null),be==="key"&&r.createElement(zt,null),be==="note"&&r.createElement(an,null),(be==="newparagraph"||be==="paragraph")&&r.createElement(Jt,null)),ve.slot.children),$&&$.annotationType===e.AnnotationType.Popup&&ve.popup.opened&&r.createElement(tt,{annotation:$,page:te,viewport:oe}))}))},_n=function(E){var O=E.annotation,$=E.page,te=E.viewport,oe=O.hasPopup===!1,le=me(O),_e=pe(O),ge=!!(O.hasPopup||le||_e);return r.createElement(st,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:ge,page:$,viewport:te},(function(ne){return r.createElement("div",A({},ne.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":O.id,onClick:ne.popup.toggleOnClick,onMouseEnter:ne.popup.openOnHover,onMouseLeave:ne.popup.closeOnHover}),ne.slot.children)}))},Yn=function(E){var O=E.annotations,$=E.doc,te=E.outlines,oe=E.page,le=E.pageIndex,_e=E.plugins,ge=E.rotation,ne=E.scale,be=E.onExecuteNamedAction,ve=E.onJumpFromLinkAnnotation,je=E.onJumpToDest,Oe=r.useRef(),De=oe.getViewport({rotation:ge,scale:ne}).clone({dontFlip:!0}),Ge=O.filter((function(We){return!We.parentId}));return h((function(){var We=Oe.current;We&&_e.forEach((function(Ve){Ve.onAnnotationLayerRender&&Ve.onAnnotationLayerRender({annotations:Ge,container:We,pageIndex:le,rotation:ge,scale:ne})}))}),[]),r.createElement("div",{ref:Oe,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(le)},Ge.map((function(We){var Ve=O.find((function(Mt){return Mt.parentId===We.id}));switch(We.annotationType){case e.AnnotationType.Caret:return r.createElement(Q,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Circle:return r.createElement(Re,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.FileAttachment:return r.createElement(He,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.FreeText:return r.createElement(Qe,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Highlight:return r.createElement(Xe,{key:We.id,annotation:We,childAnnotation:Ve,page:oe,viewport:De});case e.AnnotationType.Ink:return r.createElement(Y,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Line:return r.createElement(K,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Link:return r.createElement(et,{key:We.id,annotation:We,annotationContainerRef:Oe,doc:$,outlines:te,page:oe,pageIndex:le,scale:ne,viewport:De,onExecuteNamedAction:be,onJumpFromLinkAnnotation:ve,onJumpToDest:je});case e.AnnotationType.Polygon:return r.createElement(Ze,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Polyline:return r.createElement(Ue,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Popup:return r.createElement(tt,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Square:return r.createElement(xt,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Squiggly:return r.createElement(nt,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Stamp:return r.createElement(ot,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.StrikeOut:return r.createElement(ft,{key:We.id,annotation:We,page:oe,viewport:De});case e.AnnotationType.Text:return r.createElement(bn,{key:We.id,annotation:We,childAnnotation:Ve,page:oe,viewport:De});case e.AnnotationType.Underline:return r.createElement(_n,{key:We.id,annotation:We,page:oe,viewport:De});default:return r.createElement(r.Fragment,{key:We.id})}})))},ca=function(E){var O=E.page,$=E.renderAnnotations,te=P(),oe=r.useState({loading:!0,annotations:[]}),le=oe[0],_e=oe[1];return r.useEffect((function(){O.getAnnotations({intent:"display"}).then((function(ge){te.current&&_e({loading:!1,annotations:ge})}))}),[]),le.loading?r.createElement(r.Fragment,null):$(le.annotations)},ua=function(E){var O=E.doc,$=E.outlines,te=E.page,oe=E.pageIndex,le=E.plugins,_e=E.rotation,ge=E.scale,ne=E.onExecuteNamedAction,be=E.onJumpFromLinkAnnotation,ve=E.onJumpToDest;return r.createElement(ca,{page:te,renderAnnotations:function(je){return r.createElement(Yn,{annotations:je,doc:O,outlines:$,page:te,pageIndex:oe,plugins:le,rotation:_e,scale:ge,onExecuteNamedAction:ne,onJumpFromLinkAnnotation:be,onJumpToDest:ve})}})},Zn=function(E,O){var $=E%O;return $===0?E:Math.floor(E-$)},da=function(E){var O=E.canvasLayerRef,$=E.height,te=E.page,oe=E.pageIndex,le=E.plugins,_e=E.rotation,ge=E.scale,ne=E.width,be=E.onRenderCanvasCompleted,ve=r.useRef();return h((function(){var je=ve.current;je&&je.cancel();var Oe=O.current;Oe.removeAttribute("data-testid"),le.forEach((function(bt){bt.onCanvasLayerRender&&bt.onCanvasLayerRender({ele:Oe,pageIndex:oe,rotation:_e,scale:ge,status:e.LayerRenderStatus.PreRender})}));var De=te.getViewport({rotation:_e,scale:ge}),Ge=window.devicePixelRatio||1,We=Math.sqrt(16777216/(De.width*De.height)),Ve=Ge>We;Ve?Oe.style.transform="scale(1, 1)":Oe.style.removeProperty("transform");var Mt=Math.min(We,Ge),mt=(function(bt,Ot){var Dt,Nt;if(Math.floor(bt)===bt)return[bt,1];var jt=1/bt;if(jt>Ot)return[1,Ot];if(Math.floor(jt)===jt)return[1,jt];for(var Ht=bt>1?jt:bt,nn=0,Yt=1,rn=1,Qt=1;;){var en=nn+rn,tn=Yt+Qt;if(tn>Ot)break;Ht<=en/tn?(rn=(Dt=[en,tn])[0],Qt=Dt[1]):(nn=(Nt=[en,tn])[0],Yt=Nt[1])}return Ht<(nn/Yt+rn/Qt)/2?Ht===bt?[nn,Yt]:[Yt,nn]:Ht===bt?[rn,Qt]:[Qt,rn]})(Mt,8),gt=mt[0],Et=mt[1];Oe.width=Zn(De.width*Mt,gt),Oe.height=Zn(De.height*Mt,gt),Oe.style.width="".concat(Zn(De.width,Et),"px"),Oe.style.height="".concat(Zn(De.height,Et),"px"),Oe.hidden=!0;var lt=Oe.getContext("2d",{alpha:!1}),St=Ve||Ge!==1?[Mt,0,0,Mt,0,0]:null;return ve.current=te.render({canvasContext:lt,transform:St,viewport:De}),ve.current.promise.then((function(){Oe.hidden=!1,Oe.setAttribute("data-testid","core__canvas-layer-".concat(oe)),le.forEach((function(bt){bt.onCanvasLayerRender&&bt.onCanvasLayerRender({ele:Oe,pageIndex:oe,rotation:_e,scale:ge,status:e.LayerRenderStatus.DidRender})})),be()}),(function(){be()})),function(){Oe&&(Oe.width=0,Oe.height=0)}}),[]),r.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat($,"px"),width:"".concat(ne,"px")}},r.createElement("canvas",{ref:O}))},ha=function(E){var O=E.height,$=E.page,te=E.rotation,oe=E.scale,le=E.width,_e=r.useRef();return h((function(){var ge=_e.current,ne=$.getViewport({rotation:te,scale:oe});$.getOperatorList().then((function(be){(function(){var ve=_e.current;ve&&(ve.innerHTML="")})(),new j.SVGGraphics($.commonObjs,$.objs).getSVG(be,ne).then((function(ve){ve.style.height="".concat(O,"px"),ve.style.width="".concat(le,"px"),ge.appendChild(ve)}))}))}),[]),r.createElement("div",{className:"rpv-core__svg-layer",ref:_e})},fa=function(E){var O=E.containerRef,$=E.page,te=E.pageIndex,oe=E.plugins,le=E.rotation,_e=E.scale,ge=E.onRenderTextCompleted,ne=r.useRef(),be=function(){var ve=O.current;ve&&([].slice.call(ve.querySelectorAll(".rpv-core__text-layer-text")).forEach((function(je){return ve.removeChild(je)})),[].slice.call(ve.querySelectorAll('br[role="presentation"]')).forEach((function(je){return ve.removeChild(je)})))};return h((function(){var ve=ne.current;ve&&ve.cancel();var je=O.current;if(je){je.removeAttribute("data-testid");var Oe=$.getViewport({rotation:le,scale:_e});return oe.forEach((function(De){De.onTextLayerRender&&De.onTextLayerRender({ele:je,pageIndex:te,scale:_e,status:e.LayerRenderStatus.PreRender})})),$.getTextContent().then((function(De){be(),ne.current=j.renderTextLayer({container:je,textContent:De,textContentSource:De,viewport:Oe}),ne.current.promise.then((function(){je.setAttribute("data-testid","core__text-layer-".concat(te)),[].slice.call(je.children).forEach((function(Ge){Ge.classList.contains("rpv-core__text-layer-text--not")||Ge.classList.add("rpv-core__text-layer-text")})),oe.forEach((function(Ge){Ge.onTextLayerRender&&Ge.onTextLayerRender({ele:je,pageIndex:te,scale:_e,status:e.LayerRenderStatus.DidRender})})),ge()}),(function(){je.removeAttribute("data-testid"),ge()}))})),function(){var De;be(),(De=ne.current)===null||De===void 0||De.cancel()}}}),[]),r.createElement("div",{className:"rpv-core__text-layer",ref:O})},pa=function(E){var O=E.doc,$=E.measureRef,te=E.outlines,oe=E.pageIndex,le=E.pageRotation,_e=E.pageSize,ge=E.plugins,ne=E.renderPage,be=E.renderQueueKey,ve=E.rotation,je=E.scale,Oe=E.shouldRender,De=E.viewMode,Ge=E.onExecuteNamedAction,We=E.onJumpFromLinkAnnotation,Ve=E.onJumpToDest,Mt=E.onRenderCompleted,mt=E.onRotatePage,gt=P(),Et=r.useState(null),lt=Et[0],St=Et[1],bt=r.useState(!1),Ot=bt[0],Dt=bt[1],Nt=r.useState(!1),jt=Nt[0],Ht=Nt[1],nn=r.useRef(),Yt=r.useRef(),rn=Math.abs(ve+le)%180==0,Qt=_e.pageWidth*je,en=_e.pageHeight*je,tn=rn?Qt:en,$t=rn?en:Qt,dn=(_e.rotation+ve+le)%360,xn=r.useRef(0),vn=ne||function(ln){return r.createElement(r.Fragment,null,ln.canvasLayer.children,ln.textLayer.children,ln.annotationLayer.children)};return r.useEffect((function(){St(null),Dt(!1),Ht(!1)}),[le,ve,je]),r.useEffect((function(){Oe&&gt.current&&!lt&&ze(O,oe).then((function(ln){gt.current&&(xn.current=be,St(ln))}))}),[Oe,lt]),r.useEffect((function(){Ot&&jt&&(be!==xn.current?(St(null),Dt(!1),Ht(!1)):Mt(oe))}),[Ot,jt]),r.createElement("div",{className:b({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":De===e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":De===e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":De===e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(oe),ref:$,style:{height:"".concat($t,"px"),width:"".concat(tn,"px")}},lt?r.createElement(r.Fragment,null,vn({annotationLayer:{attrs:{},children:r.createElement(ua,{doc:O,outlines:te,page:lt,pageIndex:oe,plugins:ge,rotation:dn,scale:je,onExecuteNamedAction:Ge,onJumpFromLinkAnnotation:We,onJumpToDest:Ve})},canvasLayer:{attrs:{},children:r.createElement(da,{canvasLayerRef:nn,height:$t,page:lt,pageIndex:oe,plugins:ge,rotation:dn,scale:je,width:tn,onRenderCanvasCompleted:function(){gt.current&&Dt(!0)}})},canvasLayerRendered:Ot,doc:O,height:$t,pageIndex:oe,rotation:dn,scale:je,svgLayer:{attrs:{},children:r.createElement(ha,{height:$t,page:lt,rotation:dn,scale:je,width:tn})},textLayer:{attrs:{},children:r.createElement(fa,{containerRef:Yt,page:lt,pageIndex:oe,plugins:ge,rotation:dn,scale:je,onRenderTextCompleted:function(){gt.current&&Ht(!0)}})},textLayerRendered:jt,width:tn,markRendered:Mt,onRotatePage:function(ln){return mt(oe,ln)}}),ge.map((function(ln,hn){return ln.renderPageLayer?r.createElement(r.Fragment,{key:hn},ln.renderPageLayer({canvasLayerRef:nn,canvasLayerRendered:Ot,doc:O,height:$t,pageIndex:oe,rotation:dn,scale:je,textLayerRef:Yt,textLayerRendered:jt,width:tn})):r.createElement(r.Fragment,{key:hn})}))):r.createElement(M,{testId:"core__page-layer-loading-".concat(oe)}))},ma=function(E,O){var $=O.rect;return E.height!==$.height||E.width!==$.width?$:E};(function(E){E.Horizontal="Horizontal",E.Vertical="Vertical",E.Both="Both"})(Je||(Je={}));var ga=function(E){return 1-Math.pow(1-E,4)},Jn=1e-4,ui={left:0,top:0},di={capture:!1,passive:!0},va=function(E){var O=E.elementRef,$=E.enableSmoothScroll,te=E.isRtl,oe=E.scrollDirection,le=E.onSmoothScroll,_e=r.useState(ui),ge=_e[0],ne=_e[1],be=r.useState(O.current),ve=be[0],je=be[1],Oe=te?-1:1,De=r.useRef(oe);De.current=oe;var Ge=r.useRef(ui),We=r.useRef(!0),Ve=r.useCallback((function(){We.current=!0,$&&ne(Ge.current),le(!1)}),[]),Mt=r.useCallback((function(){if(ve){switch(De.current){case Je.Horizontal:Ge.current={left:Oe*ve.scrollLeft,top:0};break;case Je.Both:Ge.current={left:Oe*ve.scrollLeft,top:ve.scrollTop};break;case Je.Vertical:default:Ge.current={left:0,top:ve.scrollTop}}$&&!We.current||ne(Ge.current)}}),[ve]);h((function(){je(O.current)})),h((function(){if(ve)return ve.addEventListener("scroll",Mt,di),function(){ve.removeEventListener("scroll",Mt,di)}}),[ve]);var mt=r.useCallback((function(gt,Et){var lt=O.current;if(!lt)return Promise.resolve();var St={left:0,top:0};switch(De.current){case Je.Horizontal:St.left=Oe*gt.left;break;case Je.Both:St.left=Oe*gt.left,St.top=gt.top;break;case Je.Vertical:default:St.top=gt.top}return Et?(We.current=!1,le(!0),new Promise((function(bt,Ot){(function(Dt,Nt,jt,Ht,nn,Yt){nn===void 0&&(nn=function(hn){return hn}),Yt===void 0&&(Yt=function(){});var rn=0,Qt=0,en=!1;switch(Nt){case Je.Horizontal:Qt=Dt.scrollLeft,rn=0;case Je.Both:Qt=Dt.scrollLeft,rn=Dt.scrollTop;break;case Je.Vertical:default:Qt=0,rn=Dt.scrollTop}var tn=function(){en||(en=!0,Dt.scrollLeft=jt.left,Dt.scrollTop=jt.top,Yt())};if(Math.abs(rn-jt.top)<=Jn&&Nt===Je.Vertical)tn();else if(Math.abs(Qt-jt.left)<=Jn&&Nt===Je.Horizontal)tn();else{var $t,dn=-1,xn=Qt-jt.left,vn=rn-jt.top,ln=function(hn){dn===-1&&(dn=hn);var En=hn-dn,_t=Math.min(En/Ht,1),vt=nn(_t),ct={left:Qt-xn*vt,top:rn-vn*vt};switch(Nt){case Je.Horizontal:Dt.scrollLeft=ct.left;break;case Je.Both:Dt.scrollLeft=ct.left,Dt.scrollTop=ct.top;break;case Je.Vertical:default:Dt.scrollTop=ct.top}Math.abs(ct.top-jt.top)<=Jn&&Math.abs(ct.left-jt.left)<=Jn&&!en&&(window.cancelAnimationFrame($t),tn()),En<Ht?$t=window.requestAnimationFrame(ln):window.cancelAnimationFrame($t)};$t=window.requestAnimationFrame(ln)}})(lt,De.current,St,400,ga,(function(){Ve(),bt()}))}))):new Promise((function(bt,Ot){switch(De.current){case Je.Horizontal:lt.scrollLeft=St.left;break;case Je.Both:lt.scrollLeft=St.left,lt.scrollTop=St.top;break;case Je.Vertical:default:lt.scrollTop=St.top}bt()}))}),[O]);return{scrollOffset:ge,scrollTo:mt}},Bn=function(E,O,$){return Math.max(E,Math.min($,O))},ba=function(E,O){if(O!==e.ViewMode.DualPageWithCover)return 0;if(!(function(oe){var le=oe.length;if(le===1)return!1;for(var _e=1;_e<le;_e++)if(oe[_e].height!==oe[0].height||oe[_e].width!==oe[0].width)return!0;return!1})(E))return 2*E[0].width;var $=se(E.slice(1),2).map((function(oe){return oe.length===2?oe[0].width+oe[1].width:oe[0].width})),te=[E[0].width].concat($);return Math.max.apply(Math,te)},_a={left:0,top:0},xa={left:0,top:0},vr={left:0,top:0},Ea={left:0,top:0},ya={height:0,width:0},hi={left:0,top:0},fi="data-virtual-index",Sa=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],wa=function(E){var O=E.enableSmoothScroll,$=E.isRtl,te=E.numberOfItems,oe=E.parentRef,le=E.setRenderRange,_e=E.sizes,ge=E.scrollMode,ne=E.viewMode,be=r.useState(!1),ve=be[0],je=be[1],Oe=r.useCallback((function(_t){return je(_t)}),[]),De=r.useRef(ge);De.current=ge;var Ge=r.useRef(ne);Ge.current=ne;var We=ge===e.ScrollMode.Wrapped||ne===e.ViewMode.DualPageWithCover||ne===e.ViewMode.DualPage?Je.Both:ge===e.ScrollMode.Horizontal?Je.Horizontal:Je.Vertical,Ve=va({elementRef:oe,enableSmoothScroll:O,isRtl:$,scrollDirection:We,onSmoothScroll:Oe}),Mt=Ve.scrollOffset,mt=Ve.scrollTo,gt=(function(_t){var vt=_t.elementRef,ct=r.useState(vt.current),dt=ct[0],ut=ct[1],wt=r.useRef(!1),Ct=r.useReducer(ma,{height:0,width:0}),ht=Ct[0],rt=Ct[1];return h((function(){vt.current!==dt&&ut(vt.current)})),h((function(){if(dt&&!wt.current){wt.current=!0;var Pt=dt.getBoundingClientRect(),Lt=Pt.height,Xt=Pt.width;rt({rect:{height:Lt,width:Xt}})}}),[dt]),r.useEffect((function(){if(dt){var Pt=new ResizeObserver((function(Lt,Xt){Lt.forEach((function(Wt){if(Wt.target===dt){var cn=Wt.contentRect,fn=cn.height,Rt=cn.width;rt({rect:{height:fn,width:Rt}})}}))}));return Pt.observe(dt),function(){Pt.unobserve(dt)}}}),[dt]),ht})({elementRef:oe}),Et=r.useRef({scrollOffset:hi,measurements:[]});Et.current.scrollOffset=Mt;var lt=r.useMemo((function(){return Array(te).fill(-1)}),[]),St=r.useState(lt),bt=St[0],Ot=St[1],Dt=r.useMemo((function(){var _t=new IntersectionObserver((function(vt){vt.forEach((function(ct){var dt=ct.isIntersecting?ct.intersectionRatio:-1,ut=ct.target.getAttribute(fi);if(ut){var wt=parseInt(ut,10);0<=wt&&wt<te&&Ot((function(Ct){return Ct[wt]=dt,(function(ht,rt,Pt){for(var Lt,Xt=0,Wt=rt.length;Xt<Wt;Xt++)!Lt&&Xt in rt||(Lt||(Lt=Array.prototype.slice.call(rt,0,Xt)),Lt[Xt]=rt[Xt]);return ht.concat(Lt||Array.prototype.slice.call(rt))})([],Ct)}))}}))}),{threshold:Sa});return _t}),[]),Nt=r.useMemo((function(){return ge===e.ScrollMode.Page&&ne===e.ViewMode.SinglePage?(function(_t,vt,ct){for(var dt=[],ut=0;ut<_t;ut++){var wt={height:Math.max(vt.height,ct[ut].height),width:Math.max(vt.width,ct[ut].width)},Ct=ut===0?Ea:dt[ut-1].end,ht={left:Ct.left+wt.width,top:Ct.top+wt.height};dt[ut]={index:ut,start:Ct,size:wt,end:ht,visibility:-1}}return dt})(te,gt,_e):ne===e.ViewMode.DualPageWithCover?(function(_t,vt,ct,dt){for(var ut=[],wt=0,Ct=0,ht=vr,rt=0;rt<_t;rt++){var Pt=rt===0?{height:dt===e.ScrollMode.Page?Math.max(vt.height,ct[rt].height):ct[rt].height,width:dt===e.ScrollMode.Page?Math.max(vt.width,ct[rt].width):ct[rt].width}:{height:dt===e.ScrollMode.Page?Math.max(vt.height,ct[rt].height):ct[rt].height,width:Math.max(vt.width/2,ct[rt].width)};dt===e.ScrollMode.Page?ht=rt===0?vr:{left:rt%2==0?Pt.width:0,top:Math.floor((rt-1)/2)*Pt.height+ut[0].end.top}:rt===0?(ht=vr,wt=ct[0].height,Ct=0):rt%2==1?(ht={left:0,top:wt+=Ct},Ct=rt===_t-1?ct[rt].height:Math.max(ct[rt].height,ct[rt+1].height)):ht={left:ut[rt-1].end.left,top:wt};var Lt={left:ht.left+Pt.width,top:ht.top+Pt.height};ut[rt]={index:rt,start:ht,size:Pt,end:Lt,visibility:-1}}return ut})(te,gt,_e,ge):ne===e.ViewMode.DualPage?(function(_t,vt,ct,dt){for(var ut=[],wt=0,Ct=0,ht=xa,rt=0;rt<_t;rt++){var Pt={height:dt===e.ScrollMode.Page?Math.max(vt.height,ct[rt].height):ct[rt].height,width:Math.max(vt.width/2,ct[rt].width)};dt===e.ScrollMode.Page?ht={left:rt%2==0?0:Pt.width,top:Math.floor(rt/2)*Pt.height}:rt%2==0?(ht={left:0,top:wt+=Ct},Ct=rt===_t-1?ct[rt].height:Math.max(ct[rt].height,ct[rt+1].height)):ht={left:ut[rt-1].end.left,top:wt};var Lt={left:ht.left+Pt.width,top:ht.top+Pt.height};ut[rt]={index:rt,start:ht,size:Pt,end:Lt,visibility:-1}}return ut})(te,gt,_e,ge):(function(_t,vt,ct,dt){for(var ut=[],wt=0,Ct={left:0,top:0},ht=0,rt=_a,Pt=0;Pt<_t;Pt++){var Lt=ct[Pt];if(Pt===0)wt=Lt.width,Ct={left:0,top:0},ht=Lt.height;else switch(dt){case e.ScrollMode.Wrapped:(wt+=Lt.width)<vt.width?(rt={left:ut[Pt-1].end.left,top:Ct.top},ht=Math.max(ht,Lt.height)):(wt=Lt.width,Ct={left:(rt={left:Ct.left,top:Ct.top+ht}).left,top:rt.top},ht=Lt.height);break;case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:rt=ut[Pt-1].end}var Xt={left:rt.left+Lt.width,top:rt.top+Lt.height};ut[Pt]={index:Pt,start:rt,size:Lt,end:Xt,visibility:-1}}return ut})(te,gt,_e,ge)}),[ge,_e,ne,gt]),jt=Nt[te-1]?{height:Nt[te-1].end.top,width:Nt[te-1].end.left}:ya;Et.current.measurements=Nt;var Ht=r.useMemo((function(){var _t=(function(Pt,Lt,Xt,Wt){var cn=0;switch(Pt){case Je.Horizontal:cn=Wt.left;break;case Je.Vertical:default:cn=Wt.top}var fn=Lt.length-1,Rt=(function(Vt,Sn,Ln,$n){for(;Vt<=Sn;){var Pn=(Vt+Sn)/2|0,zn=$n(Pn);if(zn<Ln)Vt=Pn+1;else{if(!(zn>Ln))return Pn;Sn=Pn-1}}return Vt>0?Vt-1:0})(0,fn,cn,(function(Vt){switch(Pt){case Je.Horizontal:return Lt[Vt].start.left;case Je.Both:case Je.Vertical:default:return Lt[Vt].start.top}}));if(Pt===Je.Both)for(var un=Lt[Rt].start.top;Rt-1>=0&&Lt[Rt-1].start.top===un&&Lt[Rt-1].start.left>=Wt.left;)Rt--;for(var Kt=Rt;Kt<=fn;){var Zt={top:Lt[Kt].start.top-Wt.top,left:Lt[Kt].start.left-Wt.left},on={height:Xt.height-Zt.top,width:Xt.width-Zt.left};if(Pt===Je.Horizontal&&on.width<0||Pt===Je.Vertical&&on.height<0||Pt===Je.Both&&(on.width<0||on.height<0))break;Kt++}return{start:Rt,end:Kt}})(We,Nt,gt,Mt),vt=_t.start,ct=_t.end,dt=bt.slice(Bn(0,te,vt),Bn(0,te,ct)),ut=vt+dt.reduce((function(Pt,Lt,Xt,Wt){return Lt>Wt[Pt]?Xt:Pt}),0),wt=ut=Bn(0,te-1,ut),Ct=le({endPage:ct,numPages:te,startPage:vt}),ht=Ct.startPage,rt=Ct.endPage;switch(ht=Math.max(ht,0),rt=Math.min(rt,te-1),ne){case e.ViewMode.DualPageWithCover:ut>0&&(wt=ut%2==1?ut:ut-1),ht=ht===0?0:ht%2==1?ht:ht-1,te-(rt=rt%2==1?rt-1:rt)<=2&&(rt=te-1);break;case e.ViewMode.DualPage:wt=ut%2==0?ut:ut-1,ht=ht%2==0?ht:ht-1,rt=rt%2==1?rt:rt-1;break;case e.ViewMode.SinglePage:default:wt=ut}return{startPage:ht,endPage:rt,maxVisbilityIndex:wt}}),[Nt,gt,Mt,ne,bt]),nn=Ht.startPage,Yt=Ht.endPage,rn=Ht.maxVisbilityIndex,Qt=r.useMemo((function(){for(var _t=[],vt=function(dt){var ut=Nt[dt],wt=A(A({},ut),{visibility:bt[dt]!==void 0?bt[dt]:-1,measureRef:function(Ct){Ct&&(Ct.setAttribute(fi,"".concat(dt)),Dt.observe(Ct))}});_t.push(wt)},ct=nn;ct<=Yt;ct++)vt(ct);return _t}),[nn,Yt,bt,Nt]),en=r.useCallback((function(_t,vt){var ct=Et.current.measurements[Bn(0,te-1,_t)],dt=De.current===e.ScrollMode.Page?hi:vt;return ct?mt({left:dt.left+ct.start.left,top:dt.top+ct.start.top},O):Promise.resolve()}),[mt,O]),tn=r.useCallback((function(_t,vt){var ct=Et.current.measurements,dt=ct[_t].start,ut=ct.find((function(Ct){return Ct.start.top-dt.top>1e-12}));if(!ut)return Promise.resolve();var wt=ut.index;switch(Ge.current){case e.ViewMode.DualPage:wt=wt%2==0?wt:wt+1;break;case e.ViewMode.DualPageWithCover:wt=wt%2==1?wt:wt+1}return en(wt,vt)}),[]),$t=r.useCallback((function(_t,vt){for(var ct=Et.current.measurements,dt=ct[_t].start,ut=_t,wt=!1,Ct=te-1;Ct>=0;Ct--)if(dt.top-ct[Ct].start.top>1e-12){wt=!0,ut=ct[Ct].index;break}if(!wt)return Promise.resolve();switch(Ge.current){case e.ViewMode.DualPage:ut=ut%2==0?ut:ut-1;break;case e.ViewMode.DualPageWithCover:ut=ut%2==0?ut-1:ut}return ut===_t&&(ut=_t-1),en(ut,vt)}),[]),dn=r.useCallback((function(_t,vt){if(Ge.current===e.ViewMode.DualPageWithCover||Ge.current===e.ViewMode.DualPage)return tn(_t,vt);switch(De.current){case e.ScrollMode.Wrapped:return tn(_t,vt);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return en(_t+1,vt)}}),[]),xn=r.useCallback((function(_t,vt){if(Ge.current===e.ViewMode.DualPageWithCover||Ge.current===e.ViewMode.DualPage)return $t(_t,vt);switch(De.current){case e.ScrollMode.Wrapped:return $t(_t,vt);case e.ScrollMode.Horizontal:case e.ScrollMode.Vertical:default:return en(_t-1,vt)}}),[]),vn=r.useCallback((function(){return(function(_t,vt){switch(vt){case e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(_t.width,"px")};case e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(_t.height,"px"),width:"100%"}}})(jt,De.current)}),[jt]),ln=r.useCallback((function(_t){return(function(vt,ct,dt){return dt!==e.ScrollMode.Page?{}:{height:"".concat(ct.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(vt.start.top,"px)")}})(_t,gt,De.current)}),[gt]),hn=r.useCallback((function(_t){return(function(vt,ct,dt,ut,wt){var Ct,ht,rt,Pt,Lt,Xt,Wt,cn=ct?"right":"left",fn=ct?-1:1,Rt=dt.length,un=vt.start.left*fn,Kt=vt.size,Zt=Kt.height,on=Kt.width;if(ut===e.ViewMode.DualPageWithCover){var Vt=wt===e.ScrollMode.Page?0:vt.start.top;return vt.index===0||Rt%2==0&&vt.index===Rt-1?((Ct={height:"".concat(Zt,"px"),minWidth:"".concat(ba(dt,ut),"px"),width:"100%"})[cn]=0,Ct.position="absolute",Ct.top=0,Ct.transform="translate(".concat(un,"px, ").concat(Vt,"px)"),Ct):((ht={height:"".concat(Zt,"px"),width:"".concat(on,"px")})[cn]=0,ht.position="absolute",ht.top=0,ht.transform="translate(".concat(un,"px, ").concat(Vt,"px)"),ht)}if(ut===e.ViewMode.DualPage)return(rt={height:"".concat(Zt,"px"),width:"".concat(on,"px")})[cn]=0,rt.position="absolute",rt.top=0,rt.transform="translate(".concat(un,"px, ").concat(wt===e.ScrollMode.Page?0:vt.start.top,"px)"),rt;switch(wt){case e.ScrollMode.Horizontal:return(Pt={height:"100%",width:"".concat(on,"px")})[cn]=0,Pt.position="absolute",Pt.top=0,Pt.transform="translateX(".concat(un,"px)"),Pt;case e.ScrollMode.Page:return(Lt={height:"".concat(Zt,"px"),width:"".concat(on,"px")})[cn]=0,Lt.position="absolute",Lt.top=0,Lt;case e.ScrollMode.Wrapped:return(Xt={height:"".concat(Zt,"px"),width:"".concat(on,"px")})[cn]=0,Xt.position="absolute",Xt.top=0,Xt.transform="translate(".concat(un,"px, ").concat(vt.start.top,"px)"),Xt;case e.ScrollMode.Vertical:default:return(Wt={height:"".concat(Zt,"px"),width:"100%"})[cn]=0,Wt.position="absolute",Wt.top=0,Wt.transform="translateY(".concat(vt.start.top,"px)"),Wt}})(_t,$,_e,Ge.current,De.current)}),[$,_e]),En=r.useCallback((function(_t,vt){var ct=Et.current,dt=ct.measurements,ut=ct.scrollOffset,wt=dt[Bn(0,te-1,vt)];if(wt){var Ct=De.current===e.ScrollMode.Page?{left:wt.start.left,top:wt.start.top}:{left:ut.left*_t,top:ut.top*_t};return mt(Ct,!1)}return Promise.resolve()}),[]);return r.useEffect((function(){return function(){Dt.disconnect()}}),[]),{boundingClientRect:gt,isSmoothScrolling:ve,startPage:nn,endPage:Yt,maxVisbilityIndex:rn,virtualItems:Qt,getContainerStyles:vn,getItemContainerStyles:ln,getItemStyles:hn,scrollToItem:en,scrollToNextItem:dn,scrollToPreviousItem:xn,zoom:En}},br=function(E,O,$,te,oe,le){var _e=$;switch(!0){case(oe===e.ViewMode.DualPageWithCover&&le>=3):case(oe===e.ViewMode.DualPage&&le>=3):_e=2*$;break;default:_e=$}switch(te){case e.SpecialZoomLevel.ActualSize:return 1;case e.SpecialZoomLevel.PageFit:return Math.min((E.clientWidth-17)/_e,(E.clientHeight-16)/O);case e.SpecialZoomLevel.PageWidth:return(E.clientWidth-17)/_e}},Aa=function(E){var O,$,te=E.getCurrentPage,oe=(O=50,$=r.useRef([]),r.useEffect((function(){return function(){$.current=[]}}),[]),{push:function(be){var ve=$.current;ve.length+1>O&&ve.shift(),ve.push(be),$.current=ve},map:function(be){return $.current.map((function(ve){return be(ve)}))},pop:function(){var be=$.current;if(be.length===0)return null;var ve=be.pop();return $.current=be,ve}}),le=(function(be){var ve=r.useRef([]);return r.useEffect((function(){return function(){ve.current=[]}}),[]),{dequeue:function(){var je=ve.current;if(je.length===0)return null;var Oe=je.shift();return ve.current=je,Oe||null},enqueue:function(je){var Oe=ve.current;Oe.length+1>be&&Oe.pop(),ve.current=[je].concat(Oe)},map:function(je){return ve.current.map((function(Oe){return je(Oe)}))}}})(50),_e=function(){var be=le.dequeue();return be&&oe.push(be),be&&be.pageIndex===te()?_e():be},ge=function(){var be=oe.pop();return be&&le.enqueue(be),be&&be.pageIndex===te()?ge():be},ne=r.useCallback((function(be){oe.push(be)}),[]);return{getNextDestination:_e,getPreviousDestination:ge,markVisitedDestination:ne}},pi=function(E){var O=[];return E.map((function($){O=O.concat($).concat((function(te){var oe=[];return te.items&&te.items.length>0&&(oe=oe.concat(pi(te.items))),oe})($))})),O},mi={capture:!1,passive:!0},Ca={height:0,width:0},_r={height:0,width:0},ka=function(E){var O=E.getCurrentPage,$=E.getCurrentScrollMode,te=E.jumpToPage,oe=E.targetRef,le=r.useState(e.FullScreenMode.Normal),_e=le[0],ge=le[1],ne=(function(){var bt=r.useState(Ca),Ot=bt[0],Dt=bt[1],Nt=B((function(){Dt({height:window.innerHeight,width:window.innerWidth})}),100);return h((function(){return window.addEventListener("resize",Nt,mi),function(){window.removeEventListener("resize",Nt,mi)}}),[]),Ot})(),be=r.useState(_r),ve=be[0],je=be[1],Oe=r.useRef(_r),De=r.useRef(O()),Ge=r.useRef(_r),We=r.useState(oe.current),Ve=We[0],Mt=We[1],mt=r.useRef();h((function(){oe.current!==Ve&&Mt(oe.current)}),[]),h((function(){if(Ve){var bt=new ResizeObserver((function(Ot){Ot.forEach((function(Dt){var Nt=Dt.target.getBoundingClientRect(),jt=Nt.height,Ht=Nt.width;je({height:jt,width:Ht})}))}));return bt.observe(Ve),function(){bt.unobserve(Ve),bt.disconnect()}}}),[Ve]);var gt=r.useCallback((function(bt){var Ot=w();return Ot&&Ot!==bt?(ge(e.FullScreenMode.Normal),s(Ot)):Promise.resolve()}),[]),Et=r.useCallback((function(bt){bt&&t()&&(Mt(bt),gt(bt).then((function(){mt.current=bt,ge(e.FullScreenMode.Entering),(function(Ot){g&&Ot[k.RequestFullScreen]()})(bt)})))}),[]),lt=r.useCallback((function(){w()&&(ge(e.FullScreenMode.Exitting),s(document))}),[]),St=r.useCallback((function(){Ve&&w()!==Ve&&ge(e.FullScreenMode.Exitting)}),[Ve]);return r.useEffect((function(){switch(_e){case e.FullScreenMode.Entering:mt.current&&(mt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),De.current=O(),Oe.current={height:window.innerHeight,width:window.innerWidth};break;case e.FullScreenMode.Entered:$()===e.ScrollMode.Page?te(De.current).then((function(){ge(e.FullScreenMode.EnteredCompletely)})):ge(e.FullScreenMode.EnteredCompletely);break;case e.FullScreenMode.Exitting:mt.current&&(mt.current.style.backgroundColor="",mt.current=null),De.current=O();break;case e.FullScreenMode.Exited:ge(e.FullScreenMode.Normal),$()===e.ScrollMode.Page&&te(De.current)}}),[_e]),r.useEffect((function(){if(_e!==e.FullScreenMode.Normal)return _e===e.FullScreenMode.Entering&&ne.height===ve.height&&ne.width===ve.width&&ne.height>0&&ne.width>0&&(Ge.current.height===0||ne.height==Ge.current.height)?(Ge.current={height:window.innerHeight,width:window.innerWidth},void ge(e.FullScreenMode.Entered)):void(_e===e.FullScreenMode.Exitting&&Oe.current.height===ne.height&&Oe.current.width===ne.width&&ne.height>0&&ne.width>0&&ge(e.FullScreenMode.Exited))}),[_e,ne,ve]),r.useEffect((function(){var bt;return bt=St,g&&document.addEventListener(k.FullScreenChange,bt),function(){(function(Ot){g&&document.removeEventListener(k.FullScreenChange,Ot)})(St)}}),[Ve]),{enterFullScreenMode:Et,exitFullScreenMode:lt,fullScreenMode:_e}},Pa={buildPageStyles:function(){return{}},transformSize:function(E){return E.size}},Tn={left:0,top:0},Ra=function(E){var O=E.currentFile,$=E.defaultScale,te=E.doc,oe=E.enableSmoothScroll,le=E.initialPage,_e=E.initialRotation,ge=E.initialScale,ne=E.pageLayout,be=E.pageSizes,ve=E.plugins,je=E.renderPage,Oe=E.scrollMode,De=E.setRenderRange,Ge=E.viewMode,We=E.viewerState,Ve=E.onDocumentLoad,Mt=E.onOpenFile,mt=E.onPageChange,gt=E.onRotate,Et=E.onRotatePage,lt=E.onZoom,St=te.numPages,bt=te.loadingTask.docId,Ot=r.useContext(J).l10n,Dt=r.useContext(C),Nt=Dt.direction===e.TextDirection.RightToLeft,jt=r.useRef(),Ht=r.useRef(),nn=r.useState(le),Yt=nn[0],rn=nn[1],Qt=r.useRef(null),en=Aa({getCurrentPage:function(){return Rt.current.pageIndex}}),tn=r.useState(_e),$t=tn[0],dn=tn[1],xn=D($t),vn=r.useState(!1),ln=vn[0],hn=vn[1],En=r.useState(new Map),_t=En[0],vt=En[1],ct=r.useState(Oe),dt=ct[0],ut=ct[1],wt=D(dt),Ct=r.useState(Ge),ht=Ct[0],rt=Ct[1],Pt=D(ht),Lt=(function(qe){var kt=P(),Ft=r.useState([]),qt=Ft[0],Bt=Ft[1];return r.useEffect((function(){qe.getOutline().then((function(It){if(kt.current&&It!==null){var sn=pi(It);Bt(sn)}}))}),[]),qt})(te),Xt=r.useState(ge),Wt=Xt[0],cn=Xt[1],fn=D(Wt),Rt=r.useRef(We),un=r.useRef(typeof $=="string"?$:null),Kt=r.useRef(-1),Zt=r.useRef(-1),on=r.useRef(le),Vt=ka({getCurrentPage:function(){return Rt.current.pageIndex},getCurrentScrollMode:function(){return Rt.current.scrollMode},jumpToPage:function(qe){return An(qe)},targetRef:Ht}),Sn=r.useState(-1),Ln=Sn[0],$n=Sn[1],Pn=r.useState(0),zn=Pn[0],Da=Pn[1],pn=F({doc:te});r.useEffect((function(){return function(){Ie.clear(),it.clear()}}),[bt]);var _i=r.useMemo((function(){return Object.assign({},Pa,ne)}),[]),Oa=r.useMemo((function(){return Array(St).fill(0).map((function(qe,kt){var Ft=[be[kt].pageHeight,be[kt].pageWidth],qt=Math.abs($t)%180==0?{height:Ft[0],width:Ft[1]}:{height:Ft[1],width:Ft[0]},Bt={height:qt.height*Wt,width:qt.width*Wt};return _i.transformSize({numPages:St,pageIndex:kt,size:Bt})}))}),[$t,Wt]),Ut=wa({enableSmoothScroll:oe,isRtl:Nt,numberOfItems:St,parentRef:Ht,scrollMode:dt,setRenderRange:De,sizes:Oa,viewMode:ht}),Na=B((function(){!un.current||Rt.current.fullScreenMode!==e.FullScreenMode.Normal||le>0&&on.current===le||Rn(un.current)}),200);(function(qe){var kt=qe.targetRef,Ft=qe.onResize;h((function(){var qt=new ResizeObserver((function(It){It.forEach((function(sn){Ft(sn.target)}))})),Bt=kt.current;if(Bt)return qt.observe(Bt),function(){qt.unobserve(Bt)}}),[])})({targetRef:Ht,onResize:Na});var wn=function(qe){var kt=qe;ve.forEach((function(Ft){Ft.onViewerStateChange&&(kt=Ft.onViewerStateChange(kt))})),Rt.current=kt},ja=function(){return Ht.current},Ba=function(){return Rt.current},za=r.useCallback((function(qe){en.markVisitedDestination(qe)}),[]),yr=r.useCallback((function(qe){var kt=qe.pageIndex,Ft=qe.bottomOffset,qt=qe.leftOffset,Bt=qe.scaleTo,It=Ht.current,sn=Rt.current;return It&&sn?new Promise((function(Cn,Pr){ze(te,kt).then((function(er){var kn=er.getViewport({scale:1}),tr=0,ki=(typeof Ft=="function"?Ft(kn.width,kn.height):Ft)||0,nr=(typeof qt=="function"?qt(kn.width,kn.height):qt)||0,Fn=sn.scale;switch(Bt){case e.SpecialZoomLevel.PageFit:tr=0,nr=0,Rn(e.SpecialZoomLevel.PageFit);break;case e.SpecialZoomLevel.PageWidth:Fn=br(It,be[kt].pageHeight,be[kt].pageWidth,e.SpecialZoomLevel.PageWidth,Ge,St),tr=(kn.height-ki)*Fn,nr*=Fn,Rn(Fn);break;default:tr=(kn.height-ki)*Fn,nr*=Fn}switch(sn.scrollMode){case e.ScrollMode.Horizontal:Ut.scrollToItem(kt,{left:nr,top:0}).then((function(){Cn()}));break;case e.ScrollMode.Vertical:default:Ut.scrollToItem(kt,{left:0,top:tr}).then((function(){Cn()}))}}))})):Promise.resolve()}),[]),xi=r.useCallback((function(qe){return en.markVisitedDestination(qe),yr(qe)}),[]),Ha=r.useCallback((function(){var qe=en.getNextDestination();return qe?yr(qe):Promise.resolve()}),[]),qa=r.useCallback((function(){var qe=en.getPreviousDestination();return qe?yr(qe):Promise.resolve()}),[]),Va=r.useCallback((function(){return Ut.scrollToNextItem(Rt.current.pageIndex,Tn)}),[]),An=r.useCallback((function(qe){return 0<=qe&&qe<St?Ut.scrollToItem(qe,Tn):Promise.resolve()}),[]),Wa=r.useCallback((function(){return Ut.scrollToPreviousItem(Rt.current.pageIndex,Tn)}),[]),Ei=r.useCallback((function(qe){var kt,Ft;(kt=qe.name,Ft=kt.split(/\./).pop(),Ft?Ft.toLowerCase():"").toLowerCase()==="pdf"&&new Promise((function(qt){var Bt=new FileReader;Bt.readAsArrayBuffer(qe),Bt.onload=function(){var It=new Uint8Array(Bt.result);qt(It)}})).then((function(qt){Mt(qe.name,qt)}))}),[Mt]),yi=r.useCallback((function(qe){var kt=qe===e.RotateDirection.Backward?-90:90,Ft=Rt.current.rotation,qt=Ft===360||Ft===-360?kt:Ft+kt;pn.markNotRendered(),dn(qt),wn(A(A({},Rt.current),{rotation:qt})),gt({direction:qe,doc:te,rotation:qt})}),[]),Sr=r.useCallback((function(qe,kt){var Ft=kt===e.RotateDirection.Backward?-90:90,qt=Rt.current.pagesRotation,Bt=(qt.has(qe)?qt.get(qe):_e)+Ft,It=qt.set(qe,Bt);vt(It),hn((function(sn){return!sn})),wn(A(A({},Rt.current),{pagesRotation:It,rotatedPage:qe})),Et({direction:kt,doc:te,pageIndex:qe,rotation:Bt}),pn.markRendering(qe),$n(qe)}),[]),Si=r.useCallback((function(qe){wn(A(A({},Rt.current),{scrollMode:qe})),ut(qe)}),[]),wi=r.useCallback((function(qe){wn(A(A({},Rt.current),{viewMode:qe})),rt(qe)}),[]),Rn=r.useCallback((function(qe){var kt=Ht.current,Ft=Rt.current.pageIndex;if(!(Ft<0||Ft>=St)){var qt=be[Ft].pageHeight,Bt=be[Ft].pageWidth,It=kt?typeof qe=="string"?br(kt,qt,Bt,qe,Rt.current.viewMode,St):qe:1;un.current=typeof qe=="string"?qe:null,It!==Rt.current.scale&&(Da((function(sn){return sn+1})),pn.markNotRendered(),cn(It),lt({doc:te,scale:It}),wn(A(A({},Rt.current),{scale:It})))}}),[]),Ua=r.useCallback((function(qe){Vt.enterFullScreenMode(qe)}),[]),Ga=r.useCallback((function(){Vt.exitFullScreenMode()}),[]);r.useEffect((function(){wn(A(A({},Rt.current),{fullScreenMode:Vt.fullScreenMode}))}),[Vt.fullScreenMode]),r.useEffect((function(){var qe={enterFullScreenMode:Ua,exitFullScreenMode:Ga,getPagesContainer:ja,getViewerState:Ba,jumpToDestination:xi,jumpToNextDestination:Ha,jumpToPreviousDestination:qa,jumpToNextPage:Va,jumpToPreviousPage:Wa,jumpToPage:An,openFile:Ei,rotate:yi,rotatePage:Sr,setViewerState:wn,switchScrollMode:Si,switchViewMode:wi,zoom:Rn};return ve.forEach((function(kt){kt.install&&kt.install(qe)})),function(){ve.forEach((function(kt){kt.uninstall&&kt.uninstall(qe)}))}}),[bt]),r.useEffect((function(){Ve({doc:te,file:O}),ve.forEach((function(qe){qe.onDocumentLoad&&qe.onDocumentLoad({doc:te,file:O})}))}),[bt]);var wr,Ar,Cr,Ai=Ut.boundingClientRect;wr=function(){le&&An(le)},Ar=Ai.height>0&&Ai.width>0,Cr=r.useRef(!1),h((function(){Ar&&!Cr.current&&(Cr.current=!0,wr())}),[wr,Ar]),h((function(){var qe=Rt.current.pageIndex;qe>-1&&wt!==dt&&Ut.scrollToItem(qe,Tn).then((function(){Vt.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(oe||pn.markNotRendered(),Kt.current=-1)}))}),[dt]),h((function(){var qe=Rt.current.pageIndex;qe>-1&&xn!==$t&&Ut.scrollToItem(qe,Tn)}),[$t]),h((function(){fn!=0&&fn!=Rt.current.scale&&Ut.zoom(Rt.current.scale/fn,Rt.current.pageIndex).then((function(){Vt.fullScreenMode===e.FullScreenMode.EnteredCompletely&&(Zt.current=-1)}))}),[Wt]),h((function(){if(Pt!==Rt.current.viewMode){var qe=Ut.startPage,kt=Ut.endPage,Ft=Ut.virtualItems;pn.markNotRendered(),pn.setRange(qe,kt);for(var qt=function(It){var sn=Ft.find((function(Cn){return Cn.index===It}));sn&&pn.setVisibility(It,sn.visibility)},Bt=qe;Bt<=kt;Bt++)qt(Bt);kr()}}),[ht]),h((function(){var qe=Rt.current.pageIndex;qe>-1&&Pt!==ht&&Ut.scrollToItem(qe,Tn)}),[ht]),h((function(){var qe=Rt.current.pageIndex;qe>0&&qe===le&&on.current===le&&un.current&&(on.current=-1,Rn(un.current))}),[Yt]),r.useEffect((function(){Ut.isSmoothScrolling||Qt.current!==null&&Qt.current===Yt||(Qt.current=Yt,mt({currentPage:Yt,doc:te}))}),[Yt,Ut.isSmoothScrolling]),r.useEffect((function(){Vt.fullScreenMode===e.FullScreenMode.Entering&&Rt.current.scrollMode===e.ScrollMode.Page&&(Kt.current=Rt.current.pageIndex),Vt.fullScreenMode===e.FullScreenMode.EnteredCompletely&&Rt.current.scrollMode===e.ScrollMode.Page&&oe&&(Kt.current=-1),Vt.fullScreenMode===e.FullScreenMode.EnteredCompletely&&un.current&&(Zt.current=Rt.current.pageIndex,Rn(un.current))}),[Vt.fullScreenMode]),r.useEffect((function(){if(Vt.fullScreenMode!==e.FullScreenMode.Entering&&Vt.fullScreenMode!==e.FullScreenMode.Exitting&&!Ut.isSmoothScrolling){var qe=Ut.startPage,kt=Ut.endPage,Ft=Ut.maxVisbilityIndex,qt=Ut.virtualItems,Bt=Ft,It=Vt.fullScreenMode===e.FullScreenMode.Entered||Vt.fullScreenMode===e.FullScreenMode.EnteredCompletely;if(!(It&&Bt!==Kt.current&&Kt.current>-1||It&&Bt!==Zt.current&&Zt.current>-1)){rn(Bt),wn(A(A({},Rt.current),{pageIndex:Bt})),pn.setRange(qe,kt);for(var sn=function(Pr){var er=qt.find((function(kn){return kn.index===Pr}));er&&pn.setVisibility(Pr,er.visibility)},Cn=qe;Cn<=kt;Cn++)sn(Cn);kr()}}}),[Ut.startPage,Ut.endPage,Ut.isSmoothScrolling,Ut.maxVisbilityIndex,Vt.fullScreenMode,ln,$t,Wt]);var Xa=r.useCallback((function(qe){pn.markRendered(qe),kr()}),[zn]),kr=function(){var qe=pn.getHighestPriorityPage();qe>-1&&pn.isInRange(qe)&&(pn.markRendering(qe),$n(qe))},Ka=function(qe){var kt=Yt-1,Ft=Yt+1;switch(qe){case"FirstPage":An(0);break;case"LastPage":An(St-1);break;case"NextPage":Ft<St&&An(Ft);break;case"PrevPage":kt>=0&&An(kt)}},Ya=r.useCallback((function(){var qe=Ut.virtualItems,kt=[];switch(ht){case e.ViewMode.DualPage:kt=se(qe,2);break;case e.ViewMode.DualPageWithCover:qe.length&&(kt=qe[0].index===0?[[qe[0]]].concat(se(qe.slice(1),2)):se(qe,2));break;case e.ViewMode.SinglePage:default:kt=se(qe,1)}var Ft=Ot&&Ot.core?Ot.core.pageLabel:"Page {{pageIndex}}",qt={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:jt,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:b({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":dt===e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Nt,"rpv-core__inner-pages--single":dt===e.ScrollMode.Page,"rpv-core__inner-pages--vertical":dt===e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":dt===e.ScrollMode.Wrapped}),ref:Ht,style:{height:"100%",position:"relative"}},children:r.createElement("div",{"data-testid":"core__inner-current-page-".concat(Yt),style:Object.assign({"--scale-factor":Wt},Ut.getContainerStyles())},kt.map((function(Bt){return r.createElement("div",{className:b({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":dt===e.ScrollMode.Page}),style:Ut.getItemContainerStyles(Bt[0]),key:"".concat(Bt[0].index,"-").concat(ht)},Bt.map((function(It){var sn=ht===e.ViewMode.DualPageWithCover&&(It.index===0||St%2==0&&It.index===St-1);return r.createElement("div",{"aria-label":Ft.replace("{{pageIndex}}","".concat(It.index+1)),className:b({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ht===e.ViewMode.DualPage&&It.index%2==0,"rpv-core__inner-page--dual-odd":ht===e.ViewMode.DualPage&&It.index%2==1,"rpv-core__inner-page--dual-cover":sn,"rpv-core__inner-page--dual-cover-even":ht===e.ViewMode.DualPageWithCover&&!sn&&It.index%2==0,"rpv-core__inner-page--dual-cover-odd":ht===e.ViewMode.DualPageWithCover&&!sn&&It.index%2==1,"rpv-core__inner-page--single":ht===e.ViewMode.SinglePage&&dt===e.ScrollMode.Page}),role:"region",key:"".concat(It.index,"-").concat(ht),style:Object.assign({},Ut.getItemStyles(It),_i.buildPageStyles({numPages:St,pageIndex:It.index,scrollMode:dt,viewMode:ht}))},r.createElement(pa,{doc:te,measureRef:It.measureRef,outlines:Lt,pageIndex:It.index,pageRotation:_t.has(It.index)?_t.get(It.index):0,pageSize:be[It.index],plugins:ve,renderPage:je,renderQueueKey:zn,rotation:$t,scale:Wt,shouldRender:Ln===It.index,viewMode:ht,onExecuteNamedAction:Ka,onJumpFromLinkAnnotation:za,onJumpToDest:xi,onRenderCompleted:Xa,onRotatePage:Sr}))})))})))}};return ve.forEach((function(Bt){Bt.renderViewer&&(qt=Bt.renderViewer({containerRef:jt,doc:te,pagesContainerRef:Ht,pagesRotation:_t,pageSizes:be,rotation:$t,slot:qt,themeContext:Dt,jumpToPage:An,openFile:Ei,rotate:yi,rotatePage:Sr,switchScrollMode:Si,switchViewMode:wi,zoom:Rn}))})),qt}),[ve,Ut]),Ci=r.useCallback((function(qe){return r.createElement("div",A({},qe.attrs,{style:qe.attrs&&qe.attrs.style?qe.attrs.style:{}}),qe.children,qe.subSlot&&Ci(qe.subSlot))}),[]);return Ci(Ya())},gi=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ma=function(E){var O=E.defaultScale,$=E.doc,te=E.render,oe=E.scrollMode,le=E.viewMode,_e=r.useRef(),ge=r.useState({pageSizes:[],scale:0}),ne=ge[0],be=ge[1];return r.useLayoutEffect((function(){var ve=Array($.numPages).fill(0).map((function(je,Oe){return new Promise((function(De,Ge){ze($,Oe).then((function(We){var Ve=We.getViewport({scale:1});De({pageHeight:Ve.height,pageWidth:Ve.width,rotation:Ve.rotation})}))}))}));Promise.all(ve).then((function(je){var Oe=_e.current;if(Oe&&je.length!==0){var De=je[0].pageWidth,Ge=je[0].pageHeight,We=Oe.parentElement,Ve=(We.clientWidth-45)/De,Mt=(We.clientHeight-45)/Ge,mt=Ve;switch(oe){case e.ScrollMode.Horizontal:mt=Math.min(Ve,Mt);break;case e.ScrollMode.Vertical:default:mt=Ve}var gt,Et,lt=O?typeof O=="string"?br(We,Ge,De,O,le,$.numPages):O:(gt=mt,(Et=gi.findIndex((function(St){return St>=gt})))===-1||Et===0?gt:gi[Et-1]);be({pageSizes:je,scale:lt})}}))}),[$.loadingTask.docId]),ne.pageSizes.length===0||ne.scale===0?r.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:_e},r.createElement(M,null)):te(ne.pageSizes,ne.scale)},Qn=function(){},xr=(function(E){function O($,te){var oe=E.call(this)||this;return oe.verifyPassword=$,oe.passwordStatus=te,oe}return X(O,E),O})(Qn),Ta=function(E){var O=E.passwordStatus,$=E.renderProtectedView,te=E.verifyPassword,oe=E.onDocumentAskPassword,le=r.useContext(J).l10n,_e=r.useState(""),ge=_e[0],ne=_e[1],be=r.useContext(C).direction===e.TextDirection.RightToLeft,ve=function(){return te(ge)};return r.useEffect((function(){oe&&oe({verifyPassword:te})}),[]),$?$({passwordStatus:O,verifyPassword:te}):r.createElement("div",{className:"rpv-core__asking-password-wrapper"},r.createElement("div",{className:b({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":be})},r.createElement("div",{className:"rpv-core__asking-password-message"},O===e.PasswordStatus.RequiredPassword&&le.core.askingPassword.requirePasswordToOpen,O===e.PasswordStatus.WrongPassword&&le.core.wrongPassword.tryAgain),r.createElement("div",{className:"rpv-core__asking-password-body"},r.createElement("div",{className:b({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!be,"rpv-core__asking-password-input--rtl":be})},r.createElement(m,{testId:"core__asking-password-input",type:"password",value:ge,onChange:ne,onKeyDown:function(je){je.key==="Enter"&&ve()}})),r.createElement(o,{onClick:ve},le.core.askingPassword.submit))))},vi=(function(E){function O($){var te=E.call(this)||this;return te.doc=$,te}return X(O,E),O})(Qn),bi=(function(E){function O($){var te=E.call(this)||this;return te.error=$,te}return X(O,E),O})(Qn),Er=(function(E){function O($){var te=E.call(this)||this;return te.percentages=$,te}return X(O,E),O})(Qn),La=function(E){var O=E.characterMap,$=E.file,te=E.httpHeaders,oe=E.render,le=E.renderError,_e=E.renderLoader,ge=E.renderProtectedView,ne=E.transformGetDocumentParams,be=E.withCredentials,ve=E.onDocumentAskPassword,je=r.useContext(C).direction===e.TextDirection.RightToLeft,Oe=r.useState(new Er(0)),De=Oe[0],Ge=Oe[1],We=r.useRef(""),Ve=P();return r.useEffect((function(){We.current="",Ge(new Er(0));var Mt=new j.PDFWorker({name:"PDFWorker_".concat(Date.now())}),mt=Object.assign({httpHeaders:te,withCredentials:be,worker:Mt},typeof $=="string"?{url:$}:{data:$},O?{cMapUrl:O.url,cMapPacked:O.isCompressed}:{}),gt=ne?ne(mt):mt,Et=j.getDocument(gt);return Et.onPassword=function(lt,St){switch(St){case j.PasswordResponses.NEED_PASSWORD:Ve.current&&Ge(new xr(lt,e.PasswordStatus.RequiredPassword));break;case j.PasswordResponses.INCORRECT_PASSWORD:Ve.current&&Ge(new xr(lt,e.PasswordStatus.WrongPassword))}},Et.onProgress=function(lt){var St=lt.total>0?Math.min(100,100*lt.loaded/lt.total):100;Ve.current&&We.current===""&&Ge(new Er(St))},Et.promise.then((function(lt){We.current=lt.loadingTask.docId,Ve.current&&Ge(new vi(lt))}),(function(lt){return Ve.current&&!Mt.destroyed&&Ge(new bi({message:lt.message||"Cannot load document",name:lt.name}))})),function(){Et.destroy(),Mt.destroy()}}),[$]),De instanceof xr?r.createElement(Ta,{passwordStatus:De.passwordStatus,renderProtectedView:ge,verifyPassword:De.verifyPassword,onDocumentAskPassword:ve}):De instanceof vi?oe(De.doc):De instanceof bi?le?le(De.error):r.createElement("div",{className:b({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":je})},r.createElement("div",{className:"rpv-core__doc-error-text"},De.error.message)):r.createElement("div",{"data-testid":"core__doc-loading",className:b({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":je})},_e?_e(De.percentages):r.createElement(M,null))},Fa=function(E,O){var $=r.useMemo((function(){return E==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":E}),[]),te=r.useState($),oe=te[0],le=te[1],_e=D(oe);return r.useEffect((function(){if(E==="auto"){var ge=window.matchMedia("(prefers-color-scheme: dark)"),ne=function(be){le(be.matches?"dark":"light")};return ge.addEventListener("change",ne),function(){return ge.removeEventListener("change",ne)}}}),[]),r.useEffect((function(){oe!==_e&&O&&O(oe)}),[oe]),r.useEffect((function(){E!==oe&&le(E)}),[E]),{currentTheme:oe,setCurrentTheme:le}},Ia=function(E){return{startPage:E.startPage-3,endPage:E.endPage+3}};e.Button=function(E){var O=E.children,$=E.testId,te=E.onClick,oe=r.useContext(C).direction===e.TextDirection.RightToLeft,le=$?{"data-testid":$}:{};return r.createElement("button",A({className:b({"rpv-core__button":!0,"rpv-core__button--rtl":oe}),type:"button",onClick:te},le),O)},e.Icon=d,e.LazyRender=function(E){var O=E.attrs,$=E.children,te=E.testId,oe=r.useState(!1),le=oe[0],_e=oe[1],ge=te?A(A({},O),{"data-testid":te}):O,ne=i({once:!0,onVisibilityChanged:function(be){be.isVisible&&_e(!0)}});return r.createElement("div",A({ref:ne},ge),le&&$)},e.LocalizationContext=J,e.Menu=function(E){var O=E.children,$=r.useRef(),te=r.useRef([]),oe=r.useContext(C).direction===e.TextDirection.RightToLeft,le=function(ge){if($.current)switch(ge.key){case"Tab":ge.preventDefault();break;case"ArrowDown":ge.preventDefault(),_e((function(ne,be){return be+1}));break;case"ArrowUp":ge.preventDefault(),_e((function(ne,be){return be-1}));break;case"End":ge.preventDefault(),_e((function(ne,be){return ne.length-1}));break;case"Home":ge.preventDefault(),_e((function(ne,be){return 0}))}},_e=function(ge){if($.current){var ne=te.current,be=ne.findIndex((function(je){return je.getAttribute("tabindex")==="0"})),ve=Math.min(ne.length-1,Math.max(0,ge(ne,be)));be>=0&&be<=ne.length-1&&ne[be].setAttribute("tabindex","-1"),ne[ve].setAttribute("tabindex","0"),ne[ve].focus()}};return h((function(){var ge=$.current;if(ge){var ne=(function(be){var ve=[];return be.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(je){if(je instanceof HTMLElement){var Oe=je.parentElement;(Oe===be||window.getComputedStyle(Oe).display!=="none")&&ve.push(je)}})),ve})(ge);te.current=ne}}),[]),h((function(){return document.addEventListener("keydown",le),function(){document.removeEventListener("keydown",le)}}),[]),r.createElement("div",{ref:$,"aria-orientation":"vertical",className:b({"rpv-core__menu":!0,"rpv-core__menu--rtl":oe}),role:"menu",tabIndex:0},O)},e.MenuDivider=function(){return r.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},e.MenuItem=function(E){var O=E.checked,$=O!==void 0&&O,te=E.children,oe=E.icon,le=oe===void 0?null:oe,_e=E.isDisabled,ge=_e!==void 0&&_e,ne=E.testId,be=E.onClick,ve=r.useContext(C).direction===e.TextDirection.RightToLeft,je=ne?{"data-testid":ne}:{};return r.createElement("button",A({className:b({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ge,"rpv-core__menu-item--ltr":!ve,"rpv-core__menu-item--rtl":ve}),role:"menuitem",tabIndex:-1,type:"button",onClick:be},je),r.createElement("div",{className:b({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ve,"rpv-core__menu-item-icon--rtl":ve})},le),r.createElement("div",{className:b({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ve,"rpv-core__menu-item-label--rtl":ve})},te),r.createElement("div",{className:b({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ve,"rpv-core__menu-item-check--rtl":ve})},$&&r.createElement(p,null)))},e.MinimalButton=function(E){var O=E.ariaLabel,$=O===void 0?"":O,te=E.ariaKeyShortcuts,oe=te===void 0?"":te,le=E.children,_e=E.isDisabled,ge=_e!==void 0&&_e,ne=E.isSelected,be=ne!==void 0&&ne,ve=E.testId,je=E.onClick,Oe=r.useContext(C).direction===e.TextDirection.RightToLeft,De=ve?{"data-testid":ve}:{};return r.createElement("button",A({"aria-label":$},oe&&{"aria-keyshortcuts":oe},ge&&{"aria-disabled":!0},{className:b({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ge,"rpv-core__minimal-button--rtl":Oe,"rpv-core__minimal-button--selected":be}),type:"button",onClick:je},De),le)},e.Modal=function(E){var O=E.ariaControlsSuffix,$=E.closeOnClickOutside,te=E.closeOnEscape,oe=E.content,le=E.isOpened,_e=le!==void 0&&le,ge=E.target,ne=O||"".concat(l());return r.createElement(fe,{target:ge?function(be,ve){return r.createElement("div",{"aria-expanded":ve?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(ne)},ge(be,ve))}:null,content:function(be){return r.createElement(z,null,r.createElement(G,{ariaControlsSuffix:ne,closeOnClickOutside:$,closeOnEscape:te,onToggle:be},oe(be)))},isOpened:_e})},e.Popover=function(E){var O=E.ariaHasPopup,$=O===void 0?"dialog":O,te=E.ariaControlsSuffix,oe=E.closeOnClickOutside,le=E.closeOnEscape,_e=E.content,ge=E.lockScroll,ne=ge===void 0||ge,be=E.offset,ve=E.position,je=E.target,Oe=ee(!1),De=Oe.opened,Ge=Oe.toggle,We=r.useRef(),Ve=r.useMemo((function(){return te||"".concat(l())}),[]);return r.createElement("div",{ref:We,"aria-expanded":De?"true":"false","aria-haspopup":$,"aria-controls":"rpv-core__popver-body-".concat(Ve)},je(Ge,De),De&&r.createElement(r.Fragment,null,ne&&r.createElement(ue,{closeOnEscape:le,onClose:Ge}),r.createElement(ie,{ariaControlsSuffix:Ve,closeOnClickOutside:oe,offset:be,position:ve,targetRef:We,onClose:Ge},_e(Ge))))},e.PrimaryButton=o,e.ProgressBar=function(E){var O=E.progress,$=r.useContext(C).direction===e.TextDirection.RightToLeft;return r.createElement("div",{className:b({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":$})},r.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(O,"%")}},O,"%"))},e.Separator=function(){return r.createElement("div",{className:"rpv-core__separator"})},e.Spinner=M,e.Splitter=function(E){var O=E.constrain,$=r.useContext(C).direction===e.TextDirection.RightToLeft,te=r.useRef(),oe=r.useRef(),le=r.useRef(),_e=r.useRef(0),ge=r.useRef(0),ne=r.useRef(0),be=r.useRef(0),ve={capture:!0},je=function(De){var Ge=te.current,We=oe.current,Ve=le.current;if(Ge&&We&&Ve){var Mt=be.current,mt=De.clientX-_e.current,gt=ne.current+($?-mt:mt),Et=Ge.parentElement.getBoundingClientRect().width,lt=100*gt/Et;if(Ge.classList.add("rpv-core__splitter--resizing"),O){var St=Et-gt-Mt;if(!O({firstHalfPercentage:lt,firstHalfSize:gt,secondHalfPercentage:100*St/Et,secondHalfSize:St}))return}We.style.width="".concat(lt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),We.classList.add("rpv-core__splitter-sibling--resizing"),Ve.classList.add("rpv-core__splitter-sibling--resizing")}},Oe=function(De){var Ge=te.current,We=oe.current,Ve=le.current;Ge&&We&&Ve&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Ge.classList.remove("rpv-core__splitter--resizing"),We.classList.remove("rpv-core__splitter-sibling--resizing"),Ve.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",je,ve),document.removeEventListener("mouseup",Oe,ve))};return r.useEffect((function(){var De=te.current;De&&(be.current=De.getBoundingClientRect().width,oe.current=De.previousElementSibling,le.current=De.nextElementSibling)}),[]),r.createElement("div",{ref:te,className:"rpv-core__splitter",onMouseDown:function(De){var Ge=oe.current;Ge&&(_e.current=De.clientX,ge.current=De.clientY,ne.current=Ge.getBoundingClientRect().width,document.addEventListener("mousemove",je,ve),document.addEventListener("mouseup",Oe,ve))}})},e.TextBox=m,e.ThemeContext=C,e.Tooltip=function(E){var O=E.ariaControlsSuffix,$=E.content,te=E.offset,oe=E.position,le=E.target,_e=ee(!1),ge=_e.opened,ne=_e.toggle,be=r.useRef(),ve=r.useRef(),je=r.useMemo((function(){return O||"".concat(l())}),[]);L((function(){be.current&&document.activeElement&&be.current.contains(document.activeElement)&&De()}));var Oe=function(){ne(e.ToggleStatus.Open)},De=function(){ne(e.ToggleStatus.Close)};return r.createElement(r.Fragment,null,r.createElement("div",{ref:be,"aria-describedby":"rpv-core__tooltip-body-".concat(je),onBlur:function(Ge){Ge.relatedTarget instanceof HTMLElement&&Ge.currentTarget.parentElement&&Ge.currentTarget.parentElement.contains(Ge.relatedTarget)?ve.current&&(ve.current.style.display="none"):De()},onFocus:Oe,onMouseEnter:Oe,onMouseLeave:De},le),ge&&r.createElement(Ce,{ariaControlsSuffix:je,contentRef:ve,offset:te,position:oe,targetRef:be},$()))},e.Viewer=function(E){var O=E.characterMap,$=E.defaultScale,te=E.enableSmoothScroll,oe=te===void 0||te,le=E.fileUrl,_e=E.httpHeaders,ge=_e===void 0?{}:_e,ne=E.initialPage,be=ne===void 0?0:ne,ve=E.pageLayout,je=E.initialRotation,Oe=je===void 0?0:je,De=E.localization,Ge=E.plugins,We=Ge===void 0?[]:Ge,Ve=E.renderError,Mt=E.renderLoader,mt=E.renderPage,gt=E.renderProtectedView,Et=E.scrollMode,lt=Et===void 0?e.ScrollMode.Vertical:Et,St=E.setRenderRange,bt=St===void 0?Ia:St,Ot=E.transformGetDocumentParams,Dt=E.theme,Nt=Dt===void 0?{direction:e.TextDirection.LeftToRight,theme:"light"}:Dt,jt=E.viewMode,Ht=jt===void 0?e.ViewMode.SinglePage:jt,nn=E.withCredentials,Yt=nn!==void 0&&nn,rn=E.onDocumentAskPassword,Qt=E.onDocumentLoad,en=Qt===void 0?function(){}:Qt,tn=E.onPageChange,$t=tn===void 0?function(){}:tn,dn=E.onRotate,xn=dn===void 0?function(){}:dn,vn=E.onRotatePage,ln=vn===void 0?function(){}:vn,hn=E.onSwitchTheme,En=hn===void 0?function(){}:hn,_t=E.onZoom,vt=_t===void 0?function(){}:_t,ct=r.useState({data:le,name:typeof le=="string"?le:"",shouldLoad:!1}),dt=ct[0],ut=ct[1],wt=function(Kt,Zt){ut({data:Zt,name:Kt,shouldLoad:!0})},Ct=r.useState(!1),ht=Ct[0],rt=Ct[1],Pt=D(dt);r.useEffect((function(){var Kt,Zt,on,Vt;Kt=Pt.data,Vt=typeof(Zt=le),(on=typeof Kt)=="string"&&Vt==="string"&&Kt===Zt||on==="object"&&Vt==="object"&&Kt.length===Zt.length&&Kt.every((function(Sn,Ln){return Sn===Zt[Ln]}))||ut({data:le,name:typeof le=="string"?le:"",shouldLoad:ht})}),[le,ht]);var Lt=i({onVisibilityChanged:function(Kt){rt(Kt.isVisible),Kt.isVisible&&ut((function(Zt){return Object.assign({},Zt,{shouldLoad:!0})}))}}),Xt=typeof Nt=="string"?{direction:e.TextDirection.LeftToRight,theme:Nt}:Nt,Wt=r.useState(De||W),cn=Wt[0],fn=Wt[1],Rt={l10n:cn,setL10n:fn},un=Object.assign({},{direction:Xt.direction},Fa(Xt.theme||"light",En));return r.useEffect((function(){De&&fn(De)}),[De]),r.createElement(J.Provider,{value:Rt},r.createElement(C.Provider,{value:un},r.createElement("div",{ref:Lt,className:"rpv-core__viewer rpv-core__viewer--".concat(un.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},dt.shouldLoad&&r.createElement(La,{characterMap:O,file:dt.data,httpHeaders:ge,render:function(Kt){return r.createElement(Ma,{defaultScale:$,doc:Kt,render:function(Zt,on){return r.createElement(Ra,{currentFile:{data:dt.data,name:dt.name},defaultScale:$,doc:Kt,enableSmoothScroll:oe,initialPage:be,initialRotation:Oe,initialScale:on,pageLayout:ve,pageSizes:Zt,plugins:We,renderPage:mt,scrollMode:lt,setRenderRange:bt,viewMode:Ht,viewerState:{file:dt,fullScreenMode:e.FullScreenMode.Normal,pageIndex:-1,pageHeight:Zt[0].pageHeight,pageWidth:Zt[0].pageWidth,pagesRotation:new Map,rotation:Oe,scale:on,scrollMode:lt,viewMode:Ht},onDocumentLoad:en,onOpenFile:wt,onPageChange:$t,onRotate:xn,onRotatePage:ln,onZoom:vt})},scrollMode:lt,viewMode:Ht})},renderError:Ve,renderLoader:Mt,renderProtectedView:gt,transformGetDocumentParams:Ot,withCredentials:Yt,onDocumentAskPassword:rn}))))},e.Worker=function(E){var O=E.children,$=E.workerUrl;return j.GlobalWorkerOptions.workerSrc=$,r.createElement(r.Fragment,null,O)},e.chunk=se,e.classNames=b,e.createStore=function(E){var O=E||{},$={},te=function(le,_e){var ge;O=A(A({},O),((ge={})[le]=_e,ge)),($[le]||[]).forEach((function(ne){return ne(O[le])}))},oe=function(le){return O[le]};return{subscribe:function(le,_e){$[le]=($[le]||[]).concat(_e)},unsubscribe:function(le,_e){$[le]=($[le]||[]).filter((function(ge){return ge!==_e}))},update:function(le,_e){te(le,_e)},updateCurrentValue:function(le,_e){var ge=oe(le);ge!==void 0&&te(le,_e(ge))},get:function(le){return oe(le)}}},e.getDestination=$e,e.getPage=ze,e.isFullScreenEnabled=t,e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},e.useDebounceCallback=B,e.useIntersectionObserver=i,e.useIsMounted=P,e.useIsomorphicLayoutEffect=h,e.usePrevious=D,e.useRenderQueue=F})(core_min)),core_min}var hasRequiredLib$h;function requireLib$h(){if(hasRequiredLib$h)return lib$h.exports;hasRequiredLib$h=1;return lib$h.exports=requireCore_min(),lib$h.exports}var libExports$1=requireLib$h(),lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},hasRequiredAttachment_min;function requireAttachment_min(){if(hasRequiredAttachment_min)return attachment_min;hasRequiredAttachment_min=1;var e=requireLib$h();function x(j){var Z=Object.create(null);return j&&Object.keys(j).forEach((function(X){if(X!=="default"){var V=Object.getOwnPropertyDescriptor(j,X);Object.defineProperty(Z,X,V.get?V:{enumerable:!0,get:function(){return j[X]}})}})),Z.default=j,Object.freeze(Z)}var n=x(requireReact()),y=function(j){var Z=j.files,X=n.useRef(),V=n.useContext(e.LocalizationContext).l10n,A=n.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,N=n.useRef([]),C=V&&V.attachment?V.attachment.clickToDownload:"Click to download",b=function(h){var i=X.current,d=[].slice.call(i.getElementsByClassName("rpv-attachment__item"));if(d.length!==0){d.forEach((function(M){return M.setAttribute("tabindex","-1")}));var p=document.activeElement,o=d[Math.min(d.length-1,Math.max(0,h(d,p)))];o.setAttribute("tabindex","0"),o.focus()}};return e.useIsomorphicLayoutEffect((function(){var h=X.current;if(h){var i=[].slice.call(h.getElementsByClassName("rpv-attachment__item"));if(N.current=i,i.length>0){var d=i[0];d.focus(),d.setAttribute("tabindex","0")}}}),[]),n.createElement("div",{"data-testid":"attachment__list",className:e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":A}),ref:X,tabIndex:-1,onKeyDown:function(h){switch(h.key){case"ArrowDown":h.preventDefault(),b((function(i,d){return i.indexOf(d)+1}));break;case"ArrowUp":h.preventDefault(),b((function(i,d){return i.indexOf(d)-1}));break;case"End":h.preventDefault(),b((function(i,d){return i.length-1}));break;case"Home":h.preventDefault(),b((function(i,d){return 0}))}}},Z.map((function(h){return n.createElement("button",{className:"rpv-attachment__item",key:h.fileName,tabIndex:-1,title:C,type:"button",onClick:function(){return i=h.fileName,d=h.data,p=typeof d=="string"?"":URL.createObjectURL(new Blob([d],{type:""})),(o=document.createElement("a")).style.display="none",o.href=p||i,o.setAttribute("download",(function(M){var m=M.split("/").pop();return m?m.split("#")[0].split("?")[0]:M})(i)),document.body.appendChild(o),o.click(),document.body.removeChild(o),void(p&&URL.revokeObjectURL(p));var i,d,p,o}},h.fileName)})))},S=function(j){var Z=j.doc,X=n.useContext(e.LocalizationContext).l10n,V=n.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,A=X&&X.attachment?X.attachment.noAttachment:"There is no attachment",N=n.useState({files:[],isLoaded:!1}),C=N[0],b=N[1];return n.useEffect((function(){Z.getAttachments().then((function(h){var i=h?Object.keys(h).map((function(d){return{data:h[d].content,fileName:h[d].filename}})):[];b({files:i,isLoaded:!0})}))}),[Z]),C.isLoaded?C.files.length===0?n.createElement("div",{"data-testid":"attachment__empty",className:e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":V})},A):n.createElement(y,{files:C.files}):n.createElement(e.Spinner,null)},r=function(j){var Z=j.store,X=n.useState(Z.get("doc")),V=X[0],A=X[1],N=function(C){A(C)};return n.useEffect((function(){return Z.subscribe("doc",N),function(){Z.unsubscribe("doc",N)}}),[]),V?n.createElement(S,{doc:V}):n.createElement("div",{className:"rpv-attachment__loader"},n.createElement(e.Spinner,null))};return attachment_min.attachmentPlugin=function(){var j=n.useMemo((function(){return e.createStore({})}),[]);return{onDocumentLoad:function(Z){j.update("doc",Z.doc)},Attachments:function(){return n.createElement(r,{store:j})}}},attachment_min}var hasRequiredLib$g;function requireLib$g(){if(hasRequiredLib$g)return lib$f.exports;hasRequiredLib$g=1;return lib$f.exports=requireAttachment_min(),lib$f.exports}var lib$e={exports:{}},bookmark_min={},hasRequiredBookmark_min;function requireBookmark_min(){if(hasRequiredBookmark_min)return bookmark_min;hasRequiredBookmark_min=1;var e=requireLib$h();function x(C){var b=Object.create(null);return C&&Object.keys(C).forEach((function(h){if(h!=="default"){var i=Object.getOwnPropertyDescriptor(C,h);Object.defineProperty(b,h,i.get?i:{enumerable:!0,get:function(){return C[h]}})}})),b.default=C,Object.freeze(b)}var n,y=x(requireReact()),S=function(){return S=Object.assign||function(C){for(var b,h=1,i=arguments.length;h<i;h++)for(var d in b=arguments[h])Object.prototype.hasOwnProperty.call(b,d)&&(C[d]=b[d]);return C},S.apply(this,arguments)},r=function(){return y.createElement(e.Icon,{size:16},y.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},j=function(){return y.createElement(e.Icon,{size:16},y.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},Z=function(C){var b=C.bookmark,h=C.depth,i=C.doc,d=C.index,p=C.isBookmarkExpanded,o=C.numberOfSiblings,M=C.pathFromRoot,m=C.renderBookmarkItem,f=C.store,_=M?"".concat(M,".").concat(d):"".concat(d),c=y.useMemo((function(){return(function(J){var R=J.count,l=J.items;if(R>=0)return!1;var v=l.length;if(v===0)return!1;for(var L=l.concat([]);L.length>0;){var G=L.shift(),z=G.items;G.count&&z&&G.count>0&&z.length>0&&(v+=z.length,L=L.concat(z))}return Math.abs(R)===v})(b)}),[b]),a=f.get("bookmarkExpandedMap"),g=p?p({bookmark:b,doc:i,depth:h,index:d}):a.has(_)?a.get(_):!c,k=y.useState(g),t=k[0],s=k[1],w=b.items&&b.items.length>0,B=function(){var J=!t;f.updateCurrentValue("bookmarkExpandedMap",(function(R){return R.set(_,J)})),s(J)},P=function(){var J=b.dest,R=f.get("jumpToDestination");e.getDestination(i,J).then((function(l){R&&R(S({label:b.title},l))}))},D=function(){w&&b.dest&&P()},T=function(){!w&&b.dest&&P()},H=function(J,R){return y.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*h,"rem")},onClick:J},R)},F=function(J,R){return w?y.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(h,"-").concat(d),onClick:B},t?J:R):y.createElement("span",{className:"rpv-bookmark__toggle"})},W=function(J){return b.url?y.createElement("a",{className:"rpv-bookmark__title",href:b.url,rel:"noopener noreferrer nofollow",target:b.newWindow?"_blank":""},b.title):y.createElement("div",{className:"rpv-bookmark__title","aria-label":b.title,onClick:J},b.title)};return y.createElement("li",{"aria-expanded":t?"true":"false","aria-label":b.title,"aria-level":h+1,"aria-posinset":d+1,"aria-setsize":o,role:"treeitem",tabIndex:-1},m?m({bookmark:b,depth:h,hasSubItems:w,index:d,isExpanded:t,path:_,defaultRenderItem:H,defaultRenderTitle:W,defaultRenderToggle:F,onClickItem:T,onClickTitle:D,onToggleSubItems:B}):H(T,y.createElement(y.Fragment,null,F(y.createElement(r,null),y.createElement(j,null)),W(D))),w&&t&&y.createElement(X,{bookmarks:b.items,depth:h+1,doc:i,isBookmarkExpanded:p,isRoot:!1,pathFromRoot:_,renderBookmarkItem:m,store:f}))},X=function(C){var b=C.bookmarks,h=C.depth,i=h===void 0?0:h,d=C.doc,p=C.isBookmarkExpanded,o=C.isRoot,M=C.pathFromRoot,m=C.renderBookmarkItem,f=C.store;return y.createElement("ul",{className:"rpv-bookmark__list",role:o?"tree":"group",tabIndex:-1},b.map((function(_,c){return y.createElement(Z,{bookmark:_,depth:i,doc:d,index:c,isBookmarkExpanded:p,key:c,numberOfSiblings:b.length,pathFromRoot:M,renderBookmarkItem:m,store:f})})))};(function(C){C[C.Collapse=0]="Collapse",C[C.Expand=1]="Expand"})(n||(n={}));var V=function(C){var b=C.bookmarks,h=C.doc,i=C.isBookmarkExpanded,d=C.renderBookmarkItem,p=C.store,o=y.useRef(),M=function(c){var a=o.current;if(a&&c.target instanceof HTMLElement&&a.contains(c.target))switch(c.key){case"ArrowDown":c.preventDefault(),f((function(g,k){return g.indexOf(k)+1}));break;case"ArrowLeft":c.preventDefault(),_(n.Collapse);break;case"ArrowRight":c.preventDefault(),_(n.Expand);break;case"ArrowUp":c.preventDefault,f((function(g,k){return g.indexOf(k)-1}));break;case"End":c.preventDefault(),f((function(g,k){return g.length-1}));break;case" ":case"Enter":case"Space":c.preventDefault(),m();break;case"Home":c.preventDefault(),f((function(g,k){return 0}))}},m=function(){var c=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");c&&c.click()},f=function(c){var a=o.current,g=[].slice.call(a.getElementsByClassName("rpv-bookmark__item"));if(g.length!==0){var k=document.activeElement,t=g[Math.min(g.length-1,Math.max(0,c(g,k)))];k.setAttribute("tabindex","-1"),t.setAttribute("tabindex","0"),t.focus()}},_=function(c){var a=o.current;if([].slice.call(a.getElementsByClassName("rpv-bookmark__item")).length!==0){var g=document.activeElement.closest(".rpv-bookmark__item"),k=c===n.Collapse?"true":"false";if(g&&g.parentElement.getAttribute("aria-expanded")===k){var t=g.querySelector(".rpv-bookmark__toggle");t&&t.click()}}};return y.useEffect((function(){return document.addEventListener("keydown",M),function(){document.removeEventListener("keydown",M)}}),[]),y.useEffect((function(){var c=o.current;if(c){var a=[].slice.call(c.getElementsByClassName("rpv-bookmark__item"));a.length>0&&(a[0].focus(),a[0].setAttribute("tabindex","0"))}}),[]),y.createElement("div",{ref:o},y.createElement(X,{bookmarks:b,depth:0,doc:h,isBookmarkExpanded:i,isRoot:!0,pathFromRoot:"",renderBookmarkItem:d,store:p}))},A=function(C){var b=C.doc,h=C.isBookmarkExpanded,i=C.renderBookmarkItem,d=C.store,p=y.useContext(e.LocalizationContext).l10n,o=y.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,M=y.useState({isLoaded:!1,items:[]}),m=M[0],f=M[1];return y.useEffect((function(){f({isLoaded:!1,items:[]}),b.getOutline().then((function(_){f({isLoaded:!0,items:_||[]})}))}),[b]),m.isLoaded?m.items.length===0?y.createElement("div",{"data-testid":"bookmark__empty",className:e.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":o})},p&&p.bookmark?p.bookmark.noBookmark:"There is no bookmark"):y.createElement("div",{"data-testid":"bookmark__container",className:e.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":o})},y.createElement(V,{bookmarks:m.items,doc:b,isBookmarkExpanded:h,renderBookmarkItem:i,store:d})):y.createElement("div",{className:"rpv-bookmark__loader"},y.createElement(e.Spinner,null))},N=function(C){var b=C.isBookmarkExpanded,h=C.renderBookmarkItem,i=C.store,d=y.useState(i.get("doc")),p=d[0],o=d[1],M=function(m){o(m)};return y.useEffect((function(){return i.subscribe("doc",M),function(){i.unsubscribe("doc",M)}}),[]),p?y.createElement(A,{doc:p,isBookmarkExpanded:b,renderBookmarkItem:h,store:i}):y.createElement("div",{className:"rpv-bookmark__loader"},y.createElement(e.Spinner,null))};return bookmark_min.DownArrowIcon=r,bookmark_min.RightArrowIcon=j,bookmark_min.bookmarkPlugin=function(){var C=y.useMemo((function(){return e.createStore({bookmarkExpandedMap:new Map})}),[]);return{install:function(b){C.update("jumpToDestination",b.jumpToDestination)},onDocumentLoad:function(b){C.update("doc",b.doc)},Bookmarks:function(b){return y.createElement(N,{isBookmarkExpanded:b==null?void 0:b.isBookmarkExpanded,renderBookmarkItem:b==null?void 0:b.renderBookmarkItem,store:C})}}},bookmark_min}var hasRequiredLib$f;function requireLib$f(){if(hasRequiredLib$f)return lib$e.exports;hasRequiredLib$f=1;return lib$e.exports=requireBookmark_min(),lib$e.exports}var lib$d={exports:{}},thumbnail_min={},hasRequiredThumbnail_min;function requireThumbnail_min(){return hasRequiredThumbnail_min||(hasRequiredThumbnail_min=1,(function(e){var x=requireLib$h();function n(i){var d=Object.create(null);return i&&Object.keys(i).forEach((function(p){if(p!=="default"){var o=Object.getOwnPropertyDescriptor(i,p);Object.defineProperty(d,p,o.get?o:{enumerable:!0,get:function(){return i[p]}})}})),d.default=i,Object.freeze(d)}var y,S=n(requireReact());e.ThumbnailDirection=void 0,(y=e.ThumbnailDirection||(e.ThumbnailDirection={})).Horizontal="Horizontal",y.Vertical="Vertical";var r=function(){return r=Object.assign||function(i){for(var d,p=1,o=arguments.length;p<o;p++)for(var M in d=arguments[p])Object.prototype.hasOwnProperty.call(d,M)&&(i[M]=d[M]);return i},r.apply(this,arguments)},j=function(i){var d=i.doc,p=i.getPageIndex,o=i.renderSpinner,M=i.store,m=i.width,f=d.numPages,_=p?p({numPages:f}):0,c=Math.max(0,Math.min(_,f-1)),a=M.get("pagesRotation")||new Map,g=a.has(c)?a.get(c):0,k=S.useState(""),t=k[0],s=k[1],w=x.useIsMounted(),B=S.useRef(),P=S.useState(M.get("rotation")||0),D=P[0],T=P[1],H=S.useState(g),F=H[0],W=H[1],J=S.useState(!1),R=J[0],l=J[1],v=function(z){var U=z.has(c)?z.get(c):0;W(U)},L=function(z){T(z)},G=x.useIntersectionObserver({onVisibilityChanged:function(z){l(z.isVisible)}});return S.useEffect((function(){if(R){var z=G.current;z&&(s(""),x.getPage(d,c).then((function(U){var ee=U.getViewport({scale:1}),fe=(ee.rotation+D+F)%360,Se=Math.abs(D+F)%180==0,xe=Se?ee.width:ee.height,Ae=Se?ee.height:ee.width,Me=document.createElement("canvas"),Te=Me.getContext("2d",{alpha:!1}),de=z.clientWidth,he=z.clientHeight,I=m?m/xe:Math.min(de/xe,he/Ae),q=I*xe,re=I*Ae;Me.height=re,Me.width=q,Me.style.opacity="0";var ie=U.getViewport({rotation:fe,scale:I});B.current=U.render({canvasContext:Te,viewport:ie}),B.current.promise.then((function(){w.current&&s(Me.toDataURL()),Me.width=0,Me.height=0}),(function(){}))})))}}),[F,R]),S.useEffect((function(){return M.subscribe("pagesRotation",v),M.subscribe("rotation",L),function(){M.unsubscribe("pagesRotation",v),M.unsubscribe("rotation",L)}}),[]),S.useEffect((function(){return function(){var z;(z=B.current)===null||z===void 0||z.cancel()}}),[]),S.createElement("div",{ref:G,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},t?S.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:t}):S.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},o?o():S.createElement(x.Spinner,null)))},Z=function(i){var d=i.getPageIndex,p=i.renderSpinner,o=i.store,M=i.width,m=S.useState(o.get("doc")),f=m[0],_=m[1],c=function(a){_(a)};return S.useEffect((function(){return o.subscribe("doc",c),function(){o.unsubscribe("doc",c)}}),[]),S.createElement("div",{className:"rpv-thumbnail__cover"},f?S.createElement(j,{doc:f,getPageIndex:d,renderSpinner:p,store:o,width:M}):S.createElement("div",{className:"rpv-thumbnail__cover-loader"},p?p():S.createElement(x.Spinner,null)))},X=function(){return S.createElement(x.Spinner,null)},V=S.createContext({renderSpinner:X}),A=function(i){var d=i.children,p=i.doc,o=x.useIsMounted(),M=S.useState({loading:!0,labels:[]}),m=M[0],f=M[1];return S.useEffect((function(){p.getPageLabels().then((function(_){o.current&&f({loading:!1,labels:_||[]})}))}),[p.loadingTask.docId]),m.loading?S.createElement(S.Fragment,null):d(m.labels)},N=function(i){var d=i.page,p=i.pageHeight,o=i.pageIndex,M=i.pageWidth,m=i.rotation,f=i.thumbnailHeight,_=i.thumbnailWidth,c=i.onRenderCompleted,a=S.useContext(x.LocalizationContext).l10n,g=S.useRef(),k=S.useState(""),t=k[0],s=k[1],w=a&&a.thumbnail?a.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return S.useEffect((function(){var B=g.current;B&&B.cancel();var P=document.createElement("canvas"),D=P.getContext("2d",{alpha:!1}),T=_,H=T/(M/p),F=T/M;P.height=H,P.width=T,P.style.height="".concat(H,"px"),P.style.width="".concat(T,"px");var W=d.getViewport({rotation:m,scale:F});return g.current=d.render({canvasContext:D,viewport:W}),g.current.promise.then((function(){s(P.toDataURL()),c(o)}),(function(){c(o)})),function(){var J;(J=g.current)===null||J===void 0||J.cancel()}}),[m]),t?S.createElement("img",{"aria-label":w.replace("{{pageIndex}}","".concat(o+1)),src:t,height:"".concat(f,"px"),width:"".concat(_,"px")}):S.useContext(V).renderSpinner()},C=function(i){var d=i.doc,p=i.pageHeight,o=i.pageIndex,M=i.pageRotation,m=i.pageWidth,f=i.rotation,_=i.shouldRender,c=i.thumbnailWidth,a=i.onRenderCompleted,g=i.onVisibilityChanged,k=x.useIsMounted(),t=S.useState({height:p,page:null,viewportRotation:0,width:m}),s=t[0],w=t[1],B=s.page,P=s.height,D=s.width,T=D/P,H=Math.abs(f+M)%180==0,F=H?c:c/T,W=H?c/T:c;S.useEffect((function(){_&&x.getPage(d,o).then((function(l){var v=l.getViewport({scale:1});k.current&&w({height:v.height,page:l,viewportRotation:v.rotation,width:v.width})}))}),[_]);var J=(s.viewportRotation+f+M)%360,R=x.useIntersectionObserver({onVisibilityChanged:function(l){g(o,l)}});return S.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(o),ref:R,style:{height:"".concat(W,"px"),width:"".concat(F,"px")}},B?S.createElement(N,{page:B,pageHeight:H?P:D,pageIndex:o,pageWidth:H?D:P,rotation:J,thumbnailHeight:W,thumbnailWidth:F,onRenderCompleted:a}):S.useContext(V).renderSpinner())},b=function(i){var d=i.currentPage,p=i.doc,o=i.labels,M=i.pagesRotation,m=i.pageHeight,f=i.pageWidth,_=i.renderCurrentPageLabel,c=i.renderThumbnailItem,a=i.rotatedPage,g=i.rotation,k=i.thumbnailDirection,t=i.thumbnailWidth,s=i.viewMode,w=i.onJumpToPage,B=i.onRotatePage,P=p.numPages,D=p.loadingTask.docId,T=S.useRef(null),H=S.useRef([]),F=S.useState(d),W=F[0],J=F[1],R=S.useContext(x.ThemeContext).direction===x.TextDirection.RightToLeft,l=S.useState(-1),v=l[0],L=l[1],G=x.useIsMounted(),z=x.usePrevious(s),U=S.useRef(!1),ee=x.useRenderQueue({doc:p}),fe=S.useMemo((function(){return Array(P).fill(0).map((function(I,q){return q}))}),[D]),Se=S.useMemo((function(){switch(s){case x.ViewMode.DualPage:return x.chunk(fe,2);case x.ViewMode.DualPageWithCover:return[[fe[0]]].concat(x.chunk(fe.slice(1),2));case x.ViewMode.SinglePage:default:return x.chunk(fe,1)}}),[D,s]),xe=function(){if(T.current){var I=H.current,q=W+1;q<I.length&&(W>=0&&I[W].setAttribute("tabindex","-1"),J(q))}},Ae=function(){if(T.current){var I=H.current,q=W-1;q>=0&&(W>=0&&I[W].setAttribute("tabindex","-1"),J(q))}},Me=function(){W>=0&&W<P&&w(W)};x.useIsomorphicLayoutEffect((function(){var I=T.current;I&&(H.current=Array.from(I.querySelectorAll(".rpv-thumbnail__item")))}),[s]),S.useEffect((function(){var I=H.current;if(!(I.length===0||W<0||W>I.length)){var q=I[W];q.setAttribute("tabindex","0"),q.focus()}}),[W]),x.useIsomorphicLayoutEffect((function(){var I=T.current,q=H.current;if(!(!I||q.length===0||d<0||d>q.length)){var re=q[d].closest(".rpv-thumbnail__items");re&&(k===e.ThumbnailDirection.Vertical?(function(ie,ue){var Ce=ie.getBoundingClientRect().top-ue.getBoundingClientRect().top,Pe=ie.clientHeight,se=ue.clientHeight;Ce<0?ue.scrollTop+=Ce:Ce+Pe<=se||(ue.scrollTop+=Ce+Pe-se)})(re,I):(function(ie,ue){var Ce=ie.getBoundingClientRect().left-ue.getBoundingClientRect().left,Pe=ie.clientWidth,se=ue.clientWidth;Ce<0?ue.scrollLeft+=Ce:Ce+Pe<=se||(ue.scrollLeft+=Ce+Pe-se)})(re,I))}}),[d,k]);var Te=S.useCallback((function(I){G.current&&(ee.markRendered(I),U.current=!1,he())}),[D]),de=S.useCallback((function(I,q){q.isVisible?ee.setVisibility(I,q.ratio):ee.setOutOfRange(I),he()}),[D]),he=S.useCallback((function(){if(!U.current){var I=ee.getHighestPriorityPage();I>-1&&(ee.markRendering(I),U.current=!0,L(I))}}),[D]);return S.useEffect((function(){a>=0&&(ee.markRendering(a),U.current=!0,L(a))}),[D,a]),x.useIsomorphicLayoutEffect((function(){z!==s&&(ee.markNotRendered(),he())}),[s]),S.createElement("div",{ref:T,"data-testid":"thumbnail__list",className:x.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":k===e.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":R,"rpv-thumbnail__list--vertical":k===e.ThumbnailDirection.Vertical}),onKeyDown:function(I){switch(I.key){case"ArrowDown":xe();break;case"ArrowUp":Ae();break;case"Enter":Me()}}},Se.map((function(I,q){var re=!1;switch(s){case x.ViewMode.DualPage:re=d===2*q||d===2*q+1;break;case x.ViewMode.DualPageWithCover:re=d===0&&q===0||q>0&&d===2*q-1||q>0&&d===2*q;break;case x.ViewMode.SinglePage:default:re=d===q}return S.createElement("div",{className:x.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":s===x.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":s===x.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":s===x.ViewMode.SinglePage,"rpv-thumbnail__items--selected":re}),key:"".concat(q,"___").concat(s)},I.map((function(ie){return(function(ue){var Ce=s===x.ViewMode.DualPageWithCover&&(ue===0||P%2==0&&ue===P-1),Pe="".concat(p.loadingTask.docId,"___").concat(ue),se=o.length===P?o[ue]:"".concat(ue+1),Be=_?_({currentPage:d,pageIndex:ue,numPages:P,pageLabel:se}):se,Ie=M.has(ue)?M.get(ue):0,it=S.createElement(C,{doc:p,pageHeight:m,pageIndex:ue,pageRotation:Ie,pageWidth:f,rotation:g,shouldRender:v===ue,thumbnailWidth:t,onRenderCompleted:Te,onVisibilityChanged:de});return c?c({currentPage:d,key:Pe,numPages:P,pageIndex:ue,renderPageLabel:S.createElement(S.Fragment,null,Be),renderPageThumbnail:it,onJumpToPage:function(){return w(ue)},onRotatePage:function(Ye){return B(ue,Ye)}}):S.createElement("div",{key:Pe},S.createElement("div",{className:x.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":s===x.ViewMode.DualPage&&ue%2==0,"rpv-thumbnail__item--dual-odd":s===x.ViewMode.DualPage&&ue%2==1,"rpv-thumbnail__item--dual-cover":Ce,"rpv-thumbnail__item--dual-cover-even":s===x.ViewMode.DualPageWithCover&&!Ce&&ue%2==0,"rpv-thumbnail__item--dual-cover-odd":s===x.ViewMode.DualPageWithCover&&!Ce&&ue%2==1,"rpv-thumbnail__item--single":s===x.ViewMode.SinglePage,"rpv-thumbnail__item--selected":d===ue}),role:"button",tabIndex:d===ue?0:-1,onClick:function(){return w(ue)}},it),S.createElement("div",{"data-testid":"thumbnail__label-".concat(ue),className:"rpv-thumbnail__label"},Be))})(ie)})))})))},h=function(i){var d=i.renderCurrentPageLabel,p=i.renderThumbnailItem,o=i.store,M=i.thumbnailDirection,m=i.thumbnailWidth,f=S.useState(o.get("doc")),_=f[0],c=f[1],a=S.useState(o.get("currentPage")||0),g=a[0],k=a[1],t=S.useState(o.get("pageHeight")||0),s=t[0],w=t[1],B=S.useState(o.get("pageWidth")||0),P=B[0],D=B[1],T=S.useState(o.get("rotation")||0),H=T[0],F=T[1],W=S.useState(o.get("pagesRotation")||new Map),J=W[0],R=W[1],l=S.useState(o.get("rotatedPage")||-1),v=l[0],L=l[1],G=S.useState(o.get("viewMode")),z=G[0],U=G[1],ee=function(q){k(q)},fe=function(q){c(q)},Se=function(q){w(q)},xe=function(q){D(q)},Ae=function(q){F(q)},Me=function(q){R(q)},Te=function(q){L(q)},de=function(q){U(q)},he=function(q){var re=o.get("jumpToPage");re&&re(q)},I=function(q,re){o.get("rotatePage")(q,re)};return S.useEffect((function(){return o.subscribe("doc",fe),o.subscribe("pageHeight",Se),o.subscribe("pageWidth",xe),o.subscribe("rotatedPage",Te),o.subscribe("rotation",Ae),o.subscribe("pagesRotation",Me),o.subscribe("viewMode",de),function(){o.unsubscribe("doc",fe),o.unsubscribe("pageHeight",Se),o.unsubscribe("pageWidth",xe),o.unsubscribe("rotatedPage",Te),o.unsubscribe("rotation",Ae),o.unsubscribe("pagesRotation",Me),o.unsubscribe("viewMode",de)}}),[]),x.useIsomorphicLayoutEffect((function(){return o.subscribe("currentPage",ee),function(){o.unsubscribe("currentPage",ee)}}),[]),_?S.createElement(x.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},S.createElement(A,{doc:_},(function(q){return S.createElement(b,{currentPage:g,doc:_,labels:q,pagesRotation:J,pageHeight:s,pageWidth:P,renderCurrentPageLabel:d,renderThumbnailItem:p,rotatedPage:v,rotation:H,thumbnailDirection:M,thumbnailWidth:m,viewMode:z,onJumpToPage:he,onRotatePage:I})}))):S.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},S.useContext(V).renderSpinner())};e.thumbnailPlugin=function(i){var d=S.useMemo((function(){return x.createStore({rotatePage:function(){},viewMode:x.ViewMode.SinglePage})}),[]),p=S.useState(""),o=p[0],M=p[1];return{install:function(m){d.update("jumpToPage",m.jumpToPage),d.update("rotatePage",m.rotatePage)},onDocumentLoad:function(m){M(m.doc.loadingTask.docId),d.update("doc",m.doc)},onViewerStateChange:function(m){return d.update("currentPage",m.pageIndex),d.update("pagesRotation",m.pagesRotation),d.update("pageHeight",m.pageHeight),d.update("pageWidth",m.pageWidth),d.update("rotation",m.rotation),d.update("rotatedPage",m.rotatedPage),d.update("viewMode",m.viewMode),m},Cover:function(m){return S.createElement(Z,r({},m,{renderSpinner:i==null?void 0:i.renderSpinner,store:d}))},Thumbnails:S.useCallback((function(m){return S.createElement(V.Provider,{value:{renderSpinner:(i==null?void 0:i.renderSpinner)||X}},S.createElement(h,{renderCurrentPageLabel:i==null?void 0:i.renderCurrentPageLabel,renderThumbnailItem:m==null?void 0:m.renderThumbnailItem,store:d,thumbnailDirection:(m==null?void 0:m.thumbnailDirection)||e.ThumbnailDirection.Vertical,thumbnailWidth:(i==null?void 0:i.thumbnailWidth)||100}))}),[o])}}})(thumbnail_min)),thumbnail_min}var hasRequiredLib$e;function requireLib$e(){if(hasRequiredLib$e)return lib$d.exports;hasRequiredLib$e=1;return lib$d.exports=requireThumbnail_min(),lib$d.exports}var lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={},hasRequiredSelectionMode_min;function requireSelectionMode_min(){return hasRequiredSelectionMode_min||(hasRequiredSelectionMode_min=1,(function(e){var x=requireLib$h();function n(h){var i=Object.create(null);return h&&Object.keys(h).forEach((function(d){if(d!=="default"){var p=Object.getOwnPropertyDescriptor(h,d);Object.defineProperty(i,d,p.get?p:{enumerable:!0,get:function(){return h[d]}})}})),i.default=h,Object.freeze(i)}var y,S=n(requireReact()),r=function(){return S.createElement(x.Icon,{size:16},S.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"}))},j=function(){return j=Object.assign||function(h){for(var i,d=1,p=arguments.length;d<p;d++)for(var o in i=arguments[d])Object.prototype.hasOwnProperty.call(i,o)&&(h[o]=i[o]);return h},j.apply(this,arguments)};e.SelectionMode=void 0,(y=e.SelectionMode||(e.SelectionMode={})).Hand="Hand",y.Text="Text";var Z=function(){return S.createElement(x.Icon,{size:16},S.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))},X=function(h){var i=h.children,d=h.mode,p=h.onClick,o=S.useContext(x.LocalizationContext).l10n,M="",m=S.createElement(Z,null);switch(d){case e.SelectionMode.Hand:M=o&&o.selectionMode?o.selectionMode.handTool:"Hand tool",m=S.createElement(r,null);break;case e.SelectionMode.Text:default:M=o&&o.selectionMode?o.selectionMode.textSelectionTool:"Text selection tool",m=S.createElement(Z,null)}return i({icon:m,label:M,onClick:p})},V={left:0,top:8},A=function(h){var i=h.isSelected,d=h.mode,p=h.onClick,o="";switch(d){case e.SelectionMode.Hand:o="selection-mode__hand-button";break;case e.SelectionMode.Text:default:o="selection-mode__text-button"}return S.createElement(X,{mode:d,onClick:p},(function(M){return S.createElement(x.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:x.Position.BottomCenter,target:S.createElement(x.MinimalButton,{ariaLabel:M.label,isSelected:i,testId:o,onClick:M.onClick},M.icon),content:function(){return M.label},offset:V})}))},N=function(h){var i=h.children,d=h.mode,p=h.store,o=d===p.get("selectionMode");return(i||function(M){return S.createElement(A,{isSelected:o,mode:M.mode,onClick:M.onClick})})({isSelected:o,mode:d,onClick:function(){return p.update("selectionMode",d)}})},C=function(h){var i=h.isSelected,d=h.mode,p=h.onClick,o="";switch(d){case e.SelectionMode.Hand:o="selection-mode__hand-menu";break;case e.SelectionMode.Text:default:o="selection-mode__text-menu"}return S.createElement(X,{mode:d,onClick:p},(function(M){return S.createElement(x.MenuItem,{checked:i,icon:M.icon,testId:o,onClick:M.onClick},M.label)}))},b=function(h){var i=h.store,d=S.useRef(null),p=S.useState(e.SelectionMode.Text),o=p[0],M=p[1],m=S.useRef({top:0,left:0,x:0,y:0}),f=function(k){var t=d.current;t&&(t.scrollTop=m.current.top-(k.clientY-m.current.y),t.scrollLeft=m.current.left-(k.clientX-m.current.x))},_=function(){var k=d.current;k&&(k.classList.add("rpv-selection-mode__grab"),k.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",_))},c=function(k){var t=d.current;t&&o!==e.SelectionMode.Text&&(t.classList.remove("rpv-selection-mode__grab"),t.classList.add("rpv-selection-mode__grabbing"),k.preventDefault(),k.stopPropagation(),m.current={left:t.scrollLeft,top:t.scrollTop,x:k.clientX,y:k.clientY},document.addEventListener("mousemove",f),document.addEventListener("mouseup",_))},a=function(k){d.current=k()},g=function(k){M(k)};return S.useEffect((function(){var k=d.current;if(k)return o===e.SelectionMode.Hand?k.classList.add("rpv-selection-mode__grab"):k.classList.remove("rpv-selection-mode__grab"),k.addEventListener("mousedown",c),function(){k.removeEventListener("mousedown",c)}}),[o]),S.useEffect((function(){return i.subscribe("getPagesContainer",a),i.subscribe("selectionMode",g),function(){i.unsubscribe("getPagesContainer",a),i.unsubscribe("selectionMode",g)}}),[]),S.createElement(S.Fragment,null)};e.HandToolIcon=r,e.TextSelectionIcon=Z,e.selectionModePlugin=function(h){var i=S.useMemo((function(){return x.createStore()}),[]),d=function(p){return S.createElement(N,j({},p,{store:i}))};return{install:function(p){i.update("selectionMode",h&&h.selectionMode?h.selectionMode:e.SelectionMode.Text),i.update("getPagesContainer",p.getPagesContainer)},renderViewer:function(p){var o=p.slot;return o.subSlot&&o.subSlot.children&&(o.subSlot.children=S.createElement(S.Fragment,null,S.createElement(b,{store:i}),o.subSlot.children)),o},SwitchSelectionMode:d,SwitchSelectionModeButton:function(p){return S.createElement(d,{mode:p.mode},(function(o){return S.createElement(A,{isSelected:o.isSelected,mode:o.mode,onClick:function(){o.onClick()}})}))},SwitchSelectionModeMenuItem:function(p){return S.createElement(d,{mode:p.mode},(function(o){return S.createElement(C,{isSelected:o.isSelected,mode:o.mode,onClick:function(){o.onClick(),p.onClick()}})}))}}}})(selectionMode_min)),selectionMode_min}var hasRequiredLib$d;function requireLib$d(){if(hasRequiredLib$d)return lib$b.exports;hasRequiredLib$d=1;return lib$b.exports=requireSelectionMode_min(),lib$b.exports}var lib$a={exports:{}},fullScreen_min={},hasRequiredFullScreen_min;function requireFullScreen_min(){if(hasRequiredFullScreen_min)return fullScreen_min;hasRequiredFullScreen_min=1;var e=requireLib$h();function x(p){var o=Object.create(null);return p&&Object.keys(p).forEach((function(M){if(M!=="default"){var m=Object.getOwnPropertyDescriptor(p,M);Object.defineProperty(o,M,m.get?m:{enumerable:!0,get:function(){return p[M]}})}})),o.default=p,Object.freeze(o)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},S=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M0.5 12L23.5 12"}),n.createElement("path",{d:"M11.5 1L11.5 23"}),n.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},r=function(){return r=Object.assign||function(p){for(var o,M=1,m=arguments.length;M<m;M++)for(var f in o=arguments[M])Object.prototype.hasOwnProperty.call(o,f)&&(p[f]=o[f]);return p},r.apply(this,arguments)},j={left:0,top:8},Z=function(p){var o=p.enableShortcuts,M=p.onClick,m=n.useContext(e.LocalizationContext).l10n,f=m&&m.fullScreen?m.fullScreen.enterFullScreen:"Full screen",_=o?e.isMac()?"Meta+Ctrl+F":"F11":"";return n.createElement(e.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:_,ariaLabel:f,isDisabled:!e.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:M},n.createElement(S,null)),content:function(){return f},offset:j})},X={left:0,top:8},V=function(p){var o=p.onClick,M=n.useContext(e.LocalizationContext).l10n,m=M&&M.fullScreen?M.fullScreen.exitFullScreen:"Exit full screen";return n.createElement(e.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:m,testId:"full-screen__exit-button-with-tooltip",onClick:o},n.createElement(y,null)),content:function(){return m},offset:X})},A=function(p,o){var M=n.useState(o.get("fullScreenMode")),m=M[0],f=M[1],_=n.useCallback((function(c){f(c)}),[]);return n.useEffect((function(){return o.subscribe("fullScreenMode",_),function(){o.unsubscribe("fullScreenMode",_)}}),[]),{enterFullScreen:function(){var c=o.get("getPagesContainer");if(c){var a=p(c());o.get("enterFullScreenMode")(a)}},exitFullScreen:function(){o.get("exitFullScreenMode")()},isFullScreen:m===e.FullScreenMode.Entering||m===e.FullScreenMode.EnteredCompletely}},N=function(p){var o=p.children,M=p.enableShortcuts,m=p.getFullScreenTarget,f=p.store,_=A(m,f),c=_.enterFullScreen,a=_.exitFullScreen,g=_.isFullScreen;return(o||function(k){return g?n.createElement(V,{onClick:k.onClick}):n.createElement(Z,{enableShortcuts:M,onClick:k.onClick})})({onClick:g?a:c})},C=function(p){var o=p.onClick,M=n.useContext(e.LocalizationContext).l10n,m=M&&M.fullScreen?M.fullScreen.enterFullScreen:"Full screen";return n.createElement(e.MenuItem,{icon:n.createElement(S,null),isDisabled:!e.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:o},m)},b=function(p){var o=p.onClick,M=n.useContext(e.LocalizationContext).l10n,m=n.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,f=M&&M.fullScreen?M.fullScreen.exitFullScreen:"Exit full screen";return n.createElement("div",{className:e.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!m,"rpv-full-screen__exit-button--rtl":m})},n.createElement(e.MinimalButton,{ariaLabel:f,testId:"full-screen__exit-button",onClick:o},n.createElement(y,null)))},h=function(p){var o=p.children,M=p.getFullScreenTarget,m=p.store,f=A(M,m),_=f.enterFullScreen,c=f.exitFullScreen,a=f.isFullScreen;return a&&(o||function(g){return n.createElement(b,{onClick:g.onClick})})({onClick:a?c:_})},i=function(p){var o=p.store,M=p.onEnterFullScreen,m=p.onExitFullScreen,f=n.useState(o.get("fullScreenMode")),_=f[0],c=f[1],a=n.useCallback((function(g){c(g)}),[]);return n.useEffect((function(){switch(_){case e.FullScreenMode.EnteredCompletely:M(o.get("zoom"));break;case e.FullScreenMode.Exited:m(o.get("zoom"))}}),[_]),n.useEffect((function(){return o.subscribe("fullScreenMode",a),function(){o.unsubscribe("fullScreenMode",a)}}),[]),(_===e.FullScreenMode.Entering||_===e.FullScreenMode.Entered)&&n.createElement("div",{className:"rpv-full-screen__overlay"},n.createElement(e.Spinner,null))},d=function(p){var o=p.containerRef,M=p.getFullScreenTarget,m=p.store,f=A(M,m).enterFullScreen,_=function(c){if(!c.shiftKey&&!c.altKey&&(e.isMac()?c.metaKey&&c.ctrlKey&&c.key==="f":c.key==="F11")){var a=o.current;a&&document.activeElement&&a.contains(document.activeElement)&&(c.preventDefault(),f())}};return n.useEffect((function(){if(o.current)return document.addEventListener("keydown",_),function(){document.removeEventListener("keydown",_)}}),[o.current]),n.createElement(n.Fragment,null)};return fullScreen_min.ExitFullScreenIcon=y,fullScreen_min.FullScreenIcon=S,fullScreen_min.fullScreenPlugin=function(p){var o=(p==null?void 0:p.getFullScreenTarget)||function(c){return c},M=n.useMemo((function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},p)}),[]),m=n.useMemo((function(){return e.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e.FullScreenMode.Normal,zoom:function(){}})}),[]),f=function(c){return n.createElement(N,r({},c,{enableShortcuts:M.enableShortcuts,getFullScreenTarget:o,store:m}))},_=function(){return n.createElement(h,{getFullScreenTarget:o,store:m},p==null?void 0:p.renderExitFullScreenButton)};return{install:function(c){m.update("enterFullScreenMode",c.enterFullScreenMode),m.update("exitFullScreenMode",c.exitFullScreenMode),m.update("getPagesContainer",c.getPagesContainer),m.update("zoom",c.zoom)},onViewerStateChange:function(c){return m.update("fullScreenMode",c.fullScreenMode),c},renderViewer:function(c){var a=c.slot;return a.subSlot&&(a.subSlot.children=n.createElement(n.Fragment,null,M.enableShortcuts&&n.createElement(d,{containerRef:c.containerRef,getFullScreenTarget:o,store:m}),n.createElement(i,{store:m,onEnterFullScreen:M.onEnterFullScreen,onExitFullScreen:M.onExitFullScreen}),n.createElement(_,null),a.subSlot.children)),a},EnterFullScreen:f,EnterFullScreenButton:function(){return n.createElement(f,null,(function(c){return n.createElement(Z,r({enableShortcuts:M.enableShortcuts},c))}))},EnterFullScreenMenuItem:function(c){return n.createElement(f,null,(function(a){return n.createElement(C,{onClick:function(){a.onClick(),c.onClick()}})}))}}},fullScreen_min}var hasRequiredLib$c;function requireLib$c(){if(hasRequiredLib$c)return lib$a.exports;hasRequiredLib$c=1;return lib$a.exports=requireFullScreen_min(),lib$a.exports}var lib$9={exports:{}},getFile_min={},hasRequiredGetFile_min;function requireGetFile_min(){if(hasRequiredGetFile_min)return getFile_min;hasRequiredGetFile_min=1;var e=requireLib$h();function x(C){var b=Object.create(null);return C&&Object.keys(C).forEach((function(h){if(h!=="default"){var i=Object.getOwnPropertyDescriptor(C,h);Object.defineProperty(b,h,i.get?i:{enumerable:!0,get:function(){return C[h]}})}})),b.default=C,Object.freeze(b)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},S=function(){return S=Object.assign||function(C){for(var b,h=1,i=arguments.length;h<i;h++)for(var d in b=arguments[h])Object.prototype.hasOwnProperty.call(b,d)&&(C[d]=b[d]);return C},S.apply(this,arguments)},r={left:0,top:8},j=function(C){var b=C.onClick,h=n.useContext(e.LocalizationContext).l10n,i=h&&h.download?h.download.download:"Download";return n.createElement(e.Tooltip,{ariaControlsSuffix:"get-file",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:i,testId:"get-file__download-button",onClick:b},n.createElement(y,null)),content:function(){return i},offset:r})},Z=function(C,b){var h=document.createElement("a");h.style.display="none",h.href=C,h.setAttribute("download",b),document.body.appendChild(h),h.click(),document.body.removeChild(h)},X=function(C,b,h){var i=URL.createObjectURL(new Blob([C],{type:h}));Z(i,b),i&&URL.revokeObjectURL(i)},V=function(C,b){C.getData().then((function(h){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?X(h,b,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?Z("data:application/pdf;base64,".concat((function(i){return btoa(Array(i.length).fill("").map((function(d,p){return String.fromCharCode(i[p])})).join(""))})(h)),b):X(h,b,"application/pdf")}))},A=function(C){var b=C.children,h=C.fileNameGenerator,i=C.store,d=n.useState(i.get("file")),p=d[0],o=d[1],M=n.useState(i.get("doc")),m=M[0],f=M[1],_=function(a){f(a)},c=function(a){o(a)};return n.useEffect((function(){return i.subscribe("doc",_),i.subscribe("file",c),function(){i.subscribe("doc",_),i.unsubscribe("file",c)}}),[]),(b||function(a){return n.createElement(j,{onClick:a.onClick})})({onClick:function(){m&&p&&V(m,h(p))}})},N=function(C){var b=C.onClick,h=n.useContext(e.LocalizationContext).l10n,i=h&&h.download?h.download.download:"Download";return n.createElement(e.MenuItem,{icon:n.createElement(y,null),testId:"get-file__download-menu",onClick:b},i)};return getFile_min.DownloadIcon=y,getFile_min.getFilePlugin=function(C){var b=n.useMemo((function(){return e.createStore({})}),[]),h=function(d){return d.name?(p=d.name,(o=p.split("/").pop())?o.split("#")[0].split("?")[0]:p):"document.pdf";var p,o},i=function(d){return n.createElement(A,S({},d,{fileNameGenerator:C&&C.fileNameGenerator||h,store:b}))};return{onDocumentLoad:function(d){b.update("doc",d.doc),b.update("file",d.file)},Download:i,DownloadButton:function(){return n.createElement(i,null,(function(d){return n.createElement(j,S({},d))}))},DownloadMenuItem:function(d){return n.createElement(i,null,(function(p){return n.createElement(N,{onClick:function(){p.onClick(),d.onClick()}})}))}}},getFile_min}var hasRequiredLib$b;function requireLib$b(){if(hasRequiredLib$b)return lib$9.exports;hasRequiredLib$b=1;return lib$9.exports=requireGetFile_min(),lib$9.exports}var lib$8={exports:{}},open_min={},hasRequiredOpen_min;function requireOpen_min(){if(hasRequiredOpen_min)return open_min;hasRequiredOpen_min=1;var e=requireLib$h();function x(N){var C=Object.create(null);return N&&Object.keys(N).forEach((function(b){if(b!=="default"){var h=Object.getOwnPropertyDescriptor(N,b);Object.defineProperty(C,b,h.get?h:{enumerable:!0,get:function(){return N[b]}})}})),C.default=N,Object.freeze(C)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},S=function(){return S=Object.assign||function(N){for(var C,b=1,h=arguments.length;b<h;b++)for(var i in C=arguments[b])Object.prototype.hasOwnProperty.call(C,i)&&(N[i]=C[i]);return N},S.apply(this,arguments)},r=function(N){var C=n.useRef(),b=function(){var i=C.current;i&&(i.click(),N.get("triggerOpenFile")&&N.update("triggerOpenFile",!1))},h=function(i){i&&b()};return n.useEffect((function(){return N.subscribe("triggerOpenFile",h),function(){N.unsubscribe("triggerOpenFile",h)}}),[]),{inputRef:C,openFile:b}},j={left:0,top:8},Z=function(N){var C=N.enableShortcuts,b=N.store,h=N.onClick,i=n.useContext(e.LocalizationContext).l10n,d=i&&i.open?i.open.openFile:"Open file",p=r(b),o=p.inputRef,M=p.openFile,m=C?e.isMac()?"Meta+O":"Ctrl+O":"";return n.createElement(e.Tooltip,{ariaControlsSuffix:"open",position:e.Position.BottomCenter,target:n.createElement("div",{className:"rpv-open__input-wrapper"},n.createElement("input",{accept:".pdf",ref:o,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:h}),n.createElement(e.MinimalButton,{ariaKeyShortcuts:m,ariaLabel:d,testId:"open__button",onClick:M},n.createElement(y,null))),content:function(){return d},offset:j})},X=function(N){var C=N.children,b=N.enableShortcuts,h=N.store;return(C||function(i){return n.createElement(Z,{enableShortcuts:b,store:h,onClick:i.onClick})})({onClick:function(i){var d=i.target.files;if(d&&d.length){var p=h.get("openFile");p&&p(d[0])}}})},V=function(N){var C=N.store,b=N.onClick,h=n.useContext(e.LocalizationContext).l10n,i=h&&h.open?h.open.openFile:"Open file",d=r(C),p=d.inputRef,o=d.openFile;return n.createElement(e.MenuItem,{icon:n.createElement(y,null),testId:"open__menu",onClick:o},n.createElement("div",{className:"rpv-open__input-wrapper"},n.createElement("input",{accept:".pdf",ref:p,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:b}),i))},A=function(N){var C=N.containerRef,b=N.store,h=function(i){if(!i.shiftKey&&!i.altKey&&i.key==="o"&&(e.isMac()?i.metaKey:i.ctrlKey)){var d=C.current;d&&document.activeElement&&d.contains(document.activeElement)&&(i.preventDefault(),b.update("triggerOpenFile",!0))}};return n.useEffect((function(){if(C.current)return document.addEventListener("keydown",h),function(){document.removeEventListener("keydown",h)}}),[C.current]),n.createElement(n.Fragment,null)};return open_min.OpenFileIcon=y,open_min.openPlugin=function(N){var C=n.useMemo((function(){return Object.assign({},{enableShortcuts:!0},N)}),[]),b=n.useMemo((function(){return e.createStore({})}),[]),h=function(i){return n.createElement(X,S({enableShortcuts:C.enableShortcuts},i,{store:b}))};return{install:function(i){b.update("openFile",i.openFile)},renderViewer:function(i){var d=i.slot,p={children:n.createElement(n.Fragment,null,C.enableShortcuts&&n.createElement(A,{containerRef:i.containerRef,store:b}),d.children)};return S(S({},d),p)},Open:h,OpenButton:function(){return n.createElement(h,null)},OpenMenuItem:function(){return n.createElement(h,null,(function(i){return n.createElement(V,{store:b,onClick:i.onClick})}))}}},open_min}var hasRequiredLib$a;function requireLib$a(){if(hasRequiredLib$a)return lib$8.exports;hasRequiredLib$a=1;return lib$8.exports=requireOpen_min(),lib$8.exports}var lib$7={exports:{}},pageNavigation_min={},hasRequiredPageNavigation_min;function requirePageNavigation_min(){if(hasRequiredPageNavigation_min)return pageNavigation_min;hasRequiredPageNavigation_min=1;var e=requireLib$h();function x(P){var D=Object.create(null);return P&&Object.keys(P).forEach((function(T){if(T!=="default"){var H=Object.getOwnPropertyDescriptor(P,T);Object.defineProperty(D,T,H.get?H:{enumerable:!0,get:function(){return P[T]}})}})),D.default=P,Object.freeze(D)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"}))},S=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},r=function(){return r=Object.assign||function(P){for(var D,T=1,H=arguments.length;T<H;T++)for(var F in D=arguments[T])Object.prototype.hasOwnProperty.call(D,F)&&(P[F]=D[F]);return P},r.apply(this,arguments)},j=function(P){var D=n.useState(P.get("currentPage")||0),T=D[0],H=D[1],F=function(W){H(W)};return e.useIsomorphicLayoutEffect((function(){return P.subscribe("currentPage",F),function(){P.unsubscribe("currentPage",F)}}),[]),{currentPage:T}},Z=function(P){var D=n.useState(P.get("numberOfPages")||0),T=D[0],H=D[1],F=function(W){H(W)};return n.useEffect((function(){return P.subscribe("numberOfPages",F),function(){P.unsubscribe("numberOfPages",F)}}),[]),{numberOfPages:T}},X=function(P){var D=P.store,T=n.useContext(e.LocalizationContext).l10n,H=n.useState("1"),F=H[0],W=H[1],J=j(D).currentPage,R=Z(D).numberOfPages;n.useEffect((function(){return W("".concat(J+1))}),[J]);var l=function(L){var G=D.get("jumpToPage");G&&G(L)},v=T&&T.pageNavigation?T.pageNavigation.enterPageNumber:"Enter a page number";return n.createElement("span",{className:"rpv-page-navigation__current-page-input"},n.createElement(e.TextBox,{ariaLabel:v,testId:"page-navigation__current-page-input",type:"text",value:F,onChange:W,onKeyDown:function(L){switch(L.key){case"ArrowUp":(U=J-1)>=0&&(W("".concat(U+1)),l(U));break;case"ArrowDown":(z=J+1)<R&&(W("".concat(z+1)),l(z));break;case"Enter":G=parseInt(F,10),F===""||G<1||G>R?W("".concat(J+1)):l(G-1)}var G,z,U}}))},V=function(P){var D=P.children,T=P.doc,H=e.useIsMounted(),F=n.useState({loading:!0,labels:[]}),W=F[0],J=F[1];return n.useEffect((function(){T.getPageLabels().then((function(R){H.current&&J({loading:!1,labels:R||[]})}))}),[T.loadingTask.docId]),W.loading?n.createElement(n.Fragment,null):D(W.labels)},A=function(P){var D=P.children,T=P.store,H=(function(R){var l=n.useState(R.get("doc")),v=l[0],L=l[1],G=function(z){L(z)};return n.useEffect((function(){return R.subscribe("doc",G),function(){R.unsubscribe("doc",G)}}),[]),v})(T),F=j(T).currentPage,W=Z(T).numberOfPages,J=D||function(R){return n.createElement(n.Fragment,null,R.currentPage+1)};return H?n.createElement(V,{doc:H},(function(R){var l=R.length===W&&W>0?R[F]:"";return J({currentPage:F,numberOfPages:W,pageLabel:l})})):n.createElement(n.Fragment,null)},N=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}))},C={left:0,top:8},b=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToFirstPage:"First page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:F,isDisabled:D,testId:"page-navigation__first-button",onClick:T},n.createElement(N,null)),content:function(){return F},offset:C})},h=function(P){var D=P.children,T=P.store;return(D||function(H){return n.createElement(b,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:j(T).currentPage===0,onClick:function(){var H=T.get("jumpToPage");H&&H(0)}})},i=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToFirstPage:"First page";return n.createElement(e.MenuItem,{icon:n.createElement(N,null),isDisabled:D,testId:"page-navigation__first-menu",onClick:T},F)},d={left:0,top:8},p=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToLastPage:"Last page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:F,isDisabled:D,testId:"page-navigation__last-button",onClick:T},n.createElement(y,null)),content:function(){return F},offset:d})},o=function(P){var D=P.children,T=P.store,H=j(T).currentPage,F=Z(T).numberOfPages;return(D||function(W){return n.createElement(p,{isDisabled:W.isDisabled,onClick:W.onClick})})({isDisabled:H+1>=F,onClick:function(){var W=T.get("jumpToPage");W&&W(F-1)}})},M=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToLastPage:"Last page";return n.createElement(e.MenuItem,{icon:n.createElement(y,null),isDisabled:D,testId:"page-navigation__last-menu",onClick:T},F)},m={left:0,top:8},f=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToNextPage:"Next page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:F,isDisabled:D,testId:"page-navigation__next-button",onClick:T},n.createElement(S,null)),content:function(){return F},offset:m})},_=function(P){var D=P.children,T=P.store;return(D||function(H){return n.createElement(f,{onClick:H.onClick,isDisabled:H.isDisabled})})({isDisabled:j(T).currentPage+1>=Z(T).numberOfPages,onClick:function(){var H=T.get("jumpToNextPage");H&&H()}})},c=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToNextPage:"Next page";return n.createElement(e.MenuItem,{icon:n.createElement(S,null),isDisabled:D,testId:"page-navigation__next-menu",onClick:T},F)},a=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},g={left:0,top:8},k=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:F,isDisabled:D,testId:"page-navigation__previous-button",onClick:T},n.createElement(a,null)),content:function(){return F},offset:g})},t=function(P){var D=P.store;return(P.children||function(T){return n.createElement(k,{isDisabled:T.isDisabled,onClick:T.onClick})})({isDisabled:j(D).currentPage<=0,onClick:function(){var T=D.get("jumpToPreviousPage");T&&T()}})},s=function(P){var D=P.isDisabled,T=P.onClick,H=n.useContext(e.LocalizationContext).l10n,F=H&&H.pageNavigation?H.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.MenuItem,{icon:n.createElement(a,null),isDisabled:D,testId:"page-navigation__previous-menu",onClick:T},F)},w=function(P){var D=P.children,T=P.store,H=Z(T).numberOfPages;return D?D({numberOfPages:H}):n.createElement(n.Fragment,null,H)},B=function(P){var D=P.containerRef,T=P.numPages,H=P.store,F=j(H).currentPage,W=n.useRef(F);W.current=F;var J=n.useRef(!1),R=function(){J.current=!0},l=function(){J.current=!1},v=function(L){var G=D.current,z=J.current||document.activeElement&&G.contains(document.activeElement);if(G&&z){var U,ee,fe=L.altKey&&L.key==="ArrowDown"||!L.shiftKey&&!L.altKey&&L.key==="PageDown",Se=L.altKey&&L.key==="ArrowUp"||!L.shiftKey&&!L.altKey&&L.key==="PageUp";if(fe)return L.preventDefault(),U=H.get("jumpToPage"),ee=W.current+1,void(U&&ee<T&&U(ee));if(Se)return L.preventDefault(),void(function(){var xe=H.get("jumpToPage"),Ae=W.current-1;xe&&Ae>=0&&xe(Ae)})();if(e.isMac()?L.metaKey&&!L.ctrlKey:L.altKey)switch(L.key){case"ArrowLeft":L.preventDefault(),(function(){var xe=H.get("jumpToPreviousDestination");xe&&xe()})();break;case"ArrowRight":L.preventDefault(),(function(){var xe=H.get("jumpToNextDestination");xe&&xe()})()}}};return n.useEffect((function(){var L=D.current;if(L)return document.addEventListener("keydown",v),L.addEventListener("mouseenter",R),L.addEventListener("mouseleave",l),function(){document.removeEventListener("keydown",v),L.removeEventListener("mouseenter",R),L.removeEventListener("mouseleave",l)}}),[D.current]),n.createElement(n.Fragment,null)};return pageNavigation_min.DownArrowIcon=y,pageNavigation_min.NextIcon=S,pageNavigation_min.PreviousIcon=a,pageNavigation_min.UpArrowIcon=N,pageNavigation_min.pageNavigationPlugin=function(P){var D=n.useMemo((function(){return Object.assign({},{enableShortcuts:!0},P)}),[]),T=n.useMemo((function(){return e.createStore()}),[]),H=function(R){return n.createElement(h,r({},R,{store:T}))},F=function(R){return n.createElement(o,r({},R,{store:T}))},W=function(R){return n.createElement(_,r({},R,{store:T}))},J=function(R){return n.createElement(t,r({},R,{store:T}))};return{install:function(R){T.update("jumpToDestination",R.jumpToDestination),T.update("jumpToNextDestination",R.jumpToNextDestination),T.update("jumpToNextPage",R.jumpToNextPage),T.update("jumpToPage",R.jumpToPage),T.update("jumpToPreviousDestination",R.jumpToPreviousDestination),T.update("jumpToPreviousPage",R.jumpToPreviousPage)},renderViewer:function(R){var l=R.slot;if(!D.enableShortcuts)return l;var v={children:n.createElement(n.Fragment,null,n.createElement(B,{containerRef:R.containerRef,numPages:R.doc.numPages,store:T}),l.children)};return r(r({},l),v)},onDocumentLoad:function(R){T.update("doc",R.doc),T.update("numberOfPages",R.doc.numPages)},onViewerStateChange:function(R){return T.update("currentPage",R.pageIndex),R},jumpToNextPage:function(){var R=T.get("jumpToNextPage");R&&R()},jumpToPage:function(R){var l=T.get("jumpToPage");l&&l(R)},jumpToPreviousPage:function(){var R=T.get("jumpToPreviousPage");R&&R()},CurrentPageInput:function(){return n.createElement(X,{store:T})},CurrentPageLabel:function(R){return n.createElement(A,r({},R,{store:T}))},GoToFirstPage:H,GoToFirstPageButton:function(){return n.createElement(H,null,(function(R){return n.createElement(b,r({},R))}))},GoToFirstPageMenuItem:function(R){return n.createElement(H,null,(function(l){return n.createElement(i,{isDisabled:l.isDisabled,onClick:function(){l.onClick(),R.onClick()}})}))},GoToLastPage:F,GoToLastPageButton:function(){return n.createElement(F,null,(function(R){return n.createElement(p,r({},R))}))},GoToLastPageMenuItem:function(R){return n.createElement(F,null,(function(l){return n.createElement(M,{isDisabled:l.isDisabled,onClick:function(){l.onClick(),R.onClick()}})}))},GoToNextPage:W,GoToNextPageButton:function(){return n.createElement(W,null,(function(R){return n.createElement(f,r({},R))}))},GoToNextPageMenuItem:function(R){return n.createElement(W,null,(function(l){return n.createElement(c,{isDisabled:l.isDisabled,onClick:function(){l.onClick(),R.onClick()}})}))},GoToPreviousPage:J,GoToPreviousPageButton:function(){return n.createElement(J,null,(function(R){return n.createElement(k,r({},R))}))},GoToPreviousPageMenuItem:function(R){return n.createElement(J,null,(function(l){return n.createElement(s,{isDisabled:l.isDisabled,onClick:function(){l.onClick(),R.onClick()}})}))},NumberOfPages:function(R){return n.createElement(w,r({},R,{store:T}))}}},pageNavigation_min}var hasRequiredLib$9;function requireLib$9(){if(hasRequiredLib$9)return lib$7.exports;hasRequiredLib$9=1;return lib$7.exports=requirePageNavigation_min(),lib$7.exports}var lib$6={exports:{}},print_min={},hasRequiredPrint_min;function requirePrint_min(){if(hasRequiredPrint_min)return print_min;hasRequiredPrint_min=1;var e={},x=requireLib$h(),n=requireReact(),y=requireReactDom();function S(m){var f=Object.create(null);return m&&Object.keys(m).forEach((function(_){if(_!=="default"){var c=Object.getOwnPropertyDescriptor(m,_);Object.defineProperty(f,_,c.get?c:{enumerable:!0,get:function(){return m[_]}})}})),f.default=m,Object.freeze(f)}var r,j=S(n),Z=function(){return j.createElement(x.Icon,{size:16},j.createElement("path",{d:"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\n            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\n            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\n            C18.395,3.394,18.5,3.649,18.5,3.914V4.5\n            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\n            M3.5,8.499\n            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\n            M14.5,0.499v4h4"}))},X=function(){return X=Object.assign||function(m){for(var f,_=1,c=arguments.length;_<c;_++)for(var a in f=arguments[_])Object.prototype.hasOwnProperty.call(f,a)&&(m[a]=f[a]);return m},X.apply(this,arguments)},V={left:0,top:8},A=function(m){var f=m.enableShortcuts,_=m.onClick,c=j.useContext(x.LocalizationContext).l10n,a=c&&c.print?c.print.print:"Print",g=f?x.isMac()?"Meta+P":"Ctrl+P":"";return j.createElement(x.Tooltip,{ariaControlsSuffix:"print",position:x.Position.BottomCenter,target:j.createElement(x.MinimalButton,{ariaKeyShortcuts:g,ariaLabel:a,testId:"print__button",onClick:_},j.createElement(Z,null)),content:function(){return a},offset:V})};(function(m){m.CheckingPermission="CheckingPermission",m.Inactive="Inactive",m.Preparing="Preparing",m.Cancelled="Cancelled",m.Ready="Ready"})(r||(r={}));var N=function(m){var f=m.children,_=m.enableShortcuts,c=m.store;return(f||A)({enableShortcuts:_,onClick:function(){c.update("printStatus",r.CheckingPermission)}})},C=function(m){var f=m.doc,_=m.store,c=j.useContext(x.LocalizationContext).l10n,a=j.useState(!0),g=a[0],k=a[1];return j.useEffect((function(){f.getPermissions().then((function(t){t===null||t.includes(4)||t.includes(2048)?_.update("printStatus",r.Preparing):k(!1)}))}),[]),g?j.createElement(j.Fragment,null):j.createElement(x.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(t){return j.createElement(j.Fragment,null,j.createElement("div",{className:"rpv-print__permission-body"},c&&c.print?c.print.disallowPrint:"The document does not allow to print"),j.createElement("div",{className:"rpv-print__permission-footer"},j.createElement(x.Button,{onClick:function(){t(),_.update("printStatus",r.Cancelled)}},c&&c.print?c.print.close:"Close")))},isOpened:!0})},b=function(m){var f=m.numLoadedPages,_=m.numPages,c=m.onCancel,a=j.useContext(x.LocalizationContext).l10n,g=j.useContext(x.ThemeContext).direction===x.TextDirection.RightToLeft,k=Math.floor(100*f/_);return j.createElement("div",{className:"rpv-print__progress"},j.createElement("div",{className:x.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":g})},j.createElement("div",{className:"rpv-print__progress-message"},a&&a.print?a.print.preparingDocument:"Preparing document ..."),j.createElement("div",{className:"rpv-print__progress-bar"},j.createElement(x.ProgressBar,{progress:k})),j.createElement(x.Button,{onClick:c},a&&a.print?a.print.cancel:"Cancel")))},h=function(m){var f=m.canvas,_=m.page,c=m.pageHeight,a=m.pageIndex,g=m.pageWidth,k=m.rotation,t=m.onLoad,s=x.useIsMounted(),w=j.useRef(),B=j.useState(""),P=B[0],D=B[1],T=j.useMemo((function(){return typeof process<"u"&&e.JEST_WORKER_ID!==void 0}),[]);return j.useEffect((function(){var H=w.current;H&&H.cancel();var F=150/72;f.height=Math.floor(c*F),f.width=Math.floor(g*F);var W=f.getContext("2d");W.save(),W.fillStyle="rgb(255, 255, 255)",W.fillRect(0,0,f.width,f.height),W.restore();var J=_.getViewport({rotation:k,scale:1});w.current=_.render({canvasContext:W,intent:"print",transform:[F,0,0,F,0,0],viewport:J}),w.current.promise.then((function(){"toBlob"in f&&"createObjectURL"in URL?f.toBlob((function(R){s.current&&D(URL.createObjectURL(R)),T&&t()})):(s.current&&D(f.toDataURL()),T&&t())}),(function(){}))}),[]),P&&j.createElement("div",{className:"rpv-print__page"},j.createElement("img",{"data-testid":"print__thumbnail-".concat(a),src:P,onLoad:function(){T||t()}}))},i=function(m){var f=m.canvas,_=m.doc,c=m.pageIndex,a=m.pageRotation,g=m.pageSize,k=m.rotation,t=m.shouldRender,s=m.onLoad,w=x.useIsMounted(),B=j.useState(null),P=B[0],D=B[1],T=Math.abs(k+a)%180==0;j.useEffect((function(){t&&x.getPage(_,c).then((function(F){w.current&&D(F)}))}),[t]);var H=(g.rotation+k+a)%360;return P&&j.createElement(h,{canvas:f,page:P,pageHeight:T?g.pageHeight:g.pageWidth,pageIndex:c,pageWidth:T?g.pageWidth:g.pageHeight,rotation:H,onLoad:s})},d=function(m){var f=m.doc,_=m.numLoadedPages,c=m.pagesRotation,a=m.pageSizes,g=m.printPages,k=m.printStatus,t=m.rotation,s=m.onCancel,w=m.onLoad,B=j.useMemo((function(){return document.createElement("canvas")}),[]),P=j.useMemo((function(){var H=document.querySelector(".rpv-print__zone");if(H)return H;var F=document.createElement("div");return F.classList.add("rpv-print__zone"),F.setAttribute("data-testid","print__zone"),document.body.appendChild(F),F}),[]);j.useEffect((function(){k===r.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var H=function(){if(k===r.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var F=document.querySelectorAll(".rpv-print__zone");F&&F.forEach((function(W){W.parentElement.removeChild(W)})),B.height=0,B.width=0,document.removeEventListener("mousemove",H),s()}};return document.addEventListener("mousemove",H),function(){return document.removeEventListener("mousemove",H)}}),[k]);var D=a[0].pageHeight,T=a[0].pageWidth;return y.createPortal(j.createElement(j.Fragment,null,g.map((function(H,F){return j.createElement(i,{key:H,canvas:B,doc:f,pageIndex:H,pageRotation:c.has(H)?c.get(H):0,pageSize:a[H],rotation:t,shouldRender:F===_,onLoad:w})})),j.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(T,"pt ").concat(D,"pt }")}})),P)},p=function(m){var f=m.doc,_=m.pagesRotation,c=m.pageSizes,a=m.renderProgressBar,g=m.rotation,k=m.setPages,t=m.store,s=j.useState(r.Inactive),w=s[0],B=s[1],P=j.useState(0),D=P[0],T=P[1],H=j.useMemo((function(){var R=f.numPages;return k(f).filter((function(l){return l>=0&&l<R}))}),[f,k]),F=H.length,W=function(){T(0),B(r.Inactive)},J=function(R){return B(R)};return j.useEffect((function(){return t.subscribe("printStatus",J),function(){t.unsubscribe("printStatus",J)}}),[]),j.createElement(j.Fragment,null,w===r.CheckingPermission&&j.createElement(C,{doc:f,store:t}),w===r.Preparing&&(a?a(D,F,W):j.createElement(b,{numLoadedPages:D,numPages:F,onCancel:W})),(w===r.Preparing||w===r.Ready)&&D<=F&&j.createElement(d,{doc:f,numLoadedPages:D,pagesRotation:_,pageSizes:c,printPages:H,printStatus:w,rotation:g,onCancel:W,onLoad:function(){var R=D+1;R<=F&&(T(R),R===F&&B(r.Ready))}}))},o=function(m){var f=m.onClick,_=j.useContext(x.LocalizationContext).l10n,c=_&&_.print?_.print.print:"Print";return j.createElement(x.MenuItem,{icon:j.createElement(Z,null),testId:"print__menu",onClick:f},c)},M=function(m){var f=m.containerRef,_=m.store,c=function(a){if(!a.shiftKey&&!a.altKey&&a.key==="p"&&(x.isMac()?a.metaKey:a.ctrlKey)){var g=f.current;g&&document.activeElement&&g.contains(document.activeElement)&&(a.preventDefault(),_.update("printStatus",r.Preparing))}};return j.useEffect((function(){if(f.current)return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[f.current]),j.createElement(j.Fragment,null)};return print_min.PrintIcon=Z,print_min.getAllPagesNumbers=function(m){return Array(m.numPages).fill(0).map((function(f,_){return _}))},print_min.getCustomPagesNumbers=function(m){return function(f){var _,c=[];return m.replace(/\s+/g,"").split(",").forEach((function(a){var g,k,t=a.split("-").map((function(s){return parseInt(s,10)})).filter((function(s){return Number.isInteger(s)}));t.length===1?c.push(t[0]-1):t.length===2&&c.push.apply(c,(g=t[0]-1,k=t[1]-1,Array(k-g+1).fill(0).map((function(s,w){return g+w}))))})),(_=c,_.filter((function(a){return _.indexOf(a)===_.lastIndexOf(a)}))).filter((function(a){return a>=0&&a<f.numPages}))}},print_min.getEvenPagesNumbers=function(m){return Array(m.numPages).fill(0).map((function(f,_){return _})).filter((function(f){return(f+1)%2==0}))},print_min.getOddPagesNumbers=function(m){return Array(m.numPages).fill(0).map((function(f,_){return _})).filter((function(f){return(f+1)%2==1}))},print_min.printPlugin=function(m){var f=j.useMemo((function(){return Object.assign({},{enableShortcuts:!0,setPages:function(a){return Array(a.numPages).fill(0).map((function(g,k){return k}))}},m)}),[]),_=j.useMemo((function(){return x.createStore({printStatus:r.Inactive})}),[]),c=function(a){return j.createElement(N,X({enableShortcuts:f.enableShortcuts},a,{store:_}))};return{print:function(){_.update("printStatus",r.CheckingPermission)},renderViewer:function(a){var g=a.slot,k={children:j.createElement(j.Fragment,null,f.enableShortcuts&&j.createElement(M,{containerRef:a.containerRef,store:_}),j.createElement(p,{doc:a.doc,pagesRotation:a.pagesRotation,pageSizes:a.pageSizes,renderProgressBar:m==null?void 0:m.renderProgressBar,rotation:a.rotation,setPages:f.setPages,store:_}),g.children)};return X(X({},g),k)},Print:c,PrintButton:function(){return j.createElement(c,null,(function(a){return j.createElement(A,X({},a))}))},PrintMenuItem:function(a){return j.createElement(c,null,(function(g){return j.createElement(o,{onClick:function(){g.onClick(),a.onClick()}})}))},setPages:function(a){f.setPages=a}}},print_min}var hasRequiredLib$8;function requireLib$8(){if(hasRequiredLib$8)return lib$6.exports;hasRequiredLib$8=1;return lib$6.exports=requirePrint_min(),lib$6.exports}var lib$5={exports:{}},properties_min={},hasRequiredProperties_min;function requireProperties_min(){if(hasRequiredProperties_min)return properties_min;hasRequiredProperties_min=1;var e=requireLib$h();function x(h){var i=Object.create(null);return h&&Object.keys(h).forEach((function(d){if(d!=="default"){var p=Object.getOwnPropertyDescriptor(h,d);Object.defineProperty(i,d,p.get?p:{enumerable:!0,get:function(){return h[d]}})}})),i.default=h,Object.freeze(i)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\n            M14.5,17.005H13\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\n            M11.745,6.504L11.745,6.504\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5"}))},S=function(){return S=Object.assign||function(h){for(var i,d=1,p=arguments.length;d<p;d++)for(var o in i=arguments[d])Object.prototype.hasOwnProperty.call(i,o)&&(h[o]=i[o]);return h},S.apply(this,arguments)},r=function(h){var i=h.doc,d=h.render,p=n.useState(),o=p[0],M=p[1];return n.useEffect((function(){i.getMetadata().then((function(m){return Promise.resolve(m)})).then((function(m){return i.getDownloadInfo().then((function(f){return Promise.resolve({fileName:m.contentDispositionFilename||"",info:m.info,length:f.length})}))})).then((function(m){M(m)}))}),[]),o?d(o):n.createElement("div",{className:"rpv-properties__loader"},n.createElement(e.Spinner,null))},j=function(h){var i=h.label,d=h.value,p=n.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft;return n.createElement("dl",{className:e.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":p})},n.createElement("dt",{className:"rpv-properties__item-label"},i,":"),n.createElement("dd",{className:"rpv-properties__item-value"},d||"-"))},Z=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),X=function(h,i,d,p){var o=parseInt(h,10);return o>=i&&o<=d?o:p},V=function(h){var i=h.doc,d=h.fileName,p=h.onToggle,o=n.useContext(e.LocalizationContext).l10n,M=function(m){var f=(function(_){var c=Z.exec(_);if(!c)return null;var a=parseInt(c[1],10),g=X(c[2],1,12,1)-1,k=X(c[3],1,31,1),t=X(c[4],0,23,0),s=X(c[5],0,59,0),w=X(c[6],0,59,0),B=c[7]||"Z",P=X(c[8],0,23,0),D=X(c[9],0,59,0);switch(B){case"-":t+=P,s+=D;break;case"+":t-=P,s-=D}return new Date(Date.UTC(a,g,k,t,s,w))})(m);return f?"".concat(f.toLocaleDateString(),", ").concat(f.toLocaleTimeString()):""};return n.createElement("div",{className:"rpv-properties__modal"},n.createElement(r,{doc:i,render:function(m){return n.createElement(n.Fragment,null,n.createElement("div",{className:"rpv-properties__modal-section"},n.createElement(j,{label:o&&o.properties?o.properties.fileName:"File name",value:m.fileName||(c=d,a=c.split("/").pop(),a?a.split("#")[0].split("?")[0]:c)}),n.createElement(j,{label:o&&o.properties?o.properties.fileSize:"File size",value:(f=m.length,_=Math.floor(Math.log(f)/Math.log(1024)),"".concat((f/Math.pow(1024,_)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][_]))})),n.createElement(e.Separator,null),n.createElement("div",{className:"rpv-properties__modal-section"},n.createElement(j,{label:o&&o.properties?o.properties.title:"Title",value:m.info.Title}),n.createElement(j,{label:o&&o.properties?o.properties.author:"Author",value:m.info.Author}),n.createElement(j,{label:o&&o.properties?o.properties.subject:"Subject",value:m.info.Subject}),n.createElement(j,{label:o&&o.properties?o.properties.keywords:"Keywords",value:m.info.Keywords}),n.createElement(j,{label:o&&o.properties?o.properties.creator:"Creator",value:m.info.Creator}),n.createElement(j,{label:o&&o.properties?o.properties.creationDate:"Creation date",value:M(m.info.CreationDate)}),n.createElement(j,{label:o&&o.properties?o.properties.modificationDate:"Modification date",value:M(m.info.ModDate)})),n.createElement(e.Separator,null),n.createElement("div",{className:"rpv-properties__modal-section"},n.createElement(j,{label:o&&o.properties?o.properties.pdfProducer:"PDF producer",value:m.info.Producer}),n.createElement(j,{label:o&&o.properties?o.properties.pdfVersion:"PDF version",value:m.info.PDFFormatVersion}),n.createElement(j,{label:o&&o.properties?o.properties.pageCount:"Page count",value:"".concat(i.numPages)})));var f,_,c,a}}),n.createElement("div",{className:"rpv-properties__modal-footer"},n.createElement(e.Button,{onClick:p},o&&o.properties?o.properties.close:"Close")))},A={left:0,top:8},N=function(h){var i=h.onClick,d=n.useContext(e.LocalizationContext).l10n,p=d&&d.properties?d.properties.showProperties:"Show properties";return n.createElement(e.Tooltip,{ariaControlsSuffix:"properties",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:p,testId:"properties__button",onClick:i},n.createElement(y,null)),content:function(){return p},offset:A})},C=function(h){var i=h.children,d=h.store,p=(function(m){var f=n.useState(m.get("doc")),_=f[0],c=f[1],a=function(g){c(g)};return n.useEffect((function(){return m.subscribe("doc",a),function(){m.unsubscribe("doc",a)}}),[]),{currentDoc:_}})(d).currentDoc,o=d.get("fileName")||"",M=i||function(m){return n.createElement(N,S({},m))};return p?n.createElement(e.Modal,{ariaControlsSuffix:"properties",target:function(m){return M({onClick:m})},content:function(m){return n.createElement(V,{doc:p,fileName:o,onToggle:m})},closeOnClickOutside:!0,closeOnEscape:!0}):n.createElement(n.Fragment,null)},b=function(h){var i=h.onClick,d=n.useContext(e.LocalizationContext).l10n,p=d&&d.properties?d.properties.showProperties:"Show properties";return n.createElement(e.MenuItem,{icon:n.createElement(y,null),testId:"properties__menu",onClick:i},p)};return properties_min.InfoIcon=y,properties_min.propertiesPlugin=function(){var h=n.useMemo((function(){return e.createStore({fileName:""})}),[]),i=function(d){return n.createElement(C,S({},d,{store:h}))};return{onDocumentLoad:function(d){h.update("doc",d.doc)},onViewerStateChange:function(d){return h.update("fileName",d.file.name),d},ShowProperties:i,ShowPropertiesButton:function(){return n.createElement(C,{store:h})},ShowPropertiesMenuItem:function(d){return n.createElement(i,null,(function(p){return n.createElement(b,S({},p))}))}}},properties_min}var hasRequiredLib$7;function requireLib$7(){if(hasRequiredLib$7)return lib$5.exports;hasRequiredLib$7=1;return lib$5.exports=requireProperties_min(),lib$5.exports}var lib$4={exports:{}},rotate_min={},hasRequiredRotate_min;function requireRotate_min(){if(hasRequiredRotate_min)return rotate_min;hasRequiredRotate_min=1;var e=requireLib$h();function x(N){var C=Object.create(null);return N&&Object.keys(N).forEach((function(b){if(b!=="default"){var h=Object.getOwnPropertyDescriptor(N,b);Object.defineProperty(C,b,h.get?h:{enumerable:!0,get:function(){return N[b]}})}})),C.default=N,Object.freeze(C)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\n            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\n            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\n            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\n            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\n            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\n            M13.5,1.75L10,4.25l3.5,2.5"}))},S=function(){return n.createElement(e.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\n            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\n            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\n            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\n            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\n            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\n            M10.5,1.75l3.5,2.5l-3.5,2.5"}))},r=function(){return r=Object.assign||function(N){for(var C,b=1,h=arguments.length;b<h;b++)for(var i in C=arguments[b])Object.prototype.hasOwnProperty.call(C,i)&&(N[i]=C[i]);return N},r.apply(this,arguments)},j={left:0,top:8},Z=function(N){var C=N.direction,b=N.onClick,h=n.useContext(e.LocalizationContext).l10n,i=h&&h.rotate?h.rotate.rotateBackward:"Rotate counterclockwise",d=h&&h.rotate?h.rotate.rotateForward:"Rotate clockwise",p=C===e.RotateDirection.Backward?i:d,o=C===e.RotateDirection.Backward?n.createElement(y,null):n.createElement(S,null);return n.createElement(e.Tooltip,{ariaControlsSuffix:"rotate",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:p,testId:C===e.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:b},o),content:function(){return p},offset:j})},X=function(N){var C=N.children,b=N.direction,h=N.store;return(C||function(i){return n.createElement(Z,{direction:i.direction,onClick:i.onClick})})({direction:b,onClick:function(){var i=h.get("rotate");i&&i(b)}})},V=function(N){var C=N.direction,b=N.onClick,h=n.useContext(e.LocalizationContext).l10n,i=h&&h.rotate?h.rotate.rotateBackward:"Rotate counterclockwise",d=h&&h.rotate?h.rotate.rotateForward:"Rotate clockwise",p=C===e.RotateDirection.Backward?i:d,o=C===e.RotateDirection.Backward?n.createElement(y,null):n.createElement(S,null);return n.createElement(e.MenuItem,{icon:o,testId:C===e.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:b},p)},A=function(N){var C=N.children,b=N.store;return C({onRotatePage:function(h,i){var d=b.get("rotatePage");d&&d(h,i)}})};return rotate_min.RotateBackwardIcon=y,rotate_min.RotateForwardIcon=S,rotate_min.rotatePlugin=function(){var N=n.useMemo((function(){return e.createStore()}),[]),C=function(b){return n.createElement(X,r({},b,{store:N}))};return{install:function(b){N.update("rotate",b.rotate),N.update("rotatePage",b.rotatePage)},Rotate:C,RotateBackwardButton:function(){return n.createElement(C,{direction:e.RotateDirection.Backward},(function(b){return n.createElement(Z,r({},b))}))},RotateBackwardMenuItem:function(b){return n.createElement(C,{direction:e.RotateDirection.Backward},(function(h){return n.createElement(V,{direction:h.direction,onClick:function(){h.onClick(),b.onClick()}})}))},RotateForwardButton:function(){return n.createElement(C,{direction:e.RotateDirection.Forward},(function(b){return n.createElement(Z,r({},b))}))},RotateForwardMenuItem:function(b){return n.createElement(C,{direction:e.RotateDirection.Forward},(function(h){return n.createElement(V,{direction:h.direction,onClick:function(){h.onClick(),b.onClick()}})}))},RotatePage:function(b){return n.createElement(A,r({},b,{store:N}))}}},rotate_min}var hasRequiredLib$6;function requireLib$6(){if(hasRequiredLib$6)return lib$4.exports;hasRequiredLib$6=1;return lib$4.exports=requireRotate_min(),lib$4.exports}var lib$3={exports:{}},scrollMode_min={},hasRequiredScrollMode_min;function requireScrollMode_min(){if(hasRequiredScrollMode_min)return scrollMode_min;hasRequiredScrollMode_min=1;var e=requireLib$h();function x(a){var g=Object.create(null);return a&&Object.keys(a).forEach((function(k){if(k!=="default"){var t=Object.getOwnPropertyDescriptor(a,k);Object.defineProperty(g,k,t.get?t:{enumerable:!0,get:function(){return a[k]}})}})),g.default=a,Object.freeze(g)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),n.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),n.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},S=function(){return n.createElement(e.Icon,{size:16},n.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),n.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},r=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z"}))},j=function(){return n.createElement(e.Icon,{size:16},n.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},Z=function(){return Z=Object.assign||function(a){for(var g,k=1,t=arguments.length;k<t;k++)for(var s in g=arguments[k])Object.prototype.hasOwnProperty.call(g,s)&&(a[s]=g[s]);return a},Z.apply(this,arguments)},X=function(a,g){a.get("switchScrollMode")(g);var k=a.get("viewMode");g!==e.ScrollMode.Horizontal&&g!==e.ScrollMode.Wrapped||k===e.ViewMode.SinglePage||a.get("switchViewMode")(e.ViewMode.SinglePage)},V=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\n            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\n            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z"}))},A=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},N=function(a){var g=a.children,k=a.mode,t=a.onClick,s=n.useContext(e.LocalizationContext).l10n,w="",B=n.createElement(V,null);switch(k){case e.ScrollMode.Horizontal:w=s&&s.scrollMode?s.scrollMode.horizontalScrolling:"Horizontal scrolling",B=n.createElement(r,null);break;case e.ScrollMode.Page:w=s&&s.scrollMode?s.scrollMode.pageScrolling:"Page scrolling",B=n.createElement(j,null);break;case e.ScrollMode.Wrapped:w=s&&s.scrollMode?s.scrollMode.wrappedScrolling:"Wrapped scrolling",B=n.createElement(A,null);break;case e.ScrollMode.Vertical:default:w=s&&s.scrollMode?s.scrollMode.verticalScrolling:"Vertical scrolling",B=n.createElement(V,null)}return g({icon:B,label:w,onClick:t})},C={left:0,top:8},b=function(a){var g=a.isDisabled,k=a.isSelected,t=a.mode,s=a.onClick,w="";switch(t){case e.ScrollMode.Horizontal:w="scroll-mode__horizontal-button";break;case e.ScrollMode.Page:w="scroll-mode__page-button";break;case e.ScrollMode.Wrapped:w="scroll-mode__wrapped-button";break;case e.ScrollMode.Vertical:default:w="scroll-mode__vertical-button"}return n.createElement(N,{mode:t,onClick:s},(function(B){return n.createElement(e.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:B.label,isDisabled:g,isSelected:k,testId:w,onClick:B.onClick},B.icon),content:function(){return B.label},offset:C})}))},h=function(a){var g=n.useState(a.get("scrollMode")||e.ScrollMode.Vertical),k=g[0],t=g[1],s=function(w){t(w)};return n.useEffect((function(){return a.subscribe("scrollMode",s),function(){a.unsubscribe("scrollMode",s)}}),[]),{scrollMode:k}},i=function(a){var g=n.useState(a.get("viewMode")||e.ViewMode.SinglePage),k=g[0],t=g[1],s=function(w){t(w)};return n.useEffect((function(){return a.subscribe("viewMode",s),function(){a.unsubscribe("viewMode",s)}}),[]),{viewMode:k}},d=function(a){var g=a.children,k=a.mode,t=a.store,s=i(t).viewMode,w=h(t).scrollMode===k,B=(k===e.ScrollMode.Horizontal||k===e.ScrollMode.Wrapped)&&s!==e.ViewMode.SinglePage;return(g||function(P){return n.createElement(b,{isDisabled:B,isSelected:w,mode:P.mode,onClick:P.onClick})})({isDisabled:B,isSelected:w,mode:k,onClick:function(){X(t,k)}})},p=function(a){var g=a.isDisabled,k=a.isSelected,t=a.mode,s=a.onClick,w="";switch(t){case e.ScrollMode.Horizontal:w="scroll-mode__horizontal-menu";break;case e.ScrollMode.Page:w="scroll-mode__page-menu";break;case e.ScrollMode.Wrapped:w="scroll-mode__wrapped-menu";break;case e.ScrollMode.Vertical:default:w="scroll-mode__vertical-menu"}return n.createElement(N,{mode:t,onClick:s},(function(B){return n.createElement(e.MenuItem,{checked:k,icon:B.icon,isDisabled:g,testId:w,onClick:B.onClick},B.label)}))},o=function(a,g){a.get("switchViewMode")(g);var k=a.get("scrollMode");k!==e.ScrollMode.Horizontal&&k!==e.ScrollMode.Wrapped||g===e.ViewMode.SinglePage||a.get("switchScrollMode")(e.ScrollMode.Vertical)},M=function(a){var g=a.children,k=a.mode,t=a.onClick,s=n.useContext(e.LocalizationContext).l10n,w="",B=n.createElement(j,null);switch(k){case e.ViewMode.DualPage:w=s&&s.scrollMode?s.scrollMode.dualPage:"Dual page",B=n.createElement(S,null);break;case e.ViewMode.DualPageWithCover:w=s&&s.scrollMode?s.scrollMode.dualPageCover:"Dual page with cover",B=n.createElement(y,null);break;case e.ViewMode.SinglePage:default:w=s&&s.scrollMode?s.scrollMode.singlePage:"Single page",B=n.createElement(j,null)}return g({icon:B,label:w,onClick:t})},m={left:0,top:8},f=function(a){var g=a.isDisabled,k=a.isSelected,t=a.mode,s=a.onClick,w="";switch(t){case e.ViewMode.DualPage:w="view-mode__dual-button";break;case e.ViewMode.DualPageWithCover:w="view-mode__dual-cover-button";break;case e.ViewMode.SinglePage:default:w="view-mode__single-button"}return n.createElement(M,{mode:t,onClick:s},(function(B){return n.createElement(e.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:B.label,isDisabled:g,isSelected:k,testId:w,onClick:B.onClick},B.icon),content:function(){return B.label},offset:m})}))},_=function(a){var g=a.children,k=a.mode,t=a.store,s=i(t).viewMode,w=h(t).scrollMode,B=s===k,P=(w===e.ScrollMode.Horizontal||w===e.ScrollMode.Wrapped)&&k!==e.ViewMode.SinglePage;return(g||function(D){return n.createElement(f,{isDisabled:P,isSelected:B,mode:D.mode,onClick:D.onClick})})({isDisabled:P,isSelected:B,mode:k,onClick:function(){o(t,k)}})},c=function(a){var g=a.isDisabled,k=a.isSelected,t=a.mode,s=a.onClick,w="";switch(t){case e.ViewMode.DualPage:w="view-mode__dual-menu";break;case e.ViewMode.DualPageWithCover:w="view-mode__dual-cover-menu";break;case e.ViewMode.SinglePage:default:w="view-mode__single-menu"}return n.createElement(M,{mode:t,onClick:s},(function(B){return n.createElement(e.MenuItem,{checked:k,icon:B.icon,isDisabled:g,testId:w,onClick:B.onClick},B.label)}))};return scrollMode_min.DualPageCoverViewModeIcon=y,scrollMode_min.DualPageViewModeIcon=S,scrollMode_min.HorizontalScrollingIcon=r,scrollMode_min.PageScrollingIcon=j,scrollMode_min.VerticalScrollingIcon=V,scrollMode_min.WrappedScrollingIcon=A,scrollMode_min.scrollModePlugin=function(){var a=n.useMemo((function(){return e.createStore({scrollMode:e.ScrollMode.Vertical,viewMode:e.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})}),[]),g=function(t){return n.createElement(d,Z({},t,{store:a}))},k=function(t){return n.createElement(_,Z({},t,{store:a}))};return{install:function(t){a.update("switchScrollMode",t.switchScrollMode),a.update("switchViewMode",t.switchViewMode)},onViewerStateChange:function(t){return a.update("scrollMode",t.scrollMode),a.update("viewMode",t.viewMode),t},switchScrollMode:function(t){X(a,t)},switchViewMode:function(t){o(a,t)},SwitchScrollMode:g,SwitchScrollModeButton:function(t){return n.createElement(g,{mode:t.mode},(function(s){return n.createElement(b,{isDisabled:s.isDisabled,isSelected:s.isSelected,mode:s.mode,onClick:function(){s.onClick()}})}))},SwitchScrollModeMenuItem:function(t){return n.createElement(g,{mode:t.mode},(function(s){return n.createElement(p,{isDisabled:s.isDisabled,isSelected:s.isSelected,mode:s.mode,onClick:function(){s.onClick(),t.onClick()}})}))},SwitchViewMode:k,SwitchViewModeButton:function(t){return n.createElement(k,{mode:t.mode},(function(s){return n.createElement(f,{isDisabled:s.isDisabled,isSelected:s.isSelected,mode:s.mode,onClick:function(){s.onClick()}})}))},SwitchViewModeMenuItem:function(t){return n.createElement(k,{mode:t.mode},(function(s){return n.createElement(c,{isDisabled:s.isDisabled,isSelected:s.isSelected,mode:s.mode,onClick:function(){s.onClick(),t.onClick()}})}))}}},scrollMode_min}var hasRequiredLib$5;function requireLib$5(){if(hasRequiredLib$5)return lib$3.exports;hasRequiredLib$5=1;return lib$3.exports=requireScrollMode_min(),lib$3.exports}var lib$2={exports:{}},search_min={},hasRequiredSearch_min;function requireSearch_min(){if(hasRequiredSearch_min)return search_min;hasRequiredSearch_min=1;var e=requireLib$h();function x(t){var s=Object.create(null);return t&&Object.keys(t).forEach((function(w){if(w!=="default"){var B=Object.getOwnPropertyDescriptor(t,w);Object.defineProperty(s,w,B.get?B:{enumerable:!0,get:function(){return t[w]}})}})),s.default=t,Object.freeze(s)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"}))},S=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"}))},r=function(){return n.createElement(e.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n            M23.5,23.5\n            l-5.929-5.929"}))},j=function(){return j=Object.assign||function(t){for(var s,w=1,B=arguments.length;w<B;w++)for(var P in s=arguments[w])Object.prototype.hasOwnProperty.call(s,P)&&(t[P]=s[P]);return t},j.apply(this,arguments)},Z={keyword:"",regExp:new RegExp(" "),wholeWords:!1},X=function(t){return{left:"".concat(t.left,"%"),top:"".concat(t.top,"%"),height:"".concat(t.height,"%"),width:"".concat(t.width,"%")}},V=function(t){var s=t.index,w=t.area,B=t.onHighlightKeyword,P=n.useRef();return e.useIsomorphicLayoutEffect((function(){var D=P.current;B&&D&&B({highlightEle:D,keyword:w.keyword})}),[]),n.createElement("div",{className:"rpv-search__highlight","data-index":s,ref:P,style:X(w),title:w.keywordStr.trim()})},A=function(t){var s=t.parentNode;s&&s.removeChild(t)},N=function(t){var s=t.parentNode;if(s){var w=document.createRange();w.selectNodeContents(t),(function(B,P){A(B);var D=P.parentNode;D&&D.insertBefore(B,P),A(P)})(w.extractContents(),t),s.normalize()}},C=function(t,s){return t.top<s.top?-1:t.top>s.top?1:t.left<s.left?-1:t.left>s.left?1:0},b=function(t){var s=t.numPages,w=t.pageIndex,B=t.renderHighlights,P=t.store,D=t.onHighlightKeyword,T=n.useRef(),H=n.useCallback((function(ie){return n.createElement(n.Fragment,null,ie.highlightAreas.map((function(ue,Ce){return n.createElement(V,{index:Ce,key:Ce,area:ue,onHighlightKeyword:D})})))}),[]),F=B||H,W=n.useState(P.get("matchPosition")),J=W[0],R=W[1],l=n.useState(P.get("keyword")||[Z]),v=l[0],L=l[1],G=n.useState({pageIndex:w,scale:1,status:e.LayerRenderStatus.PreRender}),z=G[0],U=G[1],ee=n.useRef(null),fe=n.useRef([]),Se=n.useState([]),xe=Se[0],Ae=Se[1],Me=function(){return!0},Te=n.useCallback((function(){return P.get("targetPageFilter")||Me}),[P.get("targetPageFilter")]),de=function(ie){var ue=fe.current;if(ue.length===0)return[];var Ce=[],Pe=[].slice.call(ie.querySelectorAll(".rpv-core__text-layer-text")),se=ue.map((function(Be){return Be.char})).join("");return v.forEach((function(Be){var Ie=Be.keyword;if(Ie.trim()){for(var it,Ye=Be.regExp.flags.indexOf("g")===-1?new RegExp(Be.regExp,"".concat(Be.regExp.flags,"g")):Be.regExp,pt=[];(it=Ye.exec(se))!==null;)pt.push({keyword:Ye,startIndex:it.index,endIndex:Ye.lastIndex});pt.map((function(ze){return{keyword:ze.keyword,indexes:ue.slice(ze.startIndex,ze.endIndex)}})).forEach((function(ze){var $e=ze.indexes.reduce((function(at,yt){return at[yt.spanIndex]=(at[yt.spanIndex]||[]).concat([yt]),at}),{});Object.values($e).forEach((function(at){if(at.length!==1||at[0].char.trim()!==""){var yt=Be.wholeWords?at.slice(1,-1):at,Le=(function(pe,me,Ke,Je,st){var Q=document.createRange(),Re=Je.firstChild;if(!Re||Re.nodeType!==Node.TEXT_NODE)return null;var He=Re.textContent.length,Qe=st[0].charIndexInSpan,tt=st.length===1?Qe:st[st.length-1].charIndexInSpan;if(Qe>He||tt+1>He)return null;Q.setStart(Re,Qe),Q.setEnd(Re,tt+1);var Xe=document.createElement("span");Q.surroundContents(Xe);var Y=Xe.getBoundingClientRect(),K=Ke.getBoundingClientRect(),ae=K.height,we=K.width,ke=100*(Y.left-K.left)/we,Fe=100*(Y.top-K.top)/ae,Ne=100*Y.height/ae,et=100*Y.width/we;return N(Xe),{keyword:me,keywordStr:pe,numPages:s,pageIndex:w,left:ke,top:Fe,height:Ne,width:et,pageHeight:ae,pageWidth:we}})(Ie,ze.keyword,ie,Pe[yt[0].spanIndex],yt);Le&&Ce.push(Le)}}))}))}})),Ce.sort(C)},he=function(ie){ie&&ie.length>0&&L(ie)},I=function(ie){return R(ie)},q=function(ie){if(ie.has(w)){var ue=ie.get(w);ue&&U({ele:ue.ele,pageIndex:w,scale:ue.scale,status:ue.status})}},re=function(){return v.length===0||v.length===1&&v[0].keyword.trim()===""};return n.useEffect((function(){if(!re()&&z.status===e.LayerRenderStatus.DidRender&&!fe.current.length){var ie=z.ele,ue=[].slice.call(ie.querySelectorAll(".rpv-core__text-layer-text")).map((function(Ce){return Ce.textContent})).reduce((function(Ce,Pe,se){return Ce.concat(Pe.split("").map((function(Be,Ie){return{char:Be,charIndexInSpan:Ie,spanIndex:se}})))}),[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);fe.current=ue}}),[v,z.status]),n.useEffect((function(){if(!re()&&z.ele&&z.status===e.LayerRenderStatus.DidRender&&Te()({pageIndex:w,numPages:s})){var ie=z.ele,ue=de(ie);Ae(ue)}}),[v,J,z.status,fe.current]),n.useEffect((function(){re()&&z.ele&&z.status===e.LayerRenderStatus.DidRender&&Ae([])}),[v,z.status]),n.useEffect((function(){if(xe.length!==0){var ie=T.current;if(J.pageIndex===w&&ie&&z.status===e.LayerRenderStatus.DidRender){var ue=ie.querySelector('.rpv-search__highlight[data-index="'.concat(J.matchIndex,'"]'));if(ue){var Ce=(function(Ie,it){for(var Ye=Ie.offsetTop,pt=Ie.offsetLeft,ze=Ie.parentElement;ze&&ze!==it;)Ye+=ze.offsetTop,pt+=ze.offsetLeft,ze=ze.parentElement;return{left:pt,top:Ye}})(ue,ie),Pe=Ce.left,se=Ce.top,Be=P.get("jumpToDestination");Be&&(Be({pageIndex:w,bottomOffset:(ie.getBoundingClientRect().height-se)/z.scale,leftOffset:Pe/z.scale,scaleTo:z.scale}),ee.current&&ee.current.classList.remove("rpv-search__highlight--current"),ee.current=ue,ue.classList.add("rpv-search__highlight--current"))}}}}),[xe,J]),n.useEffect((function(){return P.subscribe("keyword",he),P.subscribe("matchPosition",I),P.subscribe("renderStatus",q),function(){P.unsubscribe("keyword",he),P.unsubscribe("matchPosition",I),P.unsubscribe("renderStatus",q)}}),[]),n.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(w),ref:T},F({getCssProperties:X,highlightAreas:xe}))},h=function(t){var s,w=t.wholeWords?" ".concat(t.keyword," "):t.keyword,B=t.matchCase?"g":"gi";return{keyword:t.keyword,regExp:new RegExp((s=w,s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),B),wholeWords:t.wholeWords||!1}},i=function(t,s,w){return t instanceof RegExp?{keyword:t.source,regExp:t,wholeWords:w||!1}:typeof t=="string"?t===""?Z:h({keyword:t,matchCase:s||!1,wholeWords:w||!1}):(s!==void 0&&(t.matchCase=s),w!==void 0&&(t.wholeWords=w),h(t))},d=function(t){var s,w=t.get("initialKeyword"),B=n.useMemo((function(){if(w&&w.length===1){var I=i(w[0]);return{matchCase:I.regExp.flags.indexOf("i")===-1,wholeWords:I.wholeWords}}return{matchCase:!1,wholeWords:!1}}),[]),P=(function(I){var q=n.useRef(I.get("doc")),re=function(ie){q.current=ie};return n.useEffect((function(){return I.subscribe("doc",re),function(){I.unsubscribe("doc",re)}}),[]),q})(t),D=n.useState(w),T=D[0],H=D[1],F=n.useState([]),W=F[0],J=F[1],R=n.useState(0),l=R[0],v=R[1],L=n.useState(B.matchCase),G=L[0],z=L[1],U=n.useRef([]),ee=n.useState(B.wholeWords),fe=ee[0],Se=ee[1],xe=function(){return!0},Ae=n.useCallback((function(){return t.get("targetPageFilter")||xe}),[t.get("targetPageFilter")]),Me=function(I){var q=W.length;if(T.length===0||q===0)return null;var re=I===q+1?1:Math.max(1,Math.min(q,I));return v(re),de(W[re-1])},Te=function(I){return H(I===""?[]:[I])},de=function(I){var q=t.get("jumpToPage");return q&&q(I.pageIndex),t.update("matchPosition",{matchIndex:I.matchIndex,pageIndex:I.pageIndex}),I},he=function(I,q,re){var ie=P.current;if(!ie)return Promise.resolve([]);var ue=ie.numPages,Ce=I.map((function(Pe){return i(Pe,q,re)}));return t.update("keyword",Ce),v(0),J([]),new Promise((function(Pe,se){var Be=U.current.length===0?(function(){var Ie=P.current;if(!Ie)return Promise.resolve([]);var it=Array(Ie.numPages).fill(0).map((function(Ye,pt){return e.getPage(Ie,pt).then((function(ze){return ze.getTextContent()})).then((function(ze){var $e=ze.items.map((function(at){return at.str||""})).join("");return Promise.resolve({pageContent:$e,pageIndex:pt})}))}));return Promise.all(it).then((function(Ye){return Ye.sort((function(pt,ze){return pt.pageIndex-ze.pageIndex})),Promise.resolve(Ye.map((function(pt){return pt.pageContent})))}))})().then((function(Ie){return U.current=Ie,Promise.resolve(Ie)})):Promise.resolve(U.current);Be.then((function(Ie){var it=[];Ie.forEach((function(Ye,pt){Ae()({pageIndex:pt,numPages:ue})&&Ce.forEach((function(ze){for(var $e,at=0;($e=ze.regExp.exec(Ye))!==null;)it.push({keyword:ze.regExp,matchIndex:at,pageIndex:pt,pageText:Ye,startIndex:$e.index,endIndex:ze.regExp.lastIndex}),at++}))})),J(it),it.length>0&&(v(1),de(it[0])),Pe(it)}))}))};return n.useEffect((function(){U.current=[]}),[P.current]),{clearKeyword:function(){t.update("keyword",[Z]),Te(""),v(0),J([]),z(!1),Se(!1)},changeMatchCase:function(I){z(I),T.length>0&&he(T,I,fe)},changeWholeWords:function(I){Se(I),T.length>0&&he(T,G,I)},currentMatch:l,jumpToMatch:Me,jumpToNextMatch:function(){return Me(l+1)},jumpToPreviousMatch:function(){return Me(l-1)},keywords:T,matchCase:G,numberOfMatches:W.length,wholeWords:fe,search:function(){return he(T,G,fe)},searchFor:he,setKeywords:H,keyword:T.length===0?"":(s=T[0],s instanceof RegExp?s.source:typeof s=="string"?s:s.keyword),setKeyword:Te,setTargetPages:function(I){t.update("targetPageFilter",I)}}},p=function(t){var s=t.children,w=t.store,B=d(w),P=n.useState(!1),D=P[0],T=P[1],H=function(F){return T(!0)};return n.useEffect((function(){return w.subscribe("doc",H),function(){w.unsubscribe("doc",H)}}),[]),s(j(j({},B),{isDocumentLoaded:D}))},o=function(t){var s=t.containerRef,w=t.store,B=n.useRef(!1),P=function(){B.current=!0},D=function(){B.current=!1},T=function(H){var F=s.current;F&&(H.shiftKey||H.altKey||H.key!=="f"||(e.isMac()?H.metaKey&&!H.ctrlKey:H.ctrlKey)&&(B.current||document.activeElement&&F.contains(document.activeElement))&&(H.preventDefault(),w.update("areShortcutsPressed",!0)))};return n.useEffect((function(){var H=s.current;if(H)return document.addEventListener("keydown",T),H.addEventListener("mouseenter",P),H.addEventListener("mouseleave",D),function(){document.removeEventListener("keydown",T),H.removeEventListener("mouseenter",P),H.removeEventListener("mouseleave",D)}}),[s.current]),n.createElement(n.Fragment,null)},M={left:0,top:8},m=function(t){var s=t.store,w=t.onToggle,B=n.useContext(e.LocalizationContext).l10n,P=n.useContext(e.ThemeContext).direction,D=n.useState(!1),T=D[0],H=D[1],F=n.useState(!1),W=F[0],J=F[1],R=P===e.TextDirection.RightToLeft,l=d(s),v=l.clearKeyword,L=l.changeMatchCase,G=l.changeWholeWords,z=l.currentMatch,U=l.jumpToNextMatch,ee=l.jumpToPreviousMatch,fe=l.keyword,Se=l.matchCase,xe=l.numberOfMatches,Ae=l.wholeWords,Me=l.search,Te=l.setKeyword,de=function(ie){H(!0),Me().then((function(ue){H(!1),J(!0),ie&&ie()}))};n.useEffect((function(){var ie=s.get("initialKeyword");ie&&ie.length===1&&fe&&de((function(){s.update("initialKeyword",[])}))}),[]);var he=B&&B.search?B.search.enterToSearch:"Enter to search",I=B&&B.search?B.search.previousMatch:"Previous match",q=B&&B.search?B.search.nextMatch:"Next match",re=B&&B.search?B.search.close:"Close";return n.createElement("div",{className:"rpv-search__popover"},n.createElement("div",{className:"rpv-search__popover-input-counter"},n.createElement(e.TextBox,{ariaLabel:he,autoFocus:!0,placeholder:he,type:"text",value:fe,onChange:function(ie){J(!1),Te(ie)},onKeyDown:function(ie){ie.key==="Enter"&&fe&&(W?U():de())}}),n.createElement("div",{className:e.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!R,"rpv-search__popover-counter--rtl":R})},T&&n.createElement(e.Spinner,{testId:"search__popover-searching",size:"1rem"}),!T&&n.createElement("span",{"data-testid":"search__popover-num-matches"},z,"/",xe))),n.createElement("label",{className:"rpv-search__popover-label"},n.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:Se,type:"checkbox",onChange:function(ie){J(!1),L(ie.target.checked)}})," ",B&&B.search?B.search.matchCase:"Match case"),n.createElement("label",{className:"rpv-search__popover-label"},n.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:Ae,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(ie){J(!1),G(ie.target.checked)}})," ",B&&B.search?B.search.wholeWords:"Whole words"),n.createElement("div",{className:"rpv-search__popover-footer"},n.createElement("div",{className:"rpv-search__popover-footer-item"},n.createElement(e.Tooltip,{ariaControlsSuffix:"search-previous-match",position:R?e.Position.BottomRight:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:I,isDisabled:z<=1,onClick:ee},n.createElement(S,null)),content:function(){return I},offset:M})),n.createElement("div",{className:"rpv-search__popover-footer-item"},n.createElement(e.Tooltip,{ariaControlsSuffix:"search-next-match",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:q,isDisabled:z>xe-1,onClick:U},n.createElement(y,null)),content:function(){return q},offset:M})),n.createElement("div",{className:e.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!R,"rpv-search__popover-footer-button--rtl":R})},n.createElement(e.Button,{onClick:function(){w(),v()}},re))))},f=function(t){var s=t.children,w=t.onClick,B=n.useContext(e.LocalizationContext).l10n,P=B&&B.search?B.search.search:"Search";return s({icon:n.createElement(r,null),label:P,onClick:w})},_={left:0,top:8},c=function(t){var s=t.enableShortcuts,w=t.store,B=t.onClick,P=s?e.isMac()?"Meta+F":"Ctrl+F":"",D=function(T){T&&B()};return n.useEffect((function(){return w.subscribe("areShortcutsPressed",D),function(){w.unsubscribe("areShortcutsPressed",D)}}),[]),n.createElement(f,{onClick:B},(function(T){return n.createElement(e.Tooltip,{ariaControlsSuffix:"search-popover",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:P,ariaLabel:T.label,testId:"search__popover-button",onClick:B},T.icon),content:function(){return T.label},offset:_})}))},a={left:0,top:8},g=function(t){var s=t.children,w=t.enableShortcuts,B=t.store,P=n.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft?e.Position.BottomRight:e.Position.BottomLeft,D=s||function(T){return n.createElement(c,j({enableShortcuts:w,store:B},T))};return n.createElement(e.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:P,target:function(T){return D({onClick:T})},content:function(T){return n.createElement(m,{store:B,onToggle:T})},offset:a,closeOnClickOutside:!1,closeOnEscape:!0})},k=function(t){return Array.isArray(t)?t.map((function(s){return i(s)})):[i(t)]};return search_min.NextIcon=y,search_min.PreviousIcon=S,search_min.SearchIcon=r,search_min.searchPlugin=function(t){var s=n.useMemo((function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},t)}),[]),w=n.useMemo((function(){return e.createStore({initialKeyword:t&&t.keyword?Array.isArray(t.keyword)?t.keyword:[t.keyword]:[],keyword:t&&t.keyword?k(t.keyword):[Z],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})}),[]),B=d(w),P=B.clearKeyword,D=B.jumpToMatch,T=B.jumpToNextMatch,H=B.jumpToPreviousMatch,F=B.searchFor,W=B.setKeywords,J=B.setTargetPages,R=function(l){return n.createElement(g,j({enableShortcuts:s.enableShortcuts},l,{store:w}))};return{install:function(l){var v=t&&t.keyword?Array.isArray(t.keyword)?t.keyword:[t.keyword]:[],L=t&&t.keyword?k(t.keyword):[Z];w.update("initialKeyword",v),w.update("jumpToDestination",l.jumpToDestination),w.update("jumpToPage",l.jumpToPage),w.update("keyword",L)},renderPageLayer:function(l){return n.createElement(b,{key:l.pageIndex,numPages:l.doc.numPages,pageIndex:l.pageIndex,renderHighlights:t==null?void 0:t.renderHighlights,store:w,onHighlightKeyword:s.onHighlightKeyword})},renderViewer:function(l){var v=l.slot;return v.subSlot&&(v.subSlot.children=n.createElement(n.Fragment,null,s.enableShortcuts&&n.createElement(o,{containerRef:l.containerRef,store:w}),v.subSlot.children)),v},uninstall:function(l){var v=w.get("renderStatus");v&&v.clear()},onDocumentLoad:function(l){w.update("doc",l.doc)},onTextLayerRender:function(l){var v=w.get("renderStatus");v&&(v=v.set(l.pageIndex,l),w.update("renderStatus",v))},Search:function(l){return n.createElement(p,j({},l,{store:w}))},ShowSearchPopover:R,ShowSearchPopoverButton:function(){return n.createElement(R,null,(function(l){return n.createElement(c,j({enableShortcuts:s.enableShortcuts,store:w},l))}))},clearHighlights:function(){P()},highlight:function(l){var v=Array.isArray(l)?l:[l];return W(v),F(v)},jumpToMatch:D,jumpToNextMatch:T,jumpToPreviousMatch:H,setTargetPages:J}},search_min}var hasRequiredLib$4;function requireLib$4(){if(hasRequiredLib$4)return lib$2.exports;hasRequiredLib$4=1;return lib$2.exports=requireSearch_min(),lib$2.exports}var lib$1={exports:{}},theme_min={},hasRequiredTheme_min;function requireTheme_min(){if(hasRequiredTheme_min)return theme_min;hasRequiredTheme_min=1;var e=requireLib$h();function x(A){var N=Object.create(null);return A&&Object.keys(A).forEach((function(C){if(C!=="default"){var b=Object.getOwnPropertyDescriptor(A,C);Object.defineProperty(N,C,b.get?b:{enumerable:!0,get:function(){return A[C]}})}})),N.default=A,Object.freeze(N)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},S=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},r=function(){return r=Object.assign||function(A){for(var N,C=1,b=arguments.length;C<b;C++)for(var h in N=arguments[C])Object.prototype.hasOwnProperty.call(N,h)&&(A[h]=N[h]);return A},r.apply(this,arguments)},j={left:0,top:8},Z=function(A){var N=A.onClick,C=n.useContext(e.ThemeContext),b=n.useContext(e.LocalizationContext).l10n,h=C.currentTheme==="dark",i=b&&b.theme?h?b.theme.switchLightTheme:b.theme.switchDarkTheme:h?"Switch to the light theme":"Switch to the dark theme";return n.createElement(e.Tooltip,{ariaControlsSuffix:"theme-switch",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:i,testId:"theme__switch-button",onClick:N},h?n.createElement(S,null):n.createElement(y,null)),content:function(){return i},offset:j})},X=function(A){var N=A.children,C=n.useContext(e.ThemeContext);return(N||function(b){return n.createElement(Z,{onClick:b.onClick})})({onClick:function(){return C.setCurrentTheme(C.currentTheme==="dark"?"light":"dark")}})},V=function(A){var N=A.onClick,C=n.useContext(e.ThemeContext),b=n.useContext(e.LocalizationContext).l10n,h=C.currentTheme==="dark",i=b&&b.theme?h?b.theme.switchLightTheme:b.theme.switchDarkTheme:h?"Switch to the light theme":"Switch to the dark theme";return n.createElement(e.MenuItem,{icon:h?n.createElement(S,null):n.createElement(y,null),testId:"theme__switch-menu",onClick:N},i)};return theme_min.DarkIcon=y,theme_min.LightIcon=S,theme_min.themePlugin=function(){var A=function(N){return n.createElement(X,r({},N))};return{SwitchTheme:A,SwitchThemeButton:function(){return n.createElement(A,null,(function(N){return n.createElement(Z,r({},N))}))},SwitchThemeMenuItem:function(N){return n.createElement(A,null,(function(C){return n.createElement(V,{onClick:function(){C.onClick(),N.onClick()}})}))}}},theme_min}var hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$1.exports;hasRequiredLib$3=1;return lib$1.exports=requireTheme_min(),lib$1.exports}var lib={exports:{}},zoom_min={},hasRequiredZoom_min;function requireZoom_min(){if(hasRequiredZoom_min)return zoom_min;hasRequiredZoom_min=1;var e=requireLib$h();function x(t){var s=Object.create(null);return t&&Object.keys(t).forEach((function(w){if(w!=="default"){var B=Object.getOwnPropertyDescriptor(t,w);Object.defineProperty(s,w,B.get?B:{enumerable:!0,get:function(){return t[w]}})}})),s.default=t,Object.freeze(s)}var n=x(requireReact()),y=function(){return n.createElement(e.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10\n            M10.5,5.499v10"}))},S=function(){return n.createElement(e.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n            M23.5,23.499\n            l-5.929-5.929\n            M5.5,10.499h10"}))},r=function(){return r=Object.assign||function(t){for(var s,w=1,B=arguments.length;w<B;w++)for(var P in s=arguments[w])Object.prototype.hasOwnProperty.call(s,P)&&(t[P]=s[P]);return t},r.apply(this,arguments)},j=function(t){var s=n.useState(t.get("scale")||0),w=s[0],B=s[1],P=function(D){B(D)};return n.useEffect((function(){return t.subscribe("scale",P),function(){t.unsubscribe("scale",P)}}),[]),{scale:w}},Z=function(t){var s=t.children,w=t.store;return(s||function(B){return n.createElement(n.Fragment,null,"".concat(Math.round(100*B.scale),"%"))})({scale:j(w).scale})},X={passive:!1},V=null,A=function(t){var s=t.pagesContainerRef,w=t.store,B=e.useDebounceCallback((function(D){var T=w.get("zoom");T&&T(D)}),40),P=function(D){if(D.ctrlKey){D.preventDefault();var T=D.target.getBoundingClientRect(),H=1-D.deltaY/100,F=D.clientX-T.left,W=D.clientY-T.top,J=w.get("scale"),R=(V||(V=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(F,W).scale(H).translate(-F,-W).scale(J);B(R.a)}};return e.useIsomorphicLayoutEffect((function(){var D=s.current;if(D)return D.addEventListener("wheel",P,X),function(){D.removeEventListener("wheel",P)}}),[]),n.createElement(n.Fragment,null)},N=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],C=function(t){return N.find((function(s){return s>t}))||t},b=function(t){var s=N.findIndex((function(w){return w>=t}));return s===-1||s===0?t:N[s-1]},h=function(t){var s=t.containerRef,w=t.store,B=function(P){if(!P.shiftKey&&!P.altKey&&(e.isMac()?P.metaKey:P.ctrlKey)){var D=s.current;if(D&&document.activeElement&&D.contains(document.activeElement)){var T=w.get("zoom");if(T){var H=w.get("scale")||1,F=1;switch(P.key){case"-":F=b(H);break;case"=":F=C(H);break;case"0":F=1;break;default:F=H}F!==H&&(P.preventDefault(),T(F))}}}};return n.useEffect((function(){if(s.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}}),[s.current]),n.createElement(n.Fragment,null)},i=[.5,.75,1,1.25,1.5,2,3,4],d={left:0,top:8},p=function(t){var s=t.levels,w=s===void 0?i:s,B=t.scale,P=t.onZoom,D=n.useContext(e.LocalizationContext).l10n,T=n.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,H=D&&D.zoom?D.zoom.zoomDocument:"Zoom document";return n.createElement(e.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e.Position.BottomCenter,target:function(F){return n.createElement(e.MinimalButton,{ariaLabel:H,testId:"zoom__popover-target",onClick:function(){F()}},n.createElement("span",{className:"rpv-zoom__popover-target"},n.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!T,"rpv-zoom__popover-target-scale--rtl":T})},Math.round(100*B),"%"),n.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(F){return n.createElement(e.Menu,null,Object.keys(e.SpecialZoomLevel).map((function(W){var J=W;return n.createElement(e.MenuItem,{key:J,onClick:function(){F(),P(J)}},(function(R){switch(R){case e.SpecialZoomLevel.ActualSize:return D&&D.zoom?D.zoom.actualSize:"Actual size";case e.SpecialZoomLevel.PageFit:return D&&D.zoom?D.zoom.pageFit:"Page fit";case e.SpecialZoomLevel.PageWidth:return D&&D.zoom?D.zoom.pageWidth:"Page width"}})(J))})),n.createElement(e.MenuDivider,null),w.map((function(W){return n.createElement(e.MenuItem,{key:W,onClick:function(){F(),P(W)}},"".concat(Math.round(100*W),"%"))})))},offset:d,closeOnClickOutside:!0,closeOnEscape:!0})},o=function(t){var s=t.children,w=t.levels,B=t.store;return(s||function(P){return n.createElement(p,{levels:w,scale:P.scale,onZoom:P.onZoom})})({scale:j(B).scale,onZoom:function(P){var D=B.get("zoom");D&&D(P)}})},M={left:0,top:8},m=function(t){var s=t.enableShortcuts,w=t.onClick,B=n.useContext(e.LocalizationContext).l10n,P=B&&B.zoom?B.zoom.zoomIn:"Zoom in",D=s?e.isMac()?"Meta+=":"Ctrl+=":"";return n.createElement(e.Tooltip,{ariaControlsSuffix:"zoom-in",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:D,ariaLabel:P,testId:"zoom__in-button",onClick:w},n.createElement(y,null)),content:function(){return P},offset:M})},f=function(t){var s=t.children,w=t.enableShortcuts,B=t.store,P=j(B).scale;return(s||m)({enableShortcuts:w,onClick:function(){var D=B.get("zoom");D&&D(C(P))}})},_=function(t){var s=t.onClick,w=n.useContext(e.LocalizationContext).l10n,B=w&&w.zoom?w.zoom.zoomIn:"Zoom in";return n.createElement(e.MenuItem,{icon:n.createElement(y,null),testId:"zoom__in-menu",onClick:s},B)},c={left:0,top:8},a=function(t){var s=t.enableShortcuts,w=t.onClick,B=n.useContext(e.LocalizationContext).l10n,P=B&&B.zoom?B.zoom.zoomOut:"Zoom out",D=s?e.isMac()?"Meta+-":"Ctrl+-":"";return n.createElement(e.Tooltip,{ariaControlsSuffix:"zoom-out",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:D,ariaLabel:P,testId:"zoom__out-button",onClick:w},n.createElement(S,null)),content:function(){return P},offset:c})},g=function(t){var s=t.children,w=t.enableShortcuts,B=t.store,P=j(B).scale;return(s||a)({enableShortcuts:w,onClick:function(){var D=B.get("zoom");D&&D(b(P))}})},k=function(t){var s=t.onClick,w=n.useContext(e.LocalizationContext).l10n,B=w&&w.zoom?w.zoom.zoomOut:"Zoom out";return n.createElement(e.MenuItem,{icon:n.createElement(S,null),testId:"zoom__out-menu",onClick:s},B)};return zoom_min.ZoomInIcon=y,zoom_min.ZoomOutIcon=S,zoom_min.zoomPlugin=function(t){var s=n.useMemo((function(){return Object.assign({},{enableShortcuts:!0},t)}),[]),w=n.useMemo((function(){return e.createStore({})}),[]),B=function(T){return n.createElement(f,r({enableShortcuts:s.enableShortcuts},T,{store:w}))},P=function(T){return n.createElement(g,r({enableShortcuts:s.enableShortcuts},T,{store:w}))},D=function(T){return n.createElement(o,r({},T,{store:w}))};return{renderViewer:function(T){var H=T.slot;if(!s.enableShortcuts)return H;var F={children:n.createElement(n.Fragment,null,n.createElement(h,{containerRef:T.containerRef,store:w}),n.createElement(A,{pagesContainerRef:T.pagesContainerRef,store:w}),H.children)};return r(r({},H),F)},install:function(T){w.update("zoom",T.zoom)},onViewerStateChange:function(T){return w.update("scale",T.scale),T},zoomTo:function(T){var H=w.get("zoom");H&&H(T)},CurrentScale:function(T){return n.createElement(Z,r({},T,{store:w}))},ZoomIn:B,ZoomInButton:function(){return n.createElement(B,null,(function(T){return n.createElement(m,r({},T))}))},ZoomInMenuItem:function(T){return n.createElement(B,null,(function(H){return n.createElement(_,{onClick:function(){H.onClick(),T.onClick()}})}))},ZoomOut:P,ZoomOutButton:function(){return n.createElement(P,null,(function(T){return n.createElement(a,r({},T))}))},ZoomOutMenuItem:function(T){return n.createElement(P,null,(function(H){return n.createElement(k,{onClick:function(){H.onClick(),T.onClick()}})}))},Zoom:D,ZoomPopover:function(T){return n.createElement(D,null,(function(H){return n.createElement(p,r({levels:T==null?void 0:T.levels},H))}))}}},zoom_min}var hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib.exports;hasRequiredLib$2=1;return lib.exports=requireZoom_min(),lib.exports}var hasRequiredToolbar_min;function requireToolbar_min(){if(hasRequiredToolbar_min)return toolbar_min;hasRequiredToolbar_min=1;var e=requireLib$h(),x=requireLib$d(),n=requireReact(),y=requireLib$c(),S=requireLib$b(),r=requireLib$a(),j=requireLib$9(),Z=requireLib$8(),X=requireLib$7(),V=requireLib$6(),A=requireLib$5(),N=requireLib$4(),C=requireLib$3(),b=requireLib$2();function h(a){var g=Object.create(null);return a&&Object.keys(a).forEach((function(k){if(k!=="default"){var t=Object.getOwnPropertyDescriptor(a,k);Object.defineProperty(g,k,t.get?t:{enumerable:!0,get:function(){return a[k]}})}})),g.default=a,Object.freeze(g)}var i=h(n),d=function(){return i.createElement(e.Icon,{size:16},i.createElement("path",{d:"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\n            M12,9.5\n            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\n            M12,18.5c1.381,0,2.5,1.119,2.5,2.5\n            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z"}))},p={left:0,top:8},o=function(a){var g=a.toolbarSlot,k=i.useContext(e.LocalizationContext).l10n,t=i.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft?e.Position.BottomLeft:e.Position.BottomRight,s=g.DownloadMenuItem,w=g.EnterFullScreenMenuItem,B=g.GoToFirstPageMenuItem,P=g.GoToLastPageMenuItem,D=g.GoToNextPageMenuItem,T=g.GoToPreviousPageMenuItem,H=g.OpenMenuItem,F=g.PrintMenuItem,W=g.RotateBackwardMenuItem,J=g.RotateForwardMenuItem,R=g.ShowPropertiesMenuItem,l=g.SwitchScrollModeMenuItem,v=g.SwitchSelectionModeMenuItem,L=g.SwitchViewModeMenuItem,G=g.SwitchThemeMenuItem;return i.createElement(e.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:t,target:function(z,U){var ee=k&&k.toolbar?k.toolbar.moreActions:"More actions";return i.createElement(e.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:t,target:i.createElement(e.MinimalButton,{ariaLabel:ee,isSelected:U,testId:"toolbar__more-actions-popover-target",onClick:z},i.createElement(d,null)),content:function(){return ee},offset:p})},content:function(z){return i.createElement(e.Menu,null,i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(G,{onClick:z})),i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(w,{onClick:z})),i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(H,null)),i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(F,{onClick:z})),i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(s,{onClick:z})),i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(e.MenuDivider,null)),i.createElement(B,{onClick:z}),i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(T,{onClick:z})),i.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},i.createElement(D,{onClick:z})),i.createElement(P,{onClick:z}),i.createElement(e.MenuDivider,null),i.createElement(J,{onClick:z}),i.createElement(W,{onClick:z}),i.createElement(e.MenuDivider,null),i.createElement(v,{mode:x.SelectionMode.Text,onClick:z}),i.createElement(v,{mode:x.SelectionMode.Hand,onClick:z}),i.createElement(e.MenuDivider,null),i.createElement(l,{mode:e.ScrollMode.Page,onClick:z}),i.createElement(l,{mode:e.ScrollMode.Vertical,onClick:z}),i.createElement(l,{mode:e.ScrollMode.Horizontal,onClick:z}),i.createElement(l,{mode:e.ScrollMode.Wrapped,onClick:z}),i.createElement(e.MenuDivider,null),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},i.createElement(L,{mode:e.ViewMode.SinglePage,onClick:z})),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},i.createElement(L,{mode:e.ViewMode.DualPage,onClick:z})),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},i.createElement(L,{mode:e.ViewMode.DualPageWithCover,onClick:z})),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},i.createElement(e.MenuDivider,null)),i.createElement(R,{onClick:z}))},offset:p,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(a){for(var g,k=1,t=arguments.length;k<t;k++)for(var s in g=arguments[k])Object.prototype.hasOwnProperty.call(g,s)&&(a[s]=g[s]);return a},M.apply(this,arguments)},m=function(a){return function(g){var k=i.useMemo((function(){return a(g)}),[]),t=i.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,s=k.CurrentPageInput,w=k.Download,B=k.EnterFullScreen,P=k.GoToNextPage,D=k.GoToPreviousPage,T=k.NumberOfPages,H=k.Open,F=k.Print,W=k.ShowSearchPopover,J=k.SwitchTheme,R=k.Zoom,l=k.ZoomIn,v=k.ZoomOut;return i.createElement("div",{"data-testid":"toolbar",className:e.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":t}),role:"toolbar","aria-orientation":"horizontal"},i.createElement("div",{className:"rpv-toolbar__left"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(W,null)),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(D,null))),i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(s,null),i.createElement("span",{className:"rpv-toolbar__label"},i.createElement(T,null))),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(P,null)))),i.createElement("div",{className:"rpv-toolbar__center"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(v,null)),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(R,null))),i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(l,null))),i.createElement("div",{className:"rpv-toolbar__right"},i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(J,null))),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(B,null))),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(H,null))),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(w,null))),i.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(F,null))),i.createElement("div",{className:"rpv-toolbar__item"},i.createElement(o,{toolbarSlot:k}))))}},f=function(a){var g=a.NumberOfPages;return Object.assign({},a,{NumberOfPages:function(){return i.createElement(i.Fragment,null,"/ ",i.createElement(g,null))}})},_=function(a){return m(f)(a)},c=function(a){var g=a.children,k=a.slot;return(g||_)(k)};return toolbar_min.MoreActionsPopover=o,toolbar_min.MoreIcon=d,toolbar_min.toolbarPlugin=function(a){var g=y.fullScreenPlugin(a?a.fullScreenPlugin:{}),k=S.getFilePlugin(a?a.getFilePlugin:{}),t=r.openPlugin(a?a.openPlugin:{}),s=j.pageNavigationPlugin(a?a.pageNavigationPlugin:{}),w=Z.printPlugin(a?a.printPlugin:{}),B=X.propertiesPlugin(),P=V.rotatePlugin(),D=A.scrollModePlugin(),T=N.searchPlugin(a?a.searchPlugin:{}),H=x.selectionModePlugin(a?a.selectionModePlugin:{}),F=C.themePlugin(),W=b.zoomPlugin(a?a.zoomPlugin:{}),J=[g,k,t,s,w,B,P,D,T,H,F,W],R=i.useCallback((function(l){var v=g.EnterFullScreen,L=g.EnterFullScreenMenuItem,G=k.Download,z=k.DownloadMenuItem,U=t.Open,ee=t.OpenMenuItem,fe=s.CurrentPageInput,Se=s.CurrentPageLabel,xe=s.GoToFirstPage,Ae=s.GoToFirstPageMenuItem,Me=s.GoToLastPage,Te=s.GoToLastPageMenuItem,de=s.GoToNextPage,he=s.GoToNextPageMenuItem,I=s.GoToPreviousPage,q=s.GoToPreviousPageMenuItem,re=s.NumberOfPages,ie=w.Print,ue=w.PrintMenuItem,Ce=B.ShowProperties,Pe=B.ShowPropertiesMenuItem,se=P.Rotate,Be=P.RotateBackwardMenuItem,Ie=P.RotateForwardMenuItem,it=D.SwitchScrollMode,Ye=D.SwitchScrollModeMenuItem,pt=D.SwitchViewMode,ze=D.SwitchViewModeMenuItem,$e=T.Search,at=T.ShowSearchPopover,yt=H.SwitchSelectionMode,Le=H.SwitchSelectionModeMenuItem,pe=F.SwitchTheme,me=F.SwitchThemeMenuItem,Ke=W.CurrentScale,Je=W.Zoom,st=W.ZoomIn,Q=W.ZoomInMenuItem,Re=W.ZoomOut,He=W.ZoomOutMenuItem;return i.createElement(c,M({},l,{slot:{CurrentPageInput:fe,CurrentPageLabel:Se,CurrentScale:Ke,Download:G,DownloadMenuItem:z,EnterFullScreen:v,EnterFullScreenMenuItem:L,GoToFirstPage:xe,GoToFirstPageMenuItem:Ae,GoToLastPage:Me,GoToLastPageMenuItem:Te,GoToNextPage:de,GoToNextPageMenuItem:he,GoToPreviousPage:I,GoToPreviousPageMenuItem:q,NumberOfPages:re,Open:U,OpenMenuItem:ee,Print:ie,PrintMenuItem:ue,Rotate:se,RotateBackwardMenuItem:Be,RotateForwardMenuItem:Ie,Search:$e,ShowProperties:Ce,ShowPropertiesMenuItem:Pe,ShowSearchPopover:at,SwitchScrollMode:it,SwitchScrollModeMenuItem:Ye,SwitchSelectionMode:yt,SwitchSelectionModeMenuItem:Le,SwitchViewMode:pt,SwitchViewModeMenuItem:ze,SwitchTheme:pe,SwitchThemeMenuItem:me,Zoom:Je,ZoomIn:st,ZoomInMenuItem:Q,ZoomOut:Re,ZoomOutMenuItem:He}}))}),[]);return{fullScreenPluginInstance:g,getFilePluginInstance:k,openPluginInstance:t,pageNavigationPluginInstance:s,printPluginInstance:w,propertiesPluginInstance:B,rotatePluginInstance:P,scrollModePluginInstance:D,searchPluginInstance:T,selectionModePluginInstance:H,themePluginInstance:F,zoomPluginInstance:W,install:function(l){J.forEach((function(v){v.install&&v.install(l)}))},renderPageLayer:function(l){return i.createElement(i.Fragment,null,J.map((function(v,L){return v.renderPageLayer?i.createElement(i.Fragment,{key:L},v.renderPageLayer(l)):i.createElement(i.Fragment,{key:L})})))},renderViewer:function(l){var v=l.slot;return J.forEach((function(L){L.renderViewer&&(v=L.renderViewer(M(M({},l),{slot:v})))})),v},uninstall:function(l){J.forEach((function(v){v.uninstall&&v.uninstall(l)}))},onDocumentLoad:function(l){J.forEach((function(v){v.onDocumentLoad&&v.onDocumentLoad(l)}))},onAnnotationLayerRender:function(l){J.forEach((function(v){v.onAnnotationLayerRender&&v.onAnnotationLayerRender(l)}))},onTextLayerRender:function(l){J.forEach((function(v){v.onTextLayerRender&&v.onTextLayerRender(l)}))},onViewerStateChange:function(l){var v=l;return J.forEach((function(L){L.onViewerStateChange&&(v=L.onViewerStateChange(v))})),v},renderDefaultToolbar:m,Toolbar:R}},toolbar_min}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$c.exports;hasRequiredLib$1=1;return lib$c.exports=requireToolbar_min(),lib$c.exports}var hasRequiredDefaultLayout_min;function requireDefaultLayout_min(){if(hasRequiredDefaultLayout_min)return defaultLayout_min;hasRequiredDefaultLayout_min=1;var e=requireLib$h(),x=requireReact(),n=requireLib$g(),y=requireLib$f(),S=requireLib$e(),r=requireLib$1();function j(i){var d=Object.create(null);return i&&Object.keys(i).forEach((function(p){if(p!=="default"){var o=Object.getOwnPropertyDescriptor(i,p);Object.defineProperty(d,p,o.get?o:{enumerable:!0,get:function(){return i[p]}})}})),d.default=i,Object.freeze(d)}var Z=j(x),X=function(){return Z.createElement(e.Icon,{size:16},Z.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n            c0.552,0,1,0.448,1,1L11.5,10.5z\n            M14.5,6.499h6\n            M14.5,10.499h6\n            M3.5,14.499h17\n            M3.5,18.499h16.497"}))},V=function(){return V=Object.assign||function(i){for(var d,p=1,o=arguments.length;p<o;p++)for(var M in d=arguments[p])Object.prototype.hasOwnProperty.call(d,M)&&(i[M]=d[M]);return i},V.apply(this,arguments)},A=function(){return Z.createElement(e.Icon,{size:16},Z.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},N=function(){return Z.createElement(e.Icon,{size:16},Z.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},C={left:8,top:0},b={left:-8,top:0},h=function(i){var d=i.attachmentTabContent,p=i.bookmarkTabContent,o=i.store,M=i.thumbnailTabContent,m=i.tabs,f=Z.useRef(),_=Z.useContext(e.LocalizationContext).l10n,c=Z.useState(o.get("isCurrentTabOpened")||!1),a=c[0],g=c[1],k=Z.useState(Math.max(o.get("currentTab")||0,0)),t=k[0],s=k[1],w=Z.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,B=[{content:M,icon:Z.createElement(N,null),title:_&&_.defaultLayout?_.defaultLayout.thumbnail:"Thumbnail"},{content:p,icon:Z.createElement(X,null),title:_&&_.defaultLayout?_.defaultLayout.bookmark:"Bookmark"},{content:d,icon:Z.createElement(A,null),title:_&&_.defaultLayout?_.defaultLayout.attachment:"Attachment"}],P=m?m(B):B,D=function(H){H>=0&&H<=P.length-1&&(o.update("isCurrentTabOpened",!0),s(H))},T=function(H){g(H)};return Z.useEffect((function(){return o.subscribe("currentTab",D),o.subscribe("isCurrentTabOpened",T),function(){o.unsubscribe("currentTab",D),o.unsubscribe("isCurrentTabOpened",T)}}),[]),P.length===0?Z.createElement(Z.Fragment,null):Z.createElement(Z.Fragment,null,Z.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":a,"rpv-default-layout__sidebar--ltr":!w,"rpv-default-layout__sidebar--rtl":w}),ref:f},Z.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},Z.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},P.map((function(H,F){return Z.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":t===F,key:F,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(F),role:"tab"},Z.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(F),position:w?e.Position.LeftCenter:e.Position.RightCenter,target:Z.createElement(e.MinimalButton,{ariaLabel:H.title,isSelected:t===F,onClick:function(){return(function(W){if(t===W){o.update("isCurrentTabOpened",!o.get("isCurrentTabOpened"));var J=f.current;J&&J.style.width&&J.style.removeProperty("width")}else o.update("currentTab",W)})(F)}},H.icon),content:function(){return H.title},offset:w?b:C}))}))),Z.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(t),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":a,"rpv-default-layout__sidebar-content--ltr":!w,"rpv-default-layout__sidebar-content--rtl":w}),role:"tabpanel",tabIndex:-1},P[t].content))),a&&Z.createElement(e.Splitter,{constrain:function(H){return H.firstHalfPercentage>=20&&H.firstHalfPercentage<=80}}))};return defaultLayout_min.BookmarkIcon=X,defaultLayout_min.FileIcon=A,defaultLayout_min.ThumbnailIcon=N,defaultLayout_min.defaultLayoutPlugin=function(i){var d=Z.useMemo((function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})}),[]),p=n.attachmentPlugin(),o=y.bookmarkPlugin(),M=S.thumbnailPlugin(i?i.thumbnailPlugin:{}),m=r.toolbarPlugin(i?i.toolbarPlugin:{}),f=p.Attachments,_=o.Bookmarks,c=M.Thumbnails,a=m.Toolbar,g=i?i.sidebarTabs:function(t){return t},k=[p,o,M,m];return{attachmentPluginInstance:p,bookmarkPluginInstance:o,thumbnailPluginInstance:M,toolbarPluginInstance:m,activateTab:function(t){d.update("currentTab",t)},toggleTab:function(t){var s=d.get("currentTab");d.update("isCurrentTabOpened",!d.get("isCurrentTabOpened")),s!==t&&d.update("currentTab",t)},install:function(t){k.forEach((function(s){s.install&&s.install(t)}))},renderPageLayer:function(t){return Z.createElement(Z.Fragment,null,k.map((function(s,w){return s.renderPageLayer?Z.createElement(Z.Fragment,{key:w},s.renderPageLayer(t)):Z.createElement(Z.Fragment,{key:w},Z.createElement(Z.Fragment,null))})))},renderViewer:function(t){var s=t.slot;k.forEach((function(B){B.renderViewer&&(s=B.renderViewer(V(V({},t),{slot:s})))}));var w=s.subSlot&&s.subSlot.attrs?{className:s.subSlot.attrs.className,"data-testid":s.subSlot.attrs["data-testid"],ref:s.subSlot.attrs.ref,style:s.subSlot.attrs.style}:{};return s.children=Z.createElement("div",{className:"rpv-default-layout__container"},Z.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":t.themeContext.direction===e.TextDirection.RightToLeft})},Z.createElement(h,{attachmentTabContent:Z.createElement(f,null),bookmarkTabContent:Z.createElement(_,null),store:d,thumbnailTabContent:Z.createElement(c,null),tabs:g}),Z.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},Z.createElement("div",{className:"rpv-default-layout__toolbar"},i&&i.renderToolbar?i.renderToolbar(a):Z.createElement(a,null)),Z.createElement("div",V({},w),s.subSlot.children))),s.children),s.subSlot.attrs={},s.subSlot.children=Z.createElement(Z.Fragment,null),s},uninstall:function(t){k.forEach((function(s){s.uninstall&&s.uninstall(t)}))},onDocumentLoad:function(t){k.forEach((function(s){s.onDocumentLoad&&s.onDocumentLoad(t)})),i&&i.setInitialTab&&i.setInitialTab(t.doc).then((function(s){d.update("currentTab",s),d.update("isCurrentTabOpened",!0)}))},onAnnotationLayerRender:function(t){k.forEach((function(s){s.onAnnotationLayerRender&&s.onAnnotationLayerRender(t)}))},onTextLayerRender:function(t){k.forEach((function(s){s.onTextLayerRender&&s.onTextLayerRender(t)}))},onViewerStateChange:function(t){var s=t;return k.forEach((function(w){w.onViewerStateChange&&(s=w.onViewerStateChange(s))})),s}}},defaultLayout_min.setInitialTabFromPageMode=function(i){return new Promise((function(d,p){i.getPageMode().then((function(o){if(o)switch(o){case e.PageMode.Attachments:d(2);break;case e.PageMode.Bookmarks:d(1);break;case e.PageMode.Thumbnails:d(0);break;default:d(-1)}else d(-1)}))}))},defaultLayout_min}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$g.exports;hasRequiredLib=1;return lib$g.exports=requireDefaultLayout_min(),lib$g.exports}var libExports=requireLib();const useMousePosition=()=>{const{lite:e}=useStore(performanceMode);return n=>{if(e)return;const{currentTarget:y}=n,S=y.getBoundingClientRect();y.style.setProperty("--mouse-x","".concat(n.clientX-S.left,"px")),y.style.setProperty("--mouse-y","".concat(n.clientY-S.top,"px"))}},navigateTo=e=>{window.location.hash=e,window.scrollTo({top:0,behavior:"smooth"})},getCategoryTheme=e=>{const x=e.toLowerCase();return x.includes("auto")||x.includes("app")||x.includes("desarrollo")?{text:"text-emerald-700 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-500/10",bullet:"bg-emerald-600",gradientFrom:"from-emerald-600/20",colors:{"--card-border":"rgba(5, 150, 105, 0.3)","--glass-glow":"rgba(5, 150, 105, 0.5)","--neon-glow":"rgba(5, 150, 105, 0.4)"}}:x.includes("business")||x.includes("bi")||x.includes("data")?{text:"text-blue-700 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-500/10",bullet:"bg-blue-600",gradientFrom:"from-blue-600/20",colors:{"--card-border":"rgba(37, 99, 235, 0.3)","--glass-glow":"rgba(37, 99, 235, 0.5)","--neon-glow":"rgba(37, 99, 235, 0.4)"}}:x.includes("tec")||x.includes("consult")?{text:"text-violet-700 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-500/10",bullet:"bg-violet-600",gradientFrom:"from-violet-600/20",colors:{"--card-border":"rgba(124, 58, 237, 0.3)","--glass-glow":"rgba(124, 58, 237, 0.5)","--neon-glow":"rgba(124, 58, 237, 0.4)"}}:x.includes("cloud")||x.includes("nube")||x.includes("devops")?{text:"text-cyan-700 dark:text-cyan-400",bg:"bg-cyan-50 dark:bg-cyan-500/10",bullet:"bg-cyan-600",gradientFrom:"from-cyan-600/20",colors:{"--card-border":"rgba(6, 182, 212, 0.3)","--glass-glow":"rgba(6, 182, 212, 0.5)","--neon-glow":"rgba(6, 182, 212, 0.4)"}}:x.includes("network")||x.includes("red")||x.includes("connect")||x.includes("wifi")?{text:"text-rose-700 dark:text-rose-400",bg:"bg-rose-50 dark:bg-rose-500/10",bullet:"bg-rose-600",gradientFrom:"from-rose-600/20",colors:{"--card-border":"rgba(225, 29, 72, 0.3)","--glass-glow":"rgba(225, 29, 72, 0.5)","--neon-glow":"rgba(225, 29, 72, 0.4)"}}:{text:"text-slate-700 dark:text-slate-400",bg:"bg-slate-50 dark:bg-slate-500/10",bullet:"bg-slate-600",gradientFrom:"from-slate-600/20",colors:{"--card-border":"rgba(71, 85, 105, 0.25)","--glass-glow":"rgba(148, 163, 184, 0.4)","--neon-glow":"rgba(148, 163, 184, 0.3)"}}},Typewriter=({text:e,delay:x=25,startDelay:n=0,cursorColor:y="bg-emerald-500",onComplete:S,active:r=!0})=>{const[j,Z]=reactExports.useState(""),[X,V]=reactExports.useState(!1);return reactExports.useEffect(()=>{r&&V(!0)},[r]),reactExports.useEffect(()=>{if(!X)return;const A=setTimeout(()=>{let N=0;const C=setInterval(()=>{N<e.length?(Z(e.slice(0,N+1)),N++):(clearInterval(C),S&&S())},x);return()=>clearInterval(C)},n);return()=>clearTimeout(A)},[X,e,x,n,S]),jsxRuntimeExports.jsxs("span",{className:"relative block w-full break-words",children:[jsxRuntimeExports.jsxs("span",{className:"opacity-0 pointer-events-none select-none","aria-hidden":"true",children:[e,jsxRuntimeExports.jsx("span",{className:"inline-block w-2 h-4 md:w-2.5 md:h-5 ml-0.5"})]}),jsxRuntimeExports.jsxs("span",{className:"absolute inset-0 top-0 left-0",children:[j,jsxRuntimeExports.jsx("span",{className:"animate-pulse inline-block w-2 h-4 md:w-2.5 md:h-5 ".concat(y," align-text-bottom ml-0.5")})]})]})},TechCard=({title:e,children:x,accentColor:n="emerald",className:y=""})=>{const S=n==="emerald"?{border:"border-emerald-500/20",bg:"bg-emerald-500/5",text:"text-emerald-600 dark:text-emerald-400",indicator:"bg-emerald-500",glow:"group-hover:shadow-[0_0_30px_rgba(16,185,129,0.15)]"}:{border:"border-cyan-500/20",bg:"bg-cyan-500/5",text:"text-cyan-600 dark:text-cyan-400",indicator:"bg-cyan-500",glow:"group-hover:shadow-[0_0_30px_rgba(6,182,212,0.15)]"},r=n==="emerald"?"from-emerald-500/30":"from-cyan-500/30",j=n==="emerald"?"from-emerald-500/10":"from-cyan-500/10";return jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-[20px] border ".concat(S.border," ").concat(S.bg," backdrop-blur-md p-6 md:p-8 flex flex-col h-full group transition-all duration-700 hover:border-opacity-60 ").concat(S.glow," ").concat(y),children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-l-2 border-t-2 ".concat(S.border," rounded-tl-[18px] opacity-40 group-hover:opacity-100 transition-opacity duration-500")}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-r-2 border-b-2 ".concat(S.border," rounded-br-[18px] opacity-40 group-hover:opacity-100 transition-opacity duration-500")}),jsxRuntimeExports.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-20 group-hover:opacity-50 transition-opacity",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full ".concat(S.indicator)}),jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full ".concat(S.indicator)}),jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full ".concat(S.indicator)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-5 opacity-90 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-sm ".concat(S.indicator," shadow-[0_0_10px_rgba(255,255,255,0.5)]")}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-2 h-2 rounded-sm ".concat(S.indicator," animate-ping opacity-30")})]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] md:text-xs font-bold tracking-[0.25em] uppercase font-mono ".concat(S.text),children:e}),jsxRuntimeExports.jsx("div",{className:"h-[1px] flex-grow bg-gradient-to-r ".concat(r," to-transparent")})]}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm md:text-[15px] leading-relaxed ".concat(S.text," opacity-90 relative z-10 h-full flex flex-col justify-start"),children:x}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] mix-blend-overlay pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute -right-20 -bottom-20 w-64 h-64 bg-gradient-to-tl ".concat(j," to-transparent rounded-full blur-3xl pointer-events-none group-hover:opacity-100 opacity-50 transition-opacity duration-700")})]})},HomeView=()=>{const{lang:e}=useStore(settings),x=UI_TEXT[e],[n,y]=reactExports.useState(1),S=useMousePosition(),r=reactExports.useRef([]);reactExports.useEffect(()=>{const Z=setTimeout(()=>{document.documentElement.style.scrollSnapType="y mandatory"},800);return()=>{document.documentElement.style.scrollSnapType="",clearTimeout(Z)}},[]),reactExports.useEffect(()=>{const Z=()=>{const X=window.scrollY+window.innerHeight/2;r.current.forEach((V,A)=>{V&&X>=V.offsetTop&&X<V.offsetTop+V.offsetHeight&&y(A+1)})};return window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)},[]);const j=Z=>{var X;(X=r.current[Z-1])==null||X.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col items-center w-full",children:[jsxRuntimeExports.jsxs("div",{className:"fixed left-3 md:left-8 top-1/2 -translate-y-1/2 z-50 flex flex-col gap-4 md:gap-6 pointer-events-auto",children:[[{id:1,label:x.homeLabels.overview},{id:2,label:x.mission.title},{id:3,label:x.vision.title}].map(Z=>jsxRuntimeExports.jsxs("div",{className:"group flex items-center gap-3 cursor-pointer",onClick:()=>j(Z.id),children:[jsxRuntimeExports.jsx("div",{className:"w-2.5 h-2.5 md:w-3.5 md:h-3.5 rounded-full transition-all duration-500 ease-in-out border border-[var(--card-border)] ".concat(n===Z.id?"bg-emerald-500 scale-125 shadow-[0_0_15px_rgba(16,185,129,0.6)] border-emerald-500":"bg-[var(--dock-item-bg)] hover:bg-[var(--text-tertiary)] group-hover:scale-110")}),jsxRuntimeExports.jsx("span",{className:"hidden md:block text-[10px] md:text-xs font-bold uppercase tracking-widest transition-all duration-500 ".concat(n===Z.id?"text-[var(--text-primary)] opacity-100 translate-x-0":"text-[var(--text-tertiary)] opacity-0 -translate-x-2 group-hover:opacity-70 group-hover:translate-x-0"),children:Z.label})]},Z.id)),jsxRuntimeExports.jsx("div",{className:"absolute left-[4px] md:left-[6px] top-2 bottom-2 w-[1px] bg-[var(--card-border)] -z-10 opacity-30"})]}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 md:px-8",children:[jsxRuntimeExports.jsx("section",{ref:Z=>{r.current[0]=Z},className:"min-h-screen min-h-[100svh] w-full flex flex-col justify-center items-center py-20 md:py-24 snap-start relative",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center animate-slide-up max-w-5xl mx-auto w-full",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-[8rem] font-bold tracking-tighter mb-4 md:mb-6 text-transparent bg-clip-text bg-gradient-to-b from-[var(--text-primary)] via-[var(--text-primary)] to-transparent drop-shadow-sm leading-[0.9]",children:[x.heroTitle.split(" ")[0]," ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-cyan-500 dark:from-emerald-400 dark:to-cyan-400 filter drop-shadow-[0_0_30px_rgba(52,211,153,0.3)]",children:x.heroTitle.split(" ").slice(1).join(" ")})]}),jsxRuntimeExports.jsxs("p",{className:"max-w-xl md:max-w-2xl mx-auto text-sm sm:text-lg md:text-xl text-[var(--text-secondary)] mb-8 md:mb-8 font-normal leading-relaxed tracking-wide px-2",children:[x.heroSubtitle,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-[var(--text-tertiary)] text-xs md:text-lg mt-2 block font-light",children:x.heroTags})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center items-center w-full px-4 mb-10 md:mb-12",children:[jsxRuntimeExports.jsx(LiquidButton,{onClick:()=>navigateTo("/contact"),className:"w-full sm:w-auto px-8 py-3.5 md:px-10 md:py-5 text-base md:text-lg min-w-[180px] md:min-w-[200px] rounded-full",style:{"--card-bg":"rgba(16, 185, 129, 0.15)","--card-border":"rgba(16, 185, 129, 0.4)","--glass-glow":"rgba(16, 185, 129, 0.6)"},children:x.startProject}),jsxRuntimeExports.jsx(LiquidButton,{onClick:()=>navigateTo("/portfolio"),className:"w-full sm:w-auto px-8 py-3.5 md:px-10 md:py-5 text-base md:text-lg min-w-[180px] md:min-w-[200px] rounded-full",children:x.exploreWork})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 w-full max-w-4xl mx-auto px-1",children:[{val:"<50ms",label:x.stats.latency},{val:"99.9%",label:x.stats.uptime},{val:"A+",label:x.stats.security},{val:"24/7",label:x.stats.global}].map((Z,X)=>jsxRuntimeExports.jsxs("div",{onMouseMove:S,className:"bento-card p-3 md:p-4 rounded-2xl md:rounded-3xl flex flex-col items-center justify-center h-20 md:h-28 group",children:[jsxRuntimeExports.jsx("span",{className:"text-lg md:text-3xl font-mono font-bold text-[var(--text-primary)] tracking-tight mb-1 group-hover:scale-110 transition-transform duration-500 group-hover:text-emerald-500",children:Z.val}),jsxRuntimeExports.jsx("span",{className:"text-[9px] md:text-[11px] text-[var(--text-secondary)] uppercase font-bold tracking-[0.2em]",children:Z.label})]},X))}),jsxRuntimeExports.jsx("button",{onClick:()=>j(2),className:"mt-8 md:mt-10 lg:mt-16 animate-bounce p-2 md:p-3 rounded-full border border-[var(--card-border)] bg-[var(--card-bg)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors backdrop-blur-md shadow-sm",children:jsxRuntimeExports.jsx(Icons.ArrowUp,{className:"w-4 h-4 md:w-5 md:h-5 rotate-180"})})]})}),jsxRuntimeExports.jsx("section",{ref:Z=>{r.current[1]=Z},className:"min-h-screen min-h-[100svh] w-full flex flex-col justify-center items-center py-12 md:py-20 snap-start",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-12 lg:gap-16 items-center w-full max-w-6xl h-auto md:h-[500px]",children:[jsxRuntimeExports.jsx("div",{className:"order-2 md:order-1 h-full w-full",children:jsxRuntimeExports.jsx(TechCard,{title:"/// ".concat(x.mission.title.toUpperCase()),accentColor:"emerald",className:"h-full flex flex-col justify-center w-full",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col h-full justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-base md:text-lg lg:text-xl leading-relaxed",children:jsxRuntimeExports.jsx(Typewriter,{text:x.mission.content,startDelay:200,cursorColor:"bg-emerald-500",delay:15,active:n>=2})})})})}),jsxRuntimeExports.jsxs("div",{className:"order-1 md:order-2 h-[300px] md:h-full w-full rounded-[2rem] md:rounded-[3rem] overflow-hidden border border-[var(--card-border)] relative group shadow-2xl",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-emerald-900/60 via-transparent to-transparent z-10 mix-blend-multiply"}),jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=2070&auto=format&fit=crop",alt:"Mission Team",className:"w-full h-full object-cover transition-transform duration-[1.5s] ease-[cubic-bezier(0.25,1,0.3,1)] group-hover:scale-105"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 left-4 md:bottom-8 md:left-8 z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-emerald-500/20 backdrop-blur-xl border border-emerald-500/30 text-emerald-100 text-[10px] md:text-xs font-bold px-3 py-1.5 md:px-4 md:py-2 rounded-full uppercase tracking-widest shadow-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full bg-emerald-400 animate-pulse"}),x.homeLabels.collaboration]})})]})]})}),jsxRuntimeExports.jsx("section",{ref:Z=>{r.current[2]=Z},className:"min-h-screen min-h-[100svh] w-full flex flex-col justify-center items-center py-12 md:py-20 snap-start",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-12 lg:gap-16 items-center w-full max-w-6xl h-auto md:h-[500px]",children:[jsxRuntimeExports.jsxs("div",{className:"order-1 h-[300px] md:h-full w-full rounded-[2rem] md:rounded-[3rem] overflow-hidden border border-[var(--card-border)] relative group shadow-2xl",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-900/60 via-transparent to-transparent z-10 mix-blend-multiply"}),jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1480694313141-fce5e697ee25?q=80&w=2070&auto=format&fit=crop",alt:"Future Vision",className:"w-full h-full object-cover transition-transform duration-[1.5s] ease-[cubic-bezier(0.25,1,0.3,1)] group-hover:scale-105"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 right-4 md:bottom-8 md:right-8 z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-cyan-500/20 backdrop-blur-xl border border-cyan-500/30 text-cyan-100 text-[10px] md:text-xs font-bold px-3 py-1.5 md:px-4 md:py-2 rounded-full uppercase tracking-widest shadow-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full bg-cyan-400 animate-pulse"}),x.homeLabels.future]})})]}),jsxRuntimeExports.jsx("div",{className:"order-2 h-full w-full flex flex-col",children:jsxRuntimeExports.jsx(TechCard,{title:"/// ".concat(x.vision.title.toUpperCase()),accentColor:"blue",className:"h-full flex flex-col justify-center w-full",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col h-full justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-base md:text-lg lg:text-xl leading-relaxed",children:jsxRuntimeExports.jsx(Typewriter,{text:x.vision.content,startDelay:200,cursorColor:"bg-cyan-500",delay:15,active:n>=3})})})})})]})})]})]})},ServicesView=()=>{const{lang:e}=useStore(settings),x=useMousePosition(),n=UI_TEXT[e].services;return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto pt-24 md:pt-32 px-4 md:px-6 pb-40 md:pb-52 animate-slide-up",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center text-center mb-8 md:mb-16 px-2 md:px-0",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-3 tracking-tight",children:n.title}),jsxRuntimeExports.jsx("p",{className:"text-[var(--text-secondary)] text-base md:text-lg",children:n.subtitle})]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:gap-8",children:SERVICES[e].map((y,S)=>{const r=Icons[y.iconName],j=getCategoryTheme(y.title);return jsxRuntimeExports.jsxs("div",{onMouseMove:x,className:"bento-card rounded-[2rem] md:rounded-[2.5rem] p-5 md:p-10 flex flex-col items-start text-left h-full group w-full md:w-[calc(33.33%-1.5rem)] flex-grow-0",style:j.colors,children:[jsxRuntimeExports.jsx("div",{className:"h-16 w-16 md:h-20 md:h-20 rounded-3xl bg-gradient-to-br ".concat(j.gradientFrom," to-transparent flex items-center justify-center mb-6 md:mb-10 border border-[var(--card-border)] ").concat(j.text," group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-lg relative z-10"),children:jsxRuntimeExports.jsx(r,{className:"w-7 h-7 md:w-9 md:h-9 drop-shadow-sm"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-[var(--text-primary)] mb-4 md:mb-6 relative z-10 tracking-tight",children:y.title}),jsxRuntimeExports.jsx("div",{className:"flex-grow space-y-3 md:space-y-5 relative z-10 w-full flex flex-col items-start",children:y.items.map((Z,X)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-start gap-3 md:gap-4 text-[var(--text-secondary)] group-hover:text-[var(--text-primary)] transition-colors w-full",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full ".concat(j.bullet," shadow-sm flex-shrink-0 mt-2")}),jsxRuntimeExports.jsx("span",{className:"text-sm md:text-[15px] font-medium leading-relaxed",children:Z})]},X))}),jsxRuntimeExports.jsxs("div",{className:"mt-8 md:mt-10 pt-6 md:pt-8 border-t border-[var(--card-border)] relative z-10 w-full flex flex-col items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-[var(--text-tertiary)] uppercase tracking-[0.2em] mb-4",children:n.impact}),jsxRuntimeExports.jsx("div",{className:"space-y-3 w-full flex flex-col items-start",children:y.valueProp.map((Z,X)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-start gap-3 text-xs text-[var(--text-secondary)] bg-[var(--input-bg)] p-3 rounded-xl border border-[var(--card-border)] group-hover:bg-[var(--glass-glow)] transition-colors w-full max-w-[280px]",children:[jsxRuntimeExports.jsx("span",{className:j.text,children:jsxRuntimeExports.jsx(Icons.CheckCircle,{className:"w-4 h-4"})}),Z]},X))})]})]},S)})}),jsxRuntimeExports.jsxs("div",{onMouseMove:x,className:"mt-8 md:mt-12 p-5 md:p-10 bento-card rounded-[2rem] md:rounded-[2.5rem]",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold mb-6 md:mb-8 tracking-tight text-[var(--text-primary)] text-center",children:n.engagementModels}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:ENGAGEMENT_MODELS[e].map((y,S)=>{const r=Icons[y.iconName];return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-6 md:p-8 bg-[var(--input-bg)] rounded-3xl border border-[var(--card-border)] hover:bg-[var(--glass-glow)] transition-all duration-300 group cursor-default hover:-translate-y-1 text-center",children:[jsxRuntimeExports.jsx("div",{className:"mb-4 text-[var(--text-tertiary)] group-hover:text-emerald-500 group-hover:scale-110 transition-all",children:jsxRuntimeExports.jsx(r,{className:"w-6 h-6 md:w-8 md:h-8"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)] tracking-wide",children:y.label})]},S)})})]})]})},PortfolioModal=({project:e,onClose:x,lang:n})=>{var N,C,b,h,i,d,p;const[y,S]=reactExports.useState(0),[r,j]=reactExports.useState(e.presentationUrl||((b=(C=(N=e.details)==null?void 0:N.documents)==null?void 0:C[0])==null?void 0:b.url)||null),Z=UI_TEXT[n].portfolio.modal,X=reactExports.useMemo(()=>libExports.defaultLayoutPlugin(),[]);if(reactExports.useEffect(()=>{var o,M,m;j(e.presentationUrl||((m=(M=(o=e.details)==null?void 0:o.documents)==null?void 0:M[0])==null?void 0:m.url)||null)},[e]),reactExports.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),!e)return null;const V=e.screenshots&&e.screenshots.length>0?e.screenshots:[e.image],A=o=>o&&o.includes("drive.google.com");return reactDomExports.createPortal(jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 md:p-6 animate-fadeIn",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:x}),jsxRuntimeExports.jsxs("div",{className:"bg-[var(--card-bg)] backdrop-blur-3xl border border-[var(--card-border)] w-full max-w-6xl max-h-[90vh] rounded-[2rem] shadow-2xl overflow-hidden relative flex flex-col md:flex-row animate-slide-up",children:[jsxRuntimeExports.jsx("button",{onClick:x,className:"absolute top-4 right-4 z-50 p-2 rounded-full bg-black/20 hover:bg-black/40 text-white backdrop-blur-md transition-colors border border-white/10",children:jsxRuntimeExports.jsx(Icons.X,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 h-[40vh] md:h-auto bg-black relative flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow relative overflow-hidden group",children:[jsxRuntimeExports.jsx("img",{src:V[y],alt:"Project Screenshot",className:"w-full h-full object-cover object-center transition-transform duration-700 hover:scale-105"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-50"})]}),V.length>1&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 px-4 z-20",children:V.map((o,M)=>jsxRuntimeExports.jsx("button",{onClick:()=>S(M),className:"w-12 h-12 rounded-lg overflow-hidden border-2 transition-all ".concat(y===M?"border-emerald-500 scale-110":"border-white/30 opacity-70 hover:opacity-100"),children:jsxRuntimeExports.jsx("img",{src:o,alt:"thumb",className:"w-full h-full object-cover"})},M))})]}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 p-6 md:p-10 overflow-y-auto custom-scrollbar flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("span",{className:"text-emerald-500 font-bold uppercase tracking-widest text-xs mb-2 block",children:Z.caseStudy}),jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--text-primary)] mb-2 leading-tight",children:e.title}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:e.tech.split(",").map((o,M)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 rounded-full bg-[var(--input-bg)] border border-[var(--card-border)] text-[10px] font-bold uppercase tracking-wider text-[var(--text-secondary)]",children:o.trim()},M))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icons.Briefcase,{className:"w-5 h-5 text-emerald-500"})," ",Z.overview]}),jsxRuntimeExports.jsxs("p",{className:"text-[var(--text-secondary)] leading-relaxed text-sm md:text-base",children:[e.problem," ",e.solution]})]}),r&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icons.Book,{className:"w-5 h-5 text-indigo-500"})," ",Z.presentation]}),jsxRuntimeExports.jsx("div",{className:"w-full h-[400px] md:h-[500px] rounded-xl overflow-hidden border border-[var(--card-border)] shadow-sm bg-white text-black relative",children:A(r)?jsxRuntimeExports.jsx("iframe",{src:r.replace(/\/view.*/,"/preview"),title:"Project Presentation",className:"w-full h-full border-none"}):jsxRuntimeExports.jsx(libExports$1.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$1.Viewer,{fileUrl:r,plugins:[X],theme:settings.get().theme==="dark"?"dark":"light"})})}),A(r)&&jsxRuntimeExports.jsx("p",{className:"text-[10px] text-red-400 mt-2",children:"* Use local file in /public/docs/ for native viewer"}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-right",children:jsxRuntimeExports.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-bold text-emerald-500 hover:underline flex items-center justify-end gap-1",children:[Z.openTab," ",jsxRuntimeExports.jsx(Icons.ExternalLink,{className:"w-3 h-3"})]})})]}),e.videoUrl&&(e.videoUrl.includes("embed")||e.videoUrl.includes("/preview"))&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icons.Video,{className:"w-5 h-5 text-red-500"})," ",Z.demoVideo]}),jsxRuntimeExports.jsx("div",{className:"relative w-full pt-[56.25%] rounded-xl overflow-hidden border border-[var(--card-border)] bg-black/50 shadow-lg group",children:jsxRuntimeExports.jsx("iframe",{src:e.videoUrl,title:e.title,className:"absolute top-0 left-0 w-full h-full z-10",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}),e.videoUrl&&!(e.videoUrl.includes("embed")||e.videoUrl.includes("/preview"))&&jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 w-full p-4 rounded-xl bg-[var(--input-bg)] border border-[var(--card-border)] text-[var(--text-primary)] hover:border-red-500/50 hover:bg-red-500/5 transition-all group shadow-sm hover:shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center text-red-500 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Icons.Video,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-bold",children:Z.watchDemo}),jsxRuntimeExports.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:Z.externalLink})]}),jsxRuntimeExports.jsx(Icons.ExternalLink,{className:"w-4 h-4 opacity-50 group-hover:opacity-100 transition-opacity ml-auto"})]})}),((h=e.details)==null?void 0:h.currentFeatures)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icons.Layers,{className:"w-5 h-5 text-blue-500"})," ",Z.features]}),jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.details.currentFeatures.map((o,M)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3 text-sm text-[var(--text-secondary)] bg-[var(--input-bg)] p-3 rounded-xl border border-[var(--card-border)]",children:[jsxRuntimeExports.jsx(Icons.CheckCircle,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:o})]},M))})]}),((i=e.details)==null?void 0:i.techStack)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icons.Code,{className:"w-5 h-5 text-orange-500"})," ",Z.techStack]}),jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.details.techStack.map((o,M)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3 text-sm text-[var(--text-secondary)] font-mono opacity-80",children:[jsxRuntimeExports.jsx("span",{className:"text-emerald-500 font-bold",children:">"}),jsxRuntimeExports.jsx("span",{children:o})]},M))})]}),((d=e.details)==null?void 0:d.documents)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icons.Book,{className:"w-5 h-5 text-indigo-500"})," ",Z.documentation]}),jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.details.documents.map((o,M)=>{const m=r&&(r===o.url||r.includes(o.url)||o.url.includes(r));return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{onClick:()=>j(o.url),className:"w-full flex items-center gap-3 p-3 rounded-xl border transition-all group h-full text-left ".concat(m?"bg-indigo-500/10 border-indigo-500 shadow-md ring-1 ring-indigo-500/30":"bg-[var(--input-bg)] border-[var(--card-border)] hover:bg-[var(--glass-glow)]"),children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg transition-colors ".concat(m?"bg-indigo-500 text-white":"bg-indigo-500/10 text-indigo-500 group-hover:bg-indigo-500 group-hover:text-white"),children:jsxRuntimeExports.jsx(Icons.Book,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium leading-tight ".concat(m?"text-[var(--text-primary)] font-bold":"text-[var(--text-primary)]"),children:o.label}),m&&jsxRuntimeExports.jsx("div",{className:"ml-auto w-2 h-2 rounded-full bg-indigo-500"})]})},M)})})]}),((p=e.details)==null?void 0:p.upcomingFeatures)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icons.Rocket,{className:"w-5 h-5 text-purple-500"})," ",Z.roadmap]}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:e.details.upcomingFeatures.map((o,M)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3 text-sm text-[var(--text-secondary)] opacity-80",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 mt-2 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:o})]},M))})]}),jsxRuntimeExports.jsx("div",{className:"pt-4 border-t border-[var(--card-border)] flex flex-col gap-3",children:e.repoUrl&&jsxRuntimeExports.jsxs("a",{href:e.repoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm font-bold text-[var(--text-primary)] hover:text-emerald-500 transition-colors group",children:[jsxRuntimeExports.jsx(Icons.GitHub,{className:"w-5 h-5"}),Z.viewRepo,jsxRuntimeExports.jsx(Icons.ExternalLink,{className:"w-4 h-4 opacity-50 group-hover:opacity-100 transition-opacity"})]})})]})]})]})]}),document.body)},PortfolioView=()=>{const{lang:e}=useStore(settings),x=useMousePosition(),[n,y]=reactExports.useState(null),S=UI_TEXT[e].portfolio;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto pt-24 md:pt-32 px-4 md:px-6 pb-32 md:pb-40 animate-slide-up",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 md:mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-3 tracking-tight",children:S.title}),jsxRuntimeExports.jsx("p",{className:"text-[var(--text-secondary)] text-base md:text-lg",children:S.subtitle})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-10",children:PORTFOLIO[e].map((r,j)=>jsxRuntimeExports.jsxs("div",{onMouseMove:x,onClick:()=>y(r),className:"bento-card rounded-[2rem] md:rounded-[3rem] overflow-hidden group p-0 border-0 cursor-pointer",children:[jsxRuntimeExports.jsxs("div",{className:"h-[250px] md:h-[400px] overflow-hidden relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--bg-primary)] via-transparent to-transparent z-10 opacity-90"}),jsxRuntimeExports.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover transition-transform duration-[1.5s] ease-[cubic-bezier(0.16,1,0.3,1)] group-hover:scale-105"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-20 flex items-center justify-center backdrop-blur-[2px]",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-full px-6 py-3 text-white font-bold text-sm tracking-widest uppercase transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500 flex items-center gap-2",children:[S.viewDetails," ",jsxRuntimeExports.jsx(Icons.ArrowRight,{className:"w-4 h-4"})]})}),jsxRuntimeExports.jsx("div",{className:"absolute top-6 right-6 md:top-8 md:right-8 z-20 pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"px-3 py-1.5 md:px-4 md:py-2 rounded-full bg-[var(--card-bg)] border border-[var(--card-border)] text-[10px] md:text-[11px] font-bold uppercase tracking-widest text-[var(--text-primary)] backdrop-blur-xl shadow-xl",children:r.tech.split(",")[0]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-10 relative z-20 -mt-16 md:-mt-24 pointer-events-none",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl md:text-4xl font-bold text-[var(--text-primary)] mb-3 drop-shadow-lg tracking-tight",children:r.title}),jsxRuntimeExports.jsxs("p",{className:"text-emerald-500 font-semibold mb-6 md:mb-8 flex items-center gap-2 text-xs md:text-sm uppercase tracking-wider",children:[jsxRuntimeExports.jsx(Icons.CheckCircle,{className:"w-4 h-4 md:w-5 md:h-5"})," ",r.result]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-sm text-[var(--text-secondary)]",children:[jsxRuntimeExports.jsxs("div",{className:"bg-[var(--input-bg)] p-4 md:p-6 rounded-2xl border border-[var(--card-border)]",children:[jsxRuntimeExports.jsx("span",{className:"block text-[10px] uppercase tracking-widest text-[var(--text-tertiary)] mb-2 md:mb-3 font-bold",children:S.challenge}),jsxRuntimeExports.jsx("span",{className:"text-sm leading-relaxed block line-clamp-3",children:r.problem})]}),jsxRuntimeExports.jsxs("div",{className:"bg-[var(--input-bg)] p-4 md:p-6 rounded-2xl border border-[var(--card-border)]",children:[jsxRuntimeExports.jsx("span",{className:"block text-[10px] uppercase tracking-widest text-[var(--text-tertiary)] mb-2 md:mb-3 font-bold",children:S.solution}),jsxRuntimeExports.jsx("span",{className:"text-sm leading-relaxed block line-clamp-3",children:r.solution})]})]})]})]},j))})]}),n&&jsxRuntimeExports.jsx(PortfolioModal,{project:n,onClose:()=>y(null),lang:e})]})},BlogView=()=>{const{lang:e}=useStore(settings),x=useMousePosition(),n=UI_TEXT[e].blog;return jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto pt-24 md:pt-32 px-4 md:px-6 pb-32 md:pb-40 animate-slide-up",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 md:mb-16 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-3 tracking-tight",children:n.title}),jsxRuntimeExports.jsx("p",{className:"text-[var(--text-secondary)] text-base md:text-lg",children:n.subtitle})]}),jsxRuntimeExports.jsx("div",{className:"space-y-6 md:space-y-8",children:BLOG_POSTS[e].map((y,S)=>{const r=getCategoryTheme(y.category);return jsxRuntimeExports.jsxs("article",{onMouseMove:x,className:"bento-card p-6 md:p-10 rounded-[2rem] md:rounded-[2.5rem] flex flex-col md:flex-row items-start md:items-center gap-6 md:gap-8 cursor-pointer group",style:r.colors,children:[jsxRuntimeExports.jsxs("div",{className:"h-20 w-20 md:h-28 md:w-28 rounded-3xl bg-[var(--input-bg)] flex-shrink-0 flex flex-col items-center justify-center border border-[var(--card-border)] group-hover:scale-105 transition-all duration-500 group-hover:border-emerald-500/30 group-hover:shadow-[0_0_30px_rgba(52,211,153,0.1)]",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl md:text-3xl font-bold text-[var(--text-primary)] tracking-tighter",children:y.date.split(" ")[1].replace(",","")}),jsxRuntimeExports.jsx("span",{className:"text-[10px] md:text-[11px] uppercase text-[var(--text-secondary)] font-bold tracking-widest mt-1",children:y.date.split(" ")[0]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 mb-3",children:jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-3 py-1.5 rounded-lg border ".concat(r.text," ").concat(r.bg," border-current opacity-70"),children:y.category})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-[var(--text-primary)] mb-3 group-hover:text-[var(--text-primary)] transition-colors tracking-tight",children:y.title}),jsxRuntimeExports.jsx("p",{className:"text-[var(--text-secondary)] leading-relaxed text-sm md:text-base font-light",children:y.excerpt})]}),jsxRuntimeExports.jsx("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-full bg-[var(--input-bg)] text-[var(--text-primary)] flex items-center justify-center group-hover:bg-[var(--text-primary)] group-hover:text-[var(--bg-primary)] transition-all duration-300 transform group-hover:translate-x-2 border border-[var(--card-border)]",children:jsxRuntimeExports.jsx(Icons.ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5"})})]},S)})})]})},ContactView=()=>{const{lang:e}=useStore(settings),x=useMousePosition(),n=UI_TEXT[e].contact,[y,S]=reactExports.useState({name:"",email:"",message:""}),[r,j]=reactExports.useState("idle"),[Z,X]=reactExports.useState("");reactExports.useEffect(()=>{X("")},[e]);const V=h=>{S(i=>({...i,[h.target.id]:h.target.value})),Z&&X("")},A=()=>y.name.trim()?!y.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)?n.errors.email:y.message.trim()?null:n.errors.message:n.errors.name,N=async h=>{h.preventDefault();const i=A();if(i){X(i);return}j("submitting"),X("");try{(await fetch("https://formspree.io/f/xzzwknze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok?j("success"):(j("error"),X(n.errors.generic))}catch(d){j("error"),X(n.errors.network)}},C=()=>{j("idle"),S({name:"",email:"",message:""})},b=[{icon:Icons.LinkedIn,url:"https://www.linkedin.com/in/bryanvrgsc",label:"LinkedIn",color:"hover:text-[#0077b5] hover:bg-[#0077b5]/10 hover:border-[#0077b5]/30"},{icon:Icons.GitHub,url:"https://github.com/bryanvrgsc",label:"GitHub",color:"hover:text-[#333] dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/10 hover:border-black/20 dark:hover:border-white/20"},{icon:Icons.WhatsApp,url:"https://api.whatsapp.com/send?phone=12533687369",label:"WhatsApp",color:"hover:text-[#25D366] hover:bg-[#25D366]/10 hover:border-[#25D366]/30"},{icon:Icons.Instagram,url:"https://www.instagram.com/bryanvrgsc/",label:"Instagram",color:"hover:text-[#E4405F] hover:bg-[#E4405F]/10 hover:border-[#E4405F]/30"},{icon:Icons.Mail,url:"mailto:bryanvrgsc@gmail.com",label:"Email",color:"hover:text-red-500 hover:bg-red-500/10 hover:border-red-500/30"}];return r==="success"?jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto pt-24 md:pt-32 px-4 md:px-6 pb-32 md:pb-40 animate-slide-up",children:jsxRuntimeExports.jsxs("div",{onMouseMove:x,className:"bento-card p-8 md:p-12 rounded-[2.5rem] md:rounded-[3.5rem] text-center relative overflow-hidden flex flex-col items-center justify-center min-h-[400px] md:min-h-[500px]",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-emerald-500/5 to-transparent pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full flex items-center justify-center mb-6 shadow-[0_0_40px_rgba(52,211,153,0.5)] animate-pulse",children:jsxRuntimeExports.jsx(Icons.CheckCircle,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[var(--text-primary)] mb-4 tracking-tight",children:n.successTitle}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl text-[var(--text-secondary)] mb-10 max-w-md",children:n.successMessage.replace("{name}",y.name)}),jsxRuntimeExports.jsx(LiquidButton,{onClick:C,className:"px-8 py-4 md:px-8 md:py-4 text-base md:text-lg rounded-full",style:{"--card-bg":"rgba(16, 185, 129, 0.15)","--card-border":"rgba(16, 185, 129, 0.5)","--glass-glow":"rgba(16, 185, 129, 0.6)"},children:n.sendAnother})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-5xl mx-auto pt-24 md:pt-32 px-4 md:px-6 pb-32 md:pb-40 animate-slide-up",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6 items-stretch",children:[jsxRuntimeExports.jsx("div",{className:"flex md:flex-col gap-3 justify-center md:justify-center animate-slide-up",style:{animationDelay:"0.1s"},children:b.map((h,i)=>jsxRuntimeExports.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"p-5 md:p-6 rounded-2xl md:rounded-3xl bg-[var(--card-bg)] backdrop-blur-xl border border-[var(--card-border)] text-[var(--text-secondary)] transition-all duration-300 transform hover:scale-110 shadow-sm ".concat(h.color," flex items-center justify-center"),"aria-label":h.label,children:jsxRuntimeExports.jsx(h.icon,{className:"w-5 h-5 md:w-6 md:h-6"})},i))}),jsxRuntimeExports.jsxs("div",{onMouseMove:x,className:"bento-card p-6 md:p-12 rounded-[2.5rem] md:rounded-[3.5rem] text-center relative overflow-hidden flex-grow",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br from-blue-500 to-emerald-500 rounded-[2rem] mx-auto mb-6 md:mb-10 shadow-[0_20px_50px_-10px_rgba(16,185,129,0.5)] flex items-center justify-center relative z-10 transform -rotate-6 group-hover:rotate-0 transition-transform duration-700 ease-[cubic-bezier(0.16,1,0.3,1)]",children:jsxRuntimeExports.jsx(Icons.Talk,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-4 md:mb-6 relative z-10 tracking-tight",children:n.title}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl text-[var(--text-secondary)] mb-8 md:mb-12 leading-relaxed relative z-10 max-w-xl mx-auto font-light",children:n.subtitle}),jsxRuntimeExports.jsxs("form",{className:"space-y-4 md:space-y-5 text-left mb-8 md:mb-12 relative z-10 max-w-lg mx-auto",onSubmit:N,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-5",children:[jsxRuntimeExports.jsx("div",{className:"relative group",children:jsxRuntimeExports.jsx("input",{id:"name",type:"text",placeholder:n.placeholders.name,value:y.name,onChange:V,disabled:r==="submitting",className:"w-full bg-[var(--input-bg)] border border-[var(--input-border)] rounded-2xl px-5 py-5 text-[var(--text-primary)] placeholder:text-[var(--text-secondary)] focus:outline-none focus:border-emerald-500/50 focus:bg-[var(--glass-glow)] transition-all text-sm focus:ring-1 focus:ring-emerald-500/50 disabled:opacity-50"})}),jsxRuntimeExports.jsx("div",{className:"relative group",children:jsxRuntimeExports.jsx("input",{id:"email",type:"email",placeholder:n.placeholders.email,value:y.email,onChange:V,disabled:r==="submitting",className:"w-full bg-[var(--input-bg)] border border-[var(--input-border)] rounded-2xl px-5 py-5 text-[var(--text-primary)] placeholder:text-[var(--text-secondary)] focus:outline-none focus:border-emerald-500/50 focus:bg-[var(--glass-glow)] transition-all text-sm focus:ring-1 focus:ring-emerald-500/50 disabled:opacity-50"})})]}),jsxRuntimeExports.jsx("div",{className:"relative group",children:jsxRuntimeExports.jsx("textarea",{id:"message",placeholder:n.placeholders.message,rows:4,value:y.message,onChange:V,disabled:r==="submitting",className:"w-full bg-[var(--input-bg)] border border-[var(--input-border)] rounded-2xl px-5 py-5 text-[var(--text-primary)] placeholder:text-[var(--text-secondary)] focus:outline-none focus:border-emerald-500/50 focus:bg-[var(--glass-glow)] transition-all resize-none text-sm focus:ring-1 focus:ring-emerald-500/50 disabled:opacity-50"})}),Z&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-sm text-center font-medium bg-red-500/10 py-2 rounded-xl border border-red-500/20 animate-pulse",children:Z}),jsxRuntimeExports.jsx(LiquidButton,{type:"submit",className:"w-full py-5 md:py-6 text-lg md:text-xl font-bold tracking-wide rounded-full",style:{"--card-bg":"rgba(16, 185, 129, 0.15)","--card-hover-bg":"rgba(16, 185, 129, 0.25)","--card-border":"rgba(16, 185, 129, 0.5)","--glass-glow":"rgba(16, 185, 129, 0.6)","--highlight-color":"rgba(16, 185, 129, 0.2)"},children:r==="submitting"?n.button.sending:n.button.default})]}),jsxRuntimeExports.jsx("p",{className:"mt-6 md:mt-8 text-xs text-[var(--text-tertiary)] relative z-10 font-medium uppercase tracking-widest",children:n.responseTime})]})]})})};export{BlogView,ContactView,HomeView,PortfolioView,ServicesView};
